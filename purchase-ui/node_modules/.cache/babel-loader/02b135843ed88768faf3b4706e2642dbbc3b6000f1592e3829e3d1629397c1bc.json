{"ast":null,"code":"var _jsxFileName = \"/Users/leonofv/Desktop/purchase-ui/src/components/pages/customer/CustomerList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Table, TextField } from '@consta/uikit/Table';\nimport { Button } from '@consta/uikit/Button';\nimport { IconEdit } from '@consta/icons/IconEdit';\nimport { IconTrash } from '@consta/icons/IconTrash';\nimport { getCustomers } from './api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  title: 'Код',\n  accessor: 'customer_code'\n}, {\n  title: 'Наименование',\n  accessor: 'customer_name'\n}, {\n  title: 'ИНН',\n  accessor: 'customer_inn'\n}, {\n  title: 'КПП',\n  accessor: 'customer_kpp'\n}, {\n  title: 'Юр. адрес',\n  accessor: 'customer_legal_address'\n}, {\n  title: 'Почтовый адрес',\n  accessor: 'customer_postal_address'\n}, {\n  title: 'Электронная почта',\n  accessor: 'customer_email'\n}, {\n  title: 'Действия',\n  accessor: 'actions',\n  renderCell: customer => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      iconLeft: IconEdit,\n      size: \"s\",\n      view: \"ghost\",\n      onClick: () => console.log(`Изменить ${customer.customer_code}`),\n      style: {\n        marginRight: '8px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      iconLeft: IconTrash,\n      size: \"s\",\n      view: \"ghost\",\n      onClick: () => console.log(`Удалить ${customer.customer_code}`)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true)\n}];\nconst CustomerList = () => {\n  _s();\n  const [customers, setCustomers] = useState([]);\n  const [filter, setFilter] = useState('');\n  useEffect(() => {\n    getCustomers().then(data => setCustomers(data));\n  }, []);\n  const filteredCustomers = customers.filter(customer => customer.customer_name.toLowerCase().includes(filter.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      value: filter,\n      onChange: ({\n        value\n      }) => setFilter(value !== null && value !== void 0 ? value : ''),\n      placeholder: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u043F\\u043E \\u043D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u044E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      rows: filteredCustomers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomerList, \"TUgfebk0403lvZ8yoKCLmBpqOE4=\");\n_c = CustomerList;\nexport default CustomerList;\nvar _c;\n$RefreshReg$(_c, \"CustomerList\");","map":{"version":3,"names":["React","useEffect","useState","Table","TextField","Button","IconEdit","IconTrash","getCustomers","jsxDEV","_jsxDEV","Fragment","_Fragment","columns","title","accessor","renderCell","customer","children","iconLeft","size","view","onClick","console","log","customer_code","style","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","CustomerList","_s","customers","setCustomers","filter","setFilter","then","data","filteredCustomers","customer_name","toLowerCase","includes","value","onChange","placeholder","rows","_c","$RefreshReg$"],"sources":["/Users/leonofv/Desktop/purchase-ui/src/components/pages/customer/CustomerList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Table, TableColumn, TextField } from '@consta/uikit/Table';\nimport { Button } from '@consta/uikit/Button';\nimport { IconEdit } from '@consta/icons/IconEdit';\nimport { IconTrash } from '@consta/icons/IconTrash';\nimport {\n  getCustomers,\n  addCustomer,\n  updateCustomer,\n  deleteCustomer,\n} from './api';\n\ninterface Customer {\n  customer_code: string;\n  customer_name: string;\n  customer_inn: string;\n  customer_kpp: string;\n  customer_legal_address: string;\n  customer_postal_address: string;\n  customer_email: string;\n  customer_code_main: string;\n  is_organization: boolean;\n  is_person: boolean;\n}\n\nconst columns: TableColumn<Customer>[] = [\n  {\n    title: 'Код',\n    accessor: 'customer_code',\n  },\n  {\n    title: 'Наименование',\n    accessor: 'customer_name',\n  },\n  {\n    title: 'ИНН',\n    accessor: 'customer_inn',\n  },\n  {\n    title: 'КПП',\n    accessor: 'customer_kpp',\n  },\n  {\n    title: 'Юр. адрес',\n    accessor: 'customer_legal_address',\n  },\n  {\n    title: 'Почтовый адрес',\n    accessor: 'customer_postal_address',\n  },\n  {\n    title: 'Электронная почта',\n    accessor: 'customer_email',\n  },\n  {\n    title: 'Действия',\n    accessor: 'actions',\n    renderCell: (customer) => (\n      <>\n        <Button\n          iconLeft={IconEdit}\n          size=\"s\"\n          view=\"ghost\"\n          onClick={() => console.log(`Изменить ${customer.customer_code}`)}\n          style={{ marginRight: '8px' }}\n        />\n        <Button\n          iconLeft={IconTrash}\n          size=\"s\"\n          view=\"ghost\"\n          onClick={() => console.log(`Удалить ${customer.customer_code}`)}\n        />\n      </>\n    ),\n  },\n];\n\nconst CustomerList: React.FC = () => {\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [filter, setFilter] = useState<string>('');\n\n  useEffect(() => {\n    getCustomers().then((data) => setCustomers(data));\n  }, []);\n\n  const filteredCustomers = customers.filter((customer) =>\n    customer.customer_name.toLowerCase().includes(filter.toLowerCase())\n  );\n\n  return (\n    <div>\n      <TextField\n        value={filter}\n        onChange={({ value }) => setFilter(value ?? '')}\n        placeholder=\"Фильтр по наименованию\"\n      />\n      <Table columns={columns} rows={filteredCustomers} />\n    </div>\n  );\n};\n\nexport default CustomerList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}