{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useMutableRef } from \"../useMutableRef\";\nimport { isEq } from \"../../utils/object\";\nimport { mapping } from \"./mapping\";\nexport var useWindowBreakpoints = function (a) {\n  var b = a.isActive,\n    c = a.map,\n    d = useMutableRef(c),\n    e = useCallback(function () {\n      return mapping(window.innerWidth, d.current);\n    }, []),\n    f = useState(e),\n    g = _slicedToArray(f, 2),\n    h = g[0],\n    i = g[1];\n  return useEffect(function () {\n    e();\n    var a = function () {\n      var a = e();\n      i(function (b) {\n        return isEq(b, a) ? b : a;\n      });\n    };\n    return b && window.addEventListener(\"resize\", a), function () {\n      return window.removeEventListener(\"resize\", a);\n    };\n  }, [b]), h;\n};","map":{"version":3,"names":["useCallback","useEffect","useState","useMutableRef","isEq","mapping","useWindowBreakpoints","a","b","isActive","c","map","d","e","window","innerWidth","current","f","g","_slicedToArray","h","i","subscribe","addEventListener","removeEventListener"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/hooks/useBreakpoints/useWindowBreakpoints.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\n\nimport { useMutableRef } from '##/hooks/useMutableRef';\nimport { isEq } from '##/utils/object';\n\nimport { mapping } from './mapping';\nimport { Map, Returned } from './types';\n\nexport const useWindowBreakpoints = <POINTS extends string>({\n  isActive,\n  map,\n}: {\n  isActive?: boolean;\n  map: Map<POINTS>;\n}) => {\n  const mapRef = useMutableRef(map);\n  const mappingRun = useCallback(\n    () => mapping(window.innerWidth, mapRef.current),\n    [],\n  );\n  const [points, setPoints] = useState<Returned<POINTS>>(mappingRun);\n\n  useEffect(() => {\n    mappingRun();\n\n    const subscribe = () => {\n      const newPoints = mappingRun();\n\n      setPoints((state) => (isEq(state, newPoints) ? state : newPoints));\n    };\n\n    isActive && window.addEventListener('resize', subscribe);\n\n    return () => window.removeEventListener('resize', subscribe);\n  }, [isActive]);\n\n  return points;\n};\n"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AAEA,SAASC,aAAT;AACA,SAASC,IAAT;AAEA,SAASC,OAAT;AAGA,OAAO,IAAMC,oBAAoB,GAAG,SAAAA,CAAAC,CAAA,EAM9B;EAAA,IALJC,CAKI,GAAAD,CAAA,CALJE,QAKI;IAJJC,CAII,GAAAH,CAAA,CAJJI,GAII;IACEC,CAAM,GAAGT,aAAa,CAACO,CAAD,CADxB;IAEEG,CAAU,GAAGb,WAAW,CAC5B;MAAA,OAAMK,OAAO,CAACS,MAAM,CAACC,UAAR,EAAoBH,CAAM,CAACI,OAA3B,CAAb;IAAA,CAD4B,EAE5B,EAF4B,CAF1B;IAAAC,CAAA,GAMwBf,QAAQ,CAAmBW,CAAnB,CANhC;IAAAK,CAAA,GAAAC,cAAA,CAAAF,CAAA;IAMGG,CANH,GAAAF,CAAA;IAMWG,CANX,GAAAH,CAAA;EAsBJ,OAdAjB,SAAS,CAAC,YAAM;IACdY,CAAU,EADI;IAGd,IAAMN,CAAS,GAAG,SAAAe,CAAA,EAAM;MACtB,IAAMf,CAAS,GAAGM,CAAU,EAA5B;MAEAQ,CAAS,CAAC,UAACb,CAAD;QAAA,OAAYJ,IAAI,CAACI,CAAD,EAAQD,CAAR,CAAJ,GAAyBC,CAAzB,GAAiCD,CAA7C;MAAA,CAAD,CACV;IAAA,CAJD;IAQA,OAFAC,CAAQ,IAAIM,MAAM,CAACS,gBAAP,CAAwB,QAAxB,EAAkChB,CAAlC,CAEZ,EAAO;MAAA,OAAMO,MAAM,CAACU,mBAAP,CAA2B,QAA3B,EAAqCjB,CAArC,CAAN;IAAA,CACR;EAAA,CAZQ,EAYN,CAACC,CAAD,CAZM,CAcT,EAAOY,CACR;AAAA,CA7BM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}