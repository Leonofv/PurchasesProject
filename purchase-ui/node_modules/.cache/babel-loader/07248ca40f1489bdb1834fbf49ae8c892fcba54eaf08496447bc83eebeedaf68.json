{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"mode\", \"onChange\", \"checked\", \"onCancel\", \"onClick\"];\nimport React, { forwardRef, useRef } from \"react\";\nimport { useForkRef } from \"../../hooks/useForkRef/useForkRef\";\nimport { usePropsHandler } from \"../EventInterceptor/usePropsHandler\";\nimport { TagBase } from \"../TagBase/TagBase\";\nexport var tagPropMode = [\"button\", \"check\", \"cancel\", \"link\", \"info\"];\nexport var tagPropModeDefault = tagPropMode[0];\nexport function getParams(a, b, c, d, e) {\n  return \"button\" === a ? {\n    view: \"filled\",\n    onClick: c,\n    as: \"button\",\n    withAction: !0\n  } : \"link\" === a ? {\n    view: \"filled\",\n    onClick: c,\n    as: \"a\",\n    withAction: !0\n  } : \"check\" === a ? {\n    view: b ? \"filled\" : \"stroked\",\n    onClick: \"function\" == typeof d ? function (a) {\n      return d(!b, {\n        e: a,\n        checked: !b\n      });\n    } : void 0,\n    as: \"button\",\n    withAction: !0\n  } : \"cancel\" === a ? {\n    view: \"filled\",\n    onCancel: e,\n    as: \"span\"\n  } : \"info\" === a ? {\n    view: \"filled\",\n    as: \"span\"\n  } : void 0;\n}\nexport var COMPONENT_NAME = \"Tag\";\nvar TagRenter = function (a, b) {\n  var c = useRef(null),\n    d = usePropsHandler(COMPONENT_NAME, a, c),\n    e = d.mode,\n    f = void 0 === e ? tagPropModeDefault : e,\n    g = d.onChange,\n    h = d.checked,\n    i = d.onCancel,\n    j = d.onClick,\n    k = _objectWithoutProperties(d, _excluded),\n    l = getParams(f, h, j, g, i);\n  return React.createElement(TagBase, Object.assign({}, k, l, {\n    ref: useForkRef([b, c])\n  }));\n};\nexport var Tag = forwardRef(TagRenter);","map":{"version":3,"names":["React","forwardRef","useRef","useForkRef","usePropsHandler","TagBase","tagPropMode","tagPropModeDefault","getParams","a","b","c","d","e","view","onClick","as","withAction","checked","onCancel","COMPONENT_NAME","TagRenter","mode","f","g","onChange","h","i","j","k","_objectWithoutProperties","_excluded","l","createElement","Object","assign","ref","Tag"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/components/Tag/Tag.tsx"],"sourcesContent":["import { IconComponent, IconProps } from '@consta/icons/Icon';\nimport React, { forwardRef, useRef } from 'react';\n\nimport { AsTagAttribute, AsTags } from '##/utils/types/AsTags';\n\nimport { useForkRef } from '../../hooks/useForkRef/useForkRef';\nimport { usePropsHandler } from '../EventInterceptor/usePropsHandler';\nimport { TagBase } from '../TagBase/TagBase';\n\ntype TagBaseProps = React.ComponentProps<typeof TagBase>;\n\nexport const tagPropMode = [\n  'button',\n  'check',\n  'cancel',\n  'link',\n  'info',\n] as const;\nexport const tagPropModeDefault = tagPropMode[0];\ntype TagPropMode = typeof tagPropMode[number];\n\ntype CommonProps = {\n  size?: TagBaseProps['size'];\n  label: TagBaseProps['label'];\n  group?: TagBaseProps['group'];\n  icon?: IconComponent;\n  iconSize?: IconProps['size'];\n  children?: never;\n};\n\ntype PropsWithModeButton = CommonProps & {\n  mode?: 'button';\n  onClick: React.MouseEventHandler<HTMLButtonElement>;\n  checked?: never;\n  onChange?: never;\n  onCancel?: never;\n};\n\ntype PropsWithModeLink = CommonProps & {\n  mode: 'link';\n  checked?: never;\n  onChange?: never;\n  onCancel?: never;\n};\n\ntype PropsWithModeCheck = CommonProps & {\n  mode: 'check';\n  onChange: (\n    checked: boolean,\n    params: { e?: React.MouseEvent; checked: boolean },\n  ) => void;\n  checked: boolean;\n  onClick?: never;\n  onCancel?: never;\n};\n\ntype PropsWithModeCancel = CommonProps & {\n  mode: 'cancel';\n  onCancel: React.MouseEventHandler<HTMLButtonElement>;\n  onClick?: never;\n  onChange?: never;\n  checked?: never;\n};\n\ntype PropsWithModeInfo = CommonProps & {\n  mode: 'info';\n  onCancel?: never;\n  onClick?: never;\n  onChange?: never;\n  checked?: never;\n};\n\ntype Props<ROLE extends TagPropMode = 'button'> = ROLE extends 'button'\n  ? PropsWithModeButton &\n      Omit<AsTagAttribute<'button'>, keyof PropsWithModeButton>\n  : {} & ROLE extends 'check'\n  ? PropsWithModeCheck &\n      Omit<AsTagAttribute<'button'>, keyof PropsWithModeCheck>\n  : {} & ROLE extends 'cancel'\n  ? PropsWithModeCancel &\n      Omit<AsTagAttribute<'span'>, keyof PropsWithModeCancel>\n  : {} & ROLE extends 'link'\n  ? PropsWithModeLink & Omit<AsTagAttribute<'a'>, keyof PropsWithModeLink>\n  : {} & ROLE extends 'info'\n  ? PropsWithModeInfo & Omit<AsTagAttribute<'span'>, keyof PropsWithModeInfo>\n  : {};\n\ntype TagRender = <ROLE extends TagPropMode>(\n  props: Props<ROLE>,\n  ref: React.Ref<HTMLElement>,\n) => React.ReactElement | null;\n\ntype TagComponent = <ROLE extends TagPropMode>(\n  props: Props<ROLE> & React.RefAttributes<HTMLElement>,\n) => React.ReactElement | null;\n\nexport function getParams(\n  mode: TagPropMode,\n  checked?: PropsWithModeCheck['checked'],\n  onClick?: React.MouseEventHandler,\n  onChange?: PropsWithModeCheck['onChange'],\n  onCancel?: PropsWithModeCancel['onCancel'],\n): {\n  view?: TagBaseProps['view'];\n  onClick?: TagBaseProps['onClick'];\n  onCancel?: TagBaseProps['onCancel'];\n  withAction?: TagBaseProps['withAction'];\n  as: AsTags;\n} {\n  switch (mode) {\n    case 'button':\n      return {\n        view: 'filled',\n        onClick,\n        as: 'button',\n        withAction: true,\n      };\n    case 'link':\n      return {\n        view: 'filled',\n        onClick,\n        as: 'a',\n        withAction: true,\n      };\n    case 'check':\n      return {\n        view: checked ? 'filled' : 'stroked',\n        onClick:\n          typeof onChange === 'function'\n            ? (e: React.MouseEvent) =>\n                onChange(!checked, { e, checked: !checked })\n            : undefined,\n        as: 'button',\n        withAction: true,\n      };\n    case 'cancel':\n      return {\n        view: 'filled',\n        onCancel,\n        as: 'span',\n      };\n    case 'info':\n      return {\n        view: 'filled',\n        as: 'span',\n      };\n  }\n}\n\nexport const COMPONENT_NAME = 'Tag' as const;\n\nconst TagRenter: TagRender = (props, ref) => {\n  const tagRef = useRef<HTMLDivElement>(null);\n  const {\n    mode = tagPropModeDefault,\n    onChange,\n    checked,\n    onCancel,\n    onClick,\n    ...otherProps\n  } = usePropsHandler(COMPONENT_NAME, props, tagRef);\n  const params = getParams(mode, checked, onClick, onChange, onCancel);\n\n  return (\n    <TagBase {...otherProps} {...params} ref={useForkRef([ref, tagRef])} />\n  );\n};\n\nexport const Tag = forwardRef(TagRenter) as TagComponent;\n"],"mappings":";;AACA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,MAA5B,QAA0C,OAA1C;AAIA,SAASC,UAAT;AACA,SAASC,eAAT;AACA,SAASC,OAAT;AAIA,OAAO,IAAMC,WAAW,GAAG,CACzB,QADyB,EAEzB,OAFyB,EAGzB,QAHyB,EAIzB,MAJyB,EAKzB,MALyB,CAApB;AAOP,OAAO,IAAMC,kBAAkB,GAAGD,WAAW,CAAC,CAAD,CAAtC;AA8EP,OAAO,SAASE,SAATA,CACLC,CADK,EAELC,CAFK,EAGLC,CAHK,EAILC,CAJK,EAKLC,CALK,EAYL;EAAA,OAEO,QAFP,KACQJ,CADR,GAGW;IACLK,IAAI,EAAE,QADD;IAELC,OAAO,EAAPJ,CAFK;IAGLK,EAAE,EAAE,QAHC;IAILC,UAAU;EAJL,CAHX,GASO,MATP,KACQR,CADR,GAUW;IACLK,IAAI,EAAE,QADD;IAELC,OAAO,EAAPJ,CAFK;IAGLK,EAAE,EAAE,GAHC;IAILC,UAAU;EAJL,CAVX,GAgBO,OAhBP,KACQR,CADR,GAiBW;IACLK,IAAI,EAAEJ,CAAO,GAAG,QAAH,GAAc,SADtB;IAELK,OAAO,EACe,UAApB,WAAOH,CAAP,GACI,UAACH,CAAD;MAAA,OACEG,CAAQ,CAAC,CAACF,CAAF,EAAW;QAAEG,CAAC,EAADJ,CAAF;QAAKS,OAAO,EAAE,CAACR;MAAf,CAAX,CADV;IAAA,CADJ,SAHG;IAOLM,EAAE,EAAE,QAPC;IAQLC,UAAU;EARL,CAjBX,GA2BO,QA3BP,KACQR,CADR,GA4BW;IACLK,IAAI,EAAE,QADD;IAELK,QAAQ,EAARN,CAFK;IAGLG,EAAE,EAAE;EAHC,CA5BX,GAiCO,MAjCP,KACQP,CADR,GAkCW;IACLK,IAAI,EAAE,QADD;IAELE,EAAE,EAAE;EAFC,CAlCX,SAuCD;AAAA;AAED,OAAO,IAAMI,cAAc,GAAG,KAAvB;AAEP,IAAMC,SAAoB,GAAG,SAAAA,CAACZ,CAAD,EAAQC,CAAR,EAAgB;EAAA,IACrCC,CAAM,GAAGT,MAAM,CAAiB,IAAjB,CADsB;IAAAU,CAAA,GASvCR,eAAe,CAACgB,cAAD,EAAiBX,CAAjB,EAAwBE,CAAxB,CATwB;IAAAE,CAAA,GAAAD,CAAA,CAGzCU,IAHyC;IAGzCC,CAHyC,cAAAV,CAAA,GAGlCN,kBAHkC,GAAAM,CAAA;IAIzCW,CAJyC,GAAAZ,CAAA,CAIzCa,QAJyC;IAKzCC,CALyC,GAAAd,CAAA,CAKzCM,OALyC;IAMzCS,CANyC,GAAAf,CAAA,CAMzCO,QANyC;IAOzCS,CAPyC,GAAAhB,CAAA,CAOzCG,OAPyC;IAQtCc,CARsC,GAAAC,wBAAA,CAAAlB,CAAA,EAAAmB,SAAA;IAUrCC,CAAM,GAAGxB,SAAS,CAACe,CAAD,EAAOG,CAAP,EAAgBE,CAAhB,EAAyBJ,CAAzB,EAAmCG,CAAnC,CAVmB;EAY3C,OACE3B,KAAA,CAAAiC,aAAA,CAAC5B,OAAD,EAAA6B,MAAA,CAAAC,MAAA,KAAaN,CAAb,EAA6BG,CAA7B;IAAqCI,GAAG,EAAEjC,UAAU,CAAC,CAACO,CAAD,EAAMC,CAAN,CAAD;EAApD,GAEH;AAAA,CAfD;AAiBA,OAAO,IAAM0B,GAAG,GAAGpC,UAAU,CAACoB,SAAD,CAAtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}