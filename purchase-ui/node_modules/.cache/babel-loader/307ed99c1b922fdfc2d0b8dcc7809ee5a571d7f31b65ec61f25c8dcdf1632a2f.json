{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar _excluded = [\"children\", \"direction\", \"offset\", \"arrowOffset\", \"possibleDirections\", \"isInteractive\", \"onClickOutside\", \"spareDirection\", \"style\", \"className\", \"position\", \"anchorRef\", \"equalAnchorWidth\", \"onSetDirection\"];\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport \"./Popover.css\";\nimport React, { forwardRef, useEffect, useLayoutEffect, useMemo } from \"react\";\nimport { PortalWithTheme, usePortalContext } from \"../PortalWithTheme\";\nimport { useTheme } from \"../Theme/Theme\";\nimport { useClickOutside } from \"../../hooks/useClickOutside\";\nimport { useComponentSize } from \"../../hooks/useComponentSize\";\nimport { useForkRef } from \"../../hooks/useForkRef\";\nimport { cn } from \"../../utils/bem\";\nimport { isRenderProp } from \"../../utils/isRenderProp\";\nimport { isNumber, isString } from \"../../utils/type-guards\";\nimport { getComputedPositionAndDirection } from \"./helpers\";\nimport { usePopoverReposition } from \"./usePopoverReposition\";\nexport var directionsStartCenter = [\"downCenter\", \"upCenter\", \"downRight\", \"downLeft\", \"upRight\", \"upLeft\", \"leftUp\", \"leftCenter\", \"leftDown\", \"rightUp\", \"rightCenter\", \"rightDown\"];\nexport var directionsStartEdge = [\"downStartLeft\", \"upStartLeft\", \"downStartRight\", \"upStartRight\", \"leftStartUp\", \"leftStartDown\", \"rightStartUp\", \"rightStartDown\"];\nexport var popoverPropOffset = [\"3xs\", \"2xs\", \"xs\", \"s\", \"m\", \"l\", \"xl\", \"2xl\", \"3xl\", \"4xl\", \"5xl\", \"6xl\"];\nexport var directions = [].concat(directionsStartCenter, directionsStartEdge);\nvar getOffset = function (a, b) {\n    if (isNumber(b)) return b;\n    if (isString(b) && a.current) {\n      var g = getComputedStyle(a.current).getPropertyValue(\"--space-\".concat(b));\n      if (g && /px$/.test(g)) return +g.slice(0, g.length - 2);\n      if (g && /rem$/.test(g)) {\n        var c = parseFloat(getComputedStyle(document.documentElement).fontSize),\n          d = +g.slice(0, g.length - 3);\n        return c * d;\n      }\n      if (g && /em$/.test(g)) {\n        var e = parseFloat(getComputedStyle(a.current).fontSize),\n          f = +g.slice(0, g.length - 2);\n        return e * f;\n      }\n      return 0;\n    }\n    return 0;\n  },\n  ContextConsumer = function (a) {\n    var b = a.onClickOutside,\n      c = a.children,\n      d = a.ignoreClicksInsideRefs,\n      e = usePortalContext(),\n      f = e.refs;\n    return useClickOutside({\n      isActive: !!b,\n      ignoreClicksInsideRefs: [].concat(_toConsumableArray(d || []), _toConsumableArray(f || [])),\n      handler: b\n    }), c;\n  },\n  cnPopover = cn(\"Popover\");\nexport var Popover = forwardRef(function (a, b) {\n  var c,\n    d = a.children,\n    e = a.direction,\n    f = void 0 === e ? \"upCenter\" : e,\n    g = a.offset,\n    h = void 0 === g ? 0 : g,\n    i = a.arrowOffset,\n    j = a.possibleDirections,\n    k = void 0 === j ? directions : j,\n    l = a.isInteractive,\n    m = a.onClickOutside,\n    n = a.spareDirection,\n    o = void 0 === n ? \"downStartLeft\" : n,\n    p = a.style,\n    q = a.className,\n    r = a.position,\n    s = a.anchorRef,\n    t = a.equalAnchorWidth,\n    u = a.onSetDirection,\n    v = _objectWithoutProperties(a, _excluded),\n    w = React.useRef(null),\n    x = useTheme(),\n    y = x.theme,\n    z = React.useState(),\n    A = _slicedToArray(z, 2),\n    B = A[0],\n    C = A[1],\n    D = useComponentSize(w),\n    E = D.width,\n    F = D.height,\n    G = useComponentSize(s || {\n      current: null\n    }),\n    H = React.useRef(null),\n    I = React.useState([]),\n    J = _slicedToArray(I, 2),\n    K = J[0],\n    L = J[1],\n    M = function () {\n      L(function (a) {\n        return a.length ? [] : a;\n      }), H.current = null;\n    },\n    N = function () {\n      var a;\n      return C(null === s || void 0 === s || null === (a = s.current) || void 0 === a ? void 0 : a.getBoundingClientRect());\n    },\n    O = useMemo(function () {\n      return getOffset(w, h);\n    }, [h, !!w.current]),\n    P = getComputedPositionAndDirection({\n      contentSize: {\n        width: E,\n        height: F\n      },\n      viewportSize: {\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight\n      },\n      arrowOffset: i,\n      offset: O,\n      direction: f,\n      possibleDirections: k,\n      bannedDirections: K,\n      position: B ? {\n        x: B.left,\n        y: B.top\n      } : r,\n      anchorSize: G,\n      spareDirection: o\n    }),\n    Q = P.position,\n    R = P.direction;\n  useEffect(function () {\n    return null === u || void 0 === u ? void 0 : u(R);\n  }, [R]), useEffect(N, [G]), usePopoverReposition({\n    isActive: !0,\n    scrollAnchorRef: s || {\n      current: null\n    },\n    onRequestReposition: function onRequestReposition() {\n      M(), N();\n    }\n  }), useLayoutEffect(function () {\n    H.current !== R && (H.current && !K.includes(H.current) && !K.includes(R) && R !== o && L(function (a) {\n      return H.current ? [].concat(_toConsumableArray(a), [H.current]) : a;\n    }), H.current = R);\n  }, [R]), useLayoutEffect(M, [a]);\n  var S = !Q || !F || !E;\n  return React.createElement(PortalWithTheme, Object.assign({}, v, {\n    preset: y,\n    className: cnPopover({\n      direction: R,\n      notVisible: S\n    }, [q]),\n    container: window.document.body,\n    ref: useForkRef([w, b]),\n    style: _objectSpread(_objectSpread({}, p), S ? {} : (c = {}, _defineProperty(c, \"--popover-top\", \"\".concat(((null === Q || void 0 === Q ? void 0 : Q.y) || 0) + window.scrollY, \"px\")), _defineProperty(c, \"--popover-left\", \"\".concat(((null === Q || void 0 === Q ? void 0 : Q.x) || 0) + window.scrollX, \"px\")), _defineProperty(c, \"--popover-width\", t ? \"\".concat(G.width, \"px\") : void 0), _defineProperty(c, \"--popover-pointer-events\", !(void 0 !== l) || l ? void 0 : \"none\"), _defineProperty(c, \"--popover-visibility\", Q ? void 0 : \"hidden\"), c))\n  }), React.createElement(ContextConsumer, {\n    onClickOutside: m,\n    ignoreClicksInsideRefs: [w, s || {\n      current: null\n    }]\n  }, isRenderProp(d) ? d(R) : d));\n});","map":{"version":3,"names":["React","forwardRef","useEffect","useLayoutEffect","useMemo","PortalWithTheme","usePortalContext","useTheme","useClickOutside","useComponentSize","useForkRef","cn","isRenderProp","isNumber","isString","getComputedPositionAndDirection","usePopoverReposition","directionsStartCenter","directionsStartEdge","popoverPropOffset","directions","concat","getOffset","a","b","current","g","getComputedStyle","getPropertyValue","test","slice","length","c","parseFloat","document","documentElement","fontSize","d","e","f","ContextConsumer","onClickOutside","children","ignoreClicksInsideRefs","refs","isActive","_toConsumableArray","handler","cnPopover","Popover","direction","offset","h","i","arrowOffset","j","possibleDirections","k","l","isInteractive","m","n","spareDirection","o","p","style","q","className","r","position","s","anchorRef","t","equalAnchorWidth","u","onSetDirection","v","_objectWithoutProperties","_excluded","w","useRef","x","y","theme","z","useState","A","_slicedToArray","B","C","D","E","width","F","height","G","H","I","J","K","L","M","resetBannedDirections","N","updateAnchorClientRect","getBoundingClientRect","O","P","contentSize","viewportSize","clientWidth","clientHeight","bannedDirections","left","top","anchorSize","Q","R","scrollAnchorRef","onRequestReposition","includes","S","createElement","Object","assign","preset","notVisible","container","window","body","ref","_objectSpread","_defineProperty","scrollY","scrollX"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/components/Popover/Popover.tsx"],"sourcesContent":["import './Popover.css';\n\nimport React, { forwardRef, useEffect, useLayoutEffect, useMemo } from 'react';\n\nimport {\n  PortalWithTheme,\n  usePortalContext,\n} from '##/components/PortalWithTheme';\nimport { useTheme } from '##/components/Theme/Theme';\nimport { ClickOutsideHandler, useClickOutside } from '##/hooks/useClickOutside';\nimport { useComponentSize } from '##/hooks/useComponentSize';\nimport { useForkRef } from '##/hooks/useForkRef';\nimport { cn } from '##/utils/bem';\nimport { isRenderProp } from '##/utils/isRenderProp';\nimport { isNumber, isString } from '##/utils/type-guards';\nimport { PropsWithJsxAttributes } from '##/utils/types/PropsWithJsxAttributes';\n\nimport { getComputedPositionAndDirection } from './helpers';\nimport { usePopoverReposition } from './usePopoverReposition';\n\n/**\n * Стороны упорядочены по приоритету:\n * Используется первая сторона, в которую смог вписаться поповер.\n */\nexport const directionsStartCenter = [\n  'downCenter',\n  'upCenter',\n\n  'downRight',\n  'downLeft',\n  'upRight',\n  'upLeft',\n\n  'leftUp',\n  'leftCenter',\n  'leftDown',\n\n  'rightUp',\n  'rightCenter',\n  'rightDown',\n] as const;\n\nexport const directionsStartEdge = [\n  'downStartLeft',\n  'upStartLeft',\n\n  'downStartRight',\n  'upStartRight',\n\n  'leftStartUp',\n  'leftStartDown',\n\n  'rightStartUp',\n  'rightStartDown',\n] as const;\n\nexport const popoverPropOffset = [\n  '3xs',\n  '2xs',\n  'xs',\n  's',\n  'm',\n  'l',\n  'xl',\n  '2xl',\n  '3xl',\n  '4xl',\n  '5xl',\n  '6xl',\n] as const;\nexport type PopoverPropOffset = typeof popoverPropOffset[number] | number;\n\nexport const directions = [...directionsStartCenter, ...directionsStartEdge];\n\nexport type Direction = typeof directions[number];\n\nexport type Position = { x: number; y: number } | undefined;\n\nexport type PositioningProps =\n  | {\n      anchorRef: React.RefObject<HTMLElement>;\n      equalAnchorWidth?: boolean;\n      position?: never;\n    }\n  | {\n      anchorRef?: never;\n      equalAnchorWidth?: never;\n      position: Position;\n    };\n\ntype ChildrenRenderProp = (direction: Direction) => React.ReactNode;\n\nexport type Props = PropsWithJsxAttributes<\n  {\n    direction?: Direction;\n    spareDirection?: Direction;\n    offset?: PopoverPropOffset;\n    arrowOffset?: number;\n    possibleDirections?: readonly Direction[];\n    isInteractive?: boolean;\n    children: React.ReactNode | ChildrenRenderProp;\n    onClickOutside?: ClickOutsideHandler;\n    onSetDirection?: (direction: Direction) => void;\n  } & PositioningProps\n>;\n\nconst getOffset = (\n  ref: React.RefObject<HTMLDivElement>,\n  propOffset: PopoverPropOffset,\n) => {\n  if (isNumber(propOffset)) {\n    return propOffset;\n  }\n\n  if (isString(propOffset) && ref.current) {\n    const cssVar = getComputedStyle(ref.current).getPropertyValue(\n      `--space-${propOffset}`,\n    );\n\n    if (cssVar && /px$/.test(cssVar)) {\n      return Number(cssVar.slice(0, cssVar.length - 2));\n    }\n\n    if (cssVar && /rem$/.test(cssVar)) {\n      const fontSize = parseFloat(\n        getComputedStyle(document.documentElement).fontSize,\n      );\n      const rem = Number(cssVar.slice(0, cssVar.length - 3));\n\n      return fontSize * rem;\n    }\n\n    if (cssVar && /em$/.test(cssVar)) {\n      const fontSize = parseFloat(getComputedStyle(ref.current).fontSize);\n      const em = Number(cssVar.slice(0, cssVar.length - 2));\n\n      return fontSize * em;\n    }\n\n    return 0;\n  }\n\n  return 0;\n};\n\n/**\n * Подписчик на PortalWithThemeProvider\n * получает рефы всех вложенных порталов в модалку\n * для дальнейшего исключения их из useClickOutside\n */\nconst ContextConsumer: React.FC<{\n  onClickOutside?: (event: MouseEvent) => void;\n  ignoreClicksInsideRefs?: ReadonlyArray<React.RefObject<HTMLElement>>;\n  children: React.ReactNode;\n}> = ({ onClickOutside, children, ignoreClicksInsideRefs }) => {\n  const { refs } = usePortalContext();\n\n  useClickOutside({\n    isActive: !!onClickOutside,\n    ignoreClicksInsideRefs: [\n      ...(ignoreClicksInsideRefs || []),\n      ...(refs || []),\n    ],\n    handler: onClickOutside,\n  });\n\n  return children as React.ReactElement;\n};\n\nconst cnPopover = cn('Popover');\n\nexport const Popover = forwardRef<HTMLDivElement, Props>(\n  (props, componentRef) => {\n    const {\n      children,\n      direction: passedDirection = 'upCenter',\n      offset: propOffset = 0,\n      arrowOffset,\n      possibleDirections = directions,\n      isInteractive = true,\n      onClickOutside,\n      spareDirection = 'downStartLeft',\n      style,\n      className,\n      position: passedPosition,\n      anchorRef,\n      equalAnchorWidth,\n      onSetDirection,\n      ...otherProps\n    } = props;\n\n    const ref = React.useRef<HTMLDivElement>(null);\n    const { theme } = useTheme();\n\n    const [anchorClientRect, setAnchorClientRect] = React.useState<\n      DOMRect | undefined\n    >();\n    const { width, height } = useComponentSize(ref);\n    const anchorSize = useComponentSize(anchorRef || { current: null });\n    const previousDirectionRef = React.useRef<Direction | null>(null);\n    const [bannedDirections, setBannedDirections] = React.useState<\n      readonly Direction[]\n    >([]);\n\n    const resetBannedDirections = () => {\n      setBannedDirections((state) => (state.length ? [] : state));\n      previousDirectionRef.current = null;\n    };\n\n    const updateAnchorClientRect = () =>\n      setAnchorClientRect(anchorRef?.current?.getBoundingClientRect());\n\n    const offset = useMemo(\n      () => getOffset(ref, propOffset),\n      [propOffset, Boolean(ref.current)],\n    );\n\n    const { position, direction } = getComputedPositionAndDirection({\n      contentSize: { width, height },\n      viewportSize: {\n        // Размер вьюпорта без скроллбаров\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight,\n      },\n      arrowOffset,\n      offset,\n      direction: passedDirection,\n      possibleDirections,\n      bannedDirections,\n      position: anchorClientRect\n        ? { x: anchorClientRect.left, y: anchorClientRect.top }\n        : passedPosition,\n      anchorSize,\n      spareDirection,\n    });\n\n    useEffect(() => onSetDirection?.(direction), [direction]);\n\n    useEffect(updateAnchorClientRect, [anchorSize]);\n\n    usePopoverReposition({\n      isActive: true,\n      scrollAnchorRef: anchorRef || { current: null },\n      onRequestReposition: () => {\n        resetBannedDirections();\n        updateAnchorClientRect();\n      },\n    });\n\n    /**\n     * Может возникнуть ситуация, когда перерасчет поповера всегда будет выдавать 2 направления\n     * и бесконечно зацикливать себя. Для избежания таких кейсов мы запоминаем стороны,\n     * которые не подошли, чтобы не возвращаться к ним и предотвратить бесконечный ререндер.\n     * См. PopoverBannedPositionsStory\n     */\n\n    useLayoutEffect(() => {\n      if (previousDirectionRef.current !== direction) {\n        if (\n          previousDirectionRef.current &&\n          !bannedDirections.includes(previousDirectionRef.current) &&\n          !bannedDirections.includes(direction) &&\n          direction !== spareDirection\n        ) {\n          setBannedDirections((state) =>\n            previousDirectionRef.current\n              ? [...state, previousDirectionRef.current]\n              : state,\n          );\n        }\n        previousDirectionRef.current = direction;\n      }\n    }, [direction]);\n\n    // Сбрасываем при любом изменении пропсов, чтобы заново начать перебор направлений\n    // Главное не сбрасывать при изменении размеров поповера, т.к. именно оно может вызвать бесконечный перебор\n\n    useLayoutEffect(resetBannedDirections, [props]);\n\n    const notVisible = !position || !height || !width;\n\n    return (\n      <PortalWithTheme\n        {...otherProps}\n        preset={theme}\n        className={cnPopover({ direction, notVisible }, [className])}\n        container={window.document.body}\n        ref={useForkRef([ref, componentRef])}\n        style={{\n          ...style,\n          ...(notVisible\n            ? {}\n            : {\n                ['--popover-top' as string]: `${\n                  (position?.y || 0) + window.scrollY\n                }px`,\n                ['--popover-left' as string]: `${\n                  (position?.x || 0) + window.scrollX\n                }px`,\n                [`--popover-width` as string]: equalAnchorWidth\n                  ? `${anchorSize.width}px`\n                  : undefined,\n                [`--popover-pointer-events` as string]: isInteractive\n                  ? undefined\n                  : 'none',\n                [`--popover-visibility` as string]: position\n                  ? undefined\n                  : 'hidden',\n              }),\n        }}\n      >\n        <ContextConsumer\n          onClickOutside={onClickOutside}\n          ignoreClicksInsideRefs={[ref, anchorRef || { current: null }]}\n        >\n          {isRenderProp(children) ? children(direction) : children}\n        </ContextConsumer>\n      </PortalWithTheme>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}