{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"size\", \"view\", \"width\", \"form\", \"iconLeft\", \"iconRight\", \"label\", \"className\", \"onClick\", \"disabled\", \"loading\", \"type\", \"tabIndex\", \"as\", \"onlyIcon\", \"iconSize\", \"formId\"];\nimport \"./Button.css\";\nimport React, { useRef } from \"react\";\nimport { useForkRef } from \"../../hooks/useForkRef/useForkRef\";\nimport { cnMixFocus } from \"../../mixs/MixFocus/MixFocus\";\nimport { cn } from \"../../utils/bem\";\nimport { getByMap } from \"../../utils/getByMap\";\nimport { forwardRefWithAs } from \"../../utils/types/PropsWithAsAttributes\";\nimport { usePropsHandler } from \"../EventInterceptor/usePropsHandler\";\nimport { Loader } from \"../LoaderDeprecated/LoaderDeprecated\";\nexport var buttonPropSize = [\"m\", \"xs\", \"s\", \"l\"];\nexport var buttonPropSizeDefault = buttonPropSize[0];\nexport var buttonPropView = [\"primary\", \"clear\", \"ghost\", \"secondary\"];\nexport var buttonPropViewDefault = buttonPropView[0];\nexport var buttonPropWidth = [\"default\", \"full\"];\nexport var buttonPropWidthDefault = buttonPropWidth[0];\nexport var buttonPropForm = [\"default\", \"brick\", \"round\", \"brickRound\", \"roundBrick\", \"brickDefault\", \"defaultBrick\"];\nvar mapStableForm = {\n  default: \"default\",\n  defaultClear: \"defaultBrick\",\n  defaultBrick: \"defaultBrick\",\n  brick: \"brick\",\n  brickDefault: \"brickDefault\",\n  brickClear: \"brick\",\n  brickRound: \"brickRound\",\n  round: \"round\",\n  roundClear: \"roundBrick\",\n  roundBrick: \"roundBrick\",\n  clearRound: \"brickRound\",\n  clearDefault: \"brickDefault\",\n  clearBrick: \"brick\",\n  clearClear: \"brick\"\n};\nexport var buttonPropFormDefault = buttonPropForm[0];\nexport var COMPONENT_NAME = \"Button\";\nexport var cnButton = cn(\"Button\");\nvar sizeMap = {\n    xs: \"xs\",\n    s: \"xs\",\n    m: \"s\",\n    l: \"m\"\n  },\n  sizeMapOnlyIcon = {\n    xs: \"xs\",\n    s: \"s\",\n    m: \"m\",\n    l: \"m\"\n  };\nexport var Button = forwardRefWithAs(function (a, b) {\n  var c = useRef(null),\n    d = usePropsHandler(COMPONENT_NAME, a, c),\n    e = d.size,\n    f = void 0 === e ? buttonPropSizeDefault : e,\n    g = d.view,\n    h = void 0 === g ? buttonPropViewDefault : g,\n    i = d.width,\n    j = void 0 === i ? buttonPropWidthDefault : i,\n    k = d.form,\n    l = void 0 === k ? buttonPropFormDefault : k,\n    m = d.iconLeft,\n    n = d.iconRight,\n    o = d.label,\n    p = d.className,\n    q = d.onClick,\n    r = d.disabled,\n    s = d.loading,\n    t = d.type,\n    u = void 0 === t ? \"button\" : t,\n    v = d.tabIndex,\n    w = d.as,\n    x = void 0 === w ? \"button\" : w,\n    y = d.onlyIcon,\n    z = d.iconSize,\n    A = d.formId,\n    B = _objectWithoutProperties(d, _excluded),\n    C = (!o || y) && (m || n),\n    D = m,\n    E = n,\n    F = a.title || !!C && o || void 0,\n    G = C ? getByMap(sizeMapOnlyIcon, f, z) : getByMap(sizeMap, f, z);\n  return React.createElement(x, Object.assign({}, B, {\n    onClick: q ? function handleClick(a) {\n      r || s || !q || q(a);\n    } : void 0,\n    form: A,\n    type: u,\n    className: cnButton({\n      size: f,\n      view: h,\n      width: j,\n      form: mapStableForm[l],\n      loading: s,\n      disabled: r,\n      withIcon: !!m || !!n,\n      onlyIcon: !!C\n    }, [r || s ? void 0 : cnMixFocus(), p]),\n    disabled: r,\n    tabIndex: v,\n    title: F,\n    ref: useForkRef([b, c])\n  }), C && React.createElement(C, {\n    className: cnButton(\"Icon\"),\n    size: G\n  }), !C && ((D || E) && o ? React.createElement(React.Fragment, null, D && React.createElement(D, {\n    className: cnButton(\"Icon\", {\n      position: \"left\"\n    }),\n    size: G\n  }), React.createElement(\"span\", {\n    className: cnButton(\"Label\")\n  }, o), E && React.createElement(E, {\n    className: cnButton(\"Icon\", {\n      position: \"right\"\n    }),\n    size: G\n  })) : o), s && React.createElement(Loader, {\n    className: cnButton(\"Loader\"),\n    size: \"s\"\n  }));\n});","map":{"version":3,"names":["React","useRef","useForkRef","cnMixFocus","cn","getByMap","forwardRefWithAs","usePropsHandler","Loader","buttonPropSize","buttonPropSizeDefault","buttonPropView","buttonPropViewDefault","buttonPropWidth","buttonPropWidthDefault","buttonPropForm","mapStableForm","default","defaultClear","defaultBrick","brick","brickDefault","brickClear","brickRound","round","roundClear","roundBrick","clearRound","clearDefault","clearBrick","clearClear","buttonPropFormDefault","COMPONENT_NAME","cnButton","sizeMap","xs","s","m","l","sizeMapOnlyIcon","Button","a","b","c","d","e","size","f","g","view","h","i","width","j","k","form","iconLeft","n","iconRight","o","label","p","className","q","onClick","r","disabled","loading","t","type","u","v","tabIndex","w","as","x","y","onlyIcon","z","iconSize","A","formId","B","_objectWithoutProperties","_excluded","C","D","E","F","title","G","createElement","Object","assign","handleClick","withIcon","ref","Fragment","position"],"sources":["/Users/leonofv/Desktop/purchase-ui/node_modules/@consta/src/components/Button/Button.tsx"],"sourcesContent":["import './Button.css';\n\nimport { IconComponent, IconPropSize } from '@consta/icons/Icon';\nimport React, { HTMLProps, useRef } from 'react';\n\nimport { useForkRef } from '../../hooks/useForkRef/useForkRef';\nimport { cnMixFocus } from '../../mixs/MixFocus/MixFocus';\nimport { cn } from '../../utils/bem';\nimport { getByMap } from '../../utils/getByMap';\nimport { forwardRefWithAs } from '../../utils/types/PropsWithAsAttributes';\nimport { usePropsHandler } from '../EventInterceptor/usePropsHandler';\nimport { Loader } from '../LoaderDeprecated/LoaderDeprecated';\n\nexport const buttonPropSize = ['m', 'xs', 's', 'l'] as const;\nexport type ButtonPropSize = typeof buttonPropSize[number];\nexport const buttonPropSizeDefault: ButtonPropSize = buttonPropSize[0];\n\nexport const buttonPropView = [\n  'primary',\n  'clear',\n  'ghost',\n  'secondary',\n] as const;\nexport type ButtonPropView = typeof buttonPropView[number];\nexport const buttonPropViewDefault: ButtonPropView = buttonPropView[0];\n\nexport const buttonPropWidth = ['default', 'full'] as const;\nexport type ButtonPropWidth = typeof buttonPropWidth[number];\nexport const buttonPropWidthDefault: ButtonPropWidth = buttonPropWidth[0];\n\nexport const buttonPropForm = [\n  'default',\n  'brick',\n  'round',\n  'brickRound',\n  'roundBrick',\n  'brickDefault',\n  'defaultBrick',\n] as const;\n\nexport type ButtonPropForm = typeof buttonPropForm[number];\n\ntype GlobalForm =\n  | 'default'\n  | 'brick'\n  | 'round'\n  | 'brickRound'\n  | 'roundBrick'\n  | 'brickDefault'\n  | 'defaultBrick'\n  | 'defaultClear'\n  | 'brickClear'\n  | 'roundClear'\n  | 'clearRound'\n  | 'clearDefault'\n  | 'clearBrick'\n  | 'clearClear';\n\nconst mapStableForm: Record<GlobalForm, ButtonPropForm> = {\n  default: 'default',\n  defaultClear: 'defaultBrick',\n  defaultBrick: 'defaultBrick',\n  brick: 'brick',\n  brickDefault: 'brickDefault',\n  brickClear: 'brick',\n  brickRound: 'brickRound',\n  round: 'round',\n  roundClear: 'roundBrick',\n  roundBrick: 'roundBrick',\n  clearRound: 'brickRound',\n  clearDefault: 'brickDefault',\n  clearBrick: 'brick',\n  clearClear: 'brick',\n};\n\nexport const buttonPropFormDefault = buttonPropForm[0];\n\nexport type Props = {\n  size?: ButtonPropSize;\n  view?: ButtonPropView;\n  width?: ButtonPropWidth;\n  form?: ButtonPropForm;\n  tabIndex?: number;\n  disabled?: boolean;\n  loading?: boolean;\n  label?: string | number;\n  onClick?: React.EventHandler<React.MouseEvent>;\n  iconLeft?: IconComponent;\n  iconRight?: IconComponent;\n  onlyIcon?: boolean;\n  iconSize?: IconPropSize;\n  title?: string;\n  children?: never;\n  type?: 'button' | 'reset' | 'submit';\n  formId?: HTMLProps<HTMLButtonElement>['form'];\n};\n\nexport const COMPONENT_NAME = 'Button' as const;\nexport const cnButton = cn(COMPONENT_NAME);\n\nconst sizeMap: Record<ButtonPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 'xs',\n  m: 's',\n  l: 'm',\n};\n\nconst sizeMapOnlyIcon: Record<ButtonPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 's',\n  m: 'm',\n  l: 'm',\n};\n\nexport const Button = forwardRefWithAs<Props, 'button'>((props, ref) => {\n  const buttonRef = useRef<HTMLButtonElement | null>(null);\n\n  const {\n    size = buttonPropSizeDefault,\n    view = buttonPropViewDefault,\n    width = buttonPropWidthDefault,\n    form = buttonPropFormDefault,\n    iconLeft,\n    iconRight,\n    label,\n    className,\n    onClick,\n    disabled,\n    loading,\n    type = 'button',\n    tabIndex,\n    as = 'button',\n    onlyIcon,\n    iconSize: iconSizeProp,\n    formId,\n    ...otherProps\n  } = usePropsHandler(COMPONENT_NAME, props, buttonRef);\n\n  const Tag = as as string;\n  const IconOnly = (!label || onlyIcon) && (iconLeft || iconRight);\n  const IconLeft = iconLeft;\n  const IconRight = iconRight;\n  const withIcon = !!iconLeft || !!iconRight;\n  const title = props.title || (!!IconOnly && label) || undefined;\n  const iconSize = IconOnly\n    ? getByMap(sizeMapOnlyIcon, size, iconSizeProp)\n    : getByMap(sizeMap, size, iconSizeProp);\n\n  const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n    if (!disabled && !loading && onClick) {\n      onClick(e);\n    }\n  };\n\n  return (\n    <Tag\n      {...otherProps}\n      onClick={onClick ? handleClick : undefined}\n      form={formId}\n      type={type}\n      className={cnButton(\n        {\n          size,\n          view,\n          width,\n          form: mapStableForm[form],\n          loading,\n          disabled,\n          withIcon,\n          onlyIcon: !!IconOnly,\n        },\n        [!(disabled || loading) ? cnMixFocus() : undefined, className],\n      )}\n      disabled={disabled}\n      tabIndex={tabIndex}\n      title={title}\n      ref={useForkRef([ref, buttonRef])}\n    >\n      {IconOnly && <IconOnly className={cnButton('Icon')} size={iconSize} />}\n      {!IconOnly &&\n        ((IconLeft || IconRight) && label ? (\n          <>\n            {IconLeft && (\n              <IconLeft\n                className={cnButton('Icon', { position: 'left' })}\n                size={iconSize}\n              />\n            )}\n            <span className={cnButton('Label')}>{label}</span>\n            {IconRight && (\n              <IconRight\n                className={cnButton('Icon', { position: 'right' })}\n                size={iconSize}\n              />\n            )}\n          </>\n        ) : (\n          label\n        ))}\n      {loading && <Loader className={cnButton('Loader')} size=\"s\" />}\n    </Tag>\n  );\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}