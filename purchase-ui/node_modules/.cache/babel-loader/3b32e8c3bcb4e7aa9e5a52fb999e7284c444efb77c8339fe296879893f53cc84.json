{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"controlRef\", \"size\", \"getOptionProps\", \"dropdownRef\", \"labelForCreate\", \"className\", \"labelForNotFound\", \"labelForEmptyItems\", \"hasItems\", \"form\", \"isOpen\", \"offset\", \"renderItem\", \"visibleItems\", \"isLoading\", \"getGroupLabel\", \"notFound\", \"itemsRefs\", \"virtualScroll\", \"onScrollToBottom\"];\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport \"./SelectDropdown.css\";\nimport React, { Fragment, useEffect, useMemo, useRef } from \"react\";\nimport { Transition } from \"react-transition-group\";\nimport { cnListBox, ListItem, ListLoader, mapVerticalSpase } from \"../../ListCanary\";\nimport { Popover } from \"../../Popover\";\nimport { useDebounce } from \"../../../hooks/useDebounce\";\nimport { useFlag } from \"../../../hooks/useFlag\";\nimport { forkRef, useForkRef } from \"../../../hooks/useForkRef\";\nimport { useVirtualScroll } from \"../../../hooks/useVirtualScroll\";\nimport { animateTimeout, cnMixPopoverAnimate } from \"../../../mixs/MixPopoverAnimate/MixPopoverAnimate\";\nimport { cnMixScrollBar } from \"../../../mixs/MixScrollBar\";\nimport { cnMixSpace } from \"../../../mixs/MixSpace\";\nimport { cn } from \"../../../utils/bem\";\nimport { fabricIndex } from \"../../../utils/fabricIndex\";\nimport { SelectCreateButton } from \"../SelectCreateButton/SelectCreateButton\";\nimport { SelectGroupLabel } from \"../SelectGroupLabel/SelectGroupLabel\";\nimport { SelectItemAll } from \"../SelectItemAll/SelectItemAll\";\nimport { SelectLoader } from \"../SelectLoader/SelectLoader\";\nimport { isNotOptionForCreate, isOptionForCreate, isOptionForSelectAll } from \"../useSelect\";\nexport var selectDropdownform = [\"default\", \"brick\", \"round\"];\nexport var defaultSelectDropdownPropForm = selectDropdownform[0];\nvar cnSelectDropdown = cn(\"SelectDropdown\"),\n  getLenghtElements = function (a) {\n    for (var b, c = 1 >= a.length ? 0 : a.length, d = 0; d < a.length; d++) b = a[d], isNotOptionForCreate(b) && b.items.length && (c += b.items.length);\n    return c;\n  },\n  isVisible = function (a, b) {\n    return b >= a[0] && b < a[1];\n  };\nexport var SelectDropdown = function (a) {\n  var b = a.controlRef,\n    c = a.size,\n    d = a.getOptionProps,\n    e = a.dropdownRef,\n    f = a.labelForCreate,\n    g = a.className,\n    h = a.labelForNotFound,\n    i = a.labelForEmptyItems,\n    j = a.hasItems,\n    k = void 0 === j || j,\n    l = a.form,\n    m = a.isOpen,\n    n = a.offset,\n    o = void 0 === n ? \"none\" : n,\n    p = a.renderItem,\n    q = a.visibleItems,\n    r = a.isLoading,\n    s = a.getGroupLabel,\n    t = a.notFound,\n    u = a.itemsRefs,\n    v = a.virtualScroll,\n    w = a.onScrollToBottom,\n    x = _objectWithoutProperties(a, _excluded),\n    y = \"round\" === l ? \"increased\" : \"normal\",\n    z = useMemo(function () {\n      return 0 < q.filter(function (a) {\n        return isOptionForCreate(a) || Array.isArray(a.items) && 0 < a.items.length;\n      }).length;\n    }, [q]),\n    A = \"none\" === o ? void 0 : o,\n    B = useMemo(function () {\n      return getLenghtElements(q);\n    }, [q]),\n    C = useVirtualScroll({\n      length: B,\n      isActive: v && m,\n      onScrollToBottom: w\n    }),\n    D = C.spaceTop,\n    E = C.slice,\n    F = C.listRefs,\n    G = C.scrollElementRef,\n    H = 0 === E[0] && v ? [0, 50] : E,\n    I = useRef(null),\n    J = useForkRef([G, e]),\n    K = useFlag(),\n    L = _slicedToArray(K, 2),\n    M = L[0],\n    N = L[1],\n    O = useDebounce(N.off, 100);\n  return useEffect(function () {\n    var a,\n      b = function () {\n        N.on(), O();\n      };\n    return null === (a = G.current) || void 0 === a ? void 0 : a.addEventListener(\"scroll\", b), function () {\n      var a;\n      null === (a = G.current) || void 0 === a ? void 0 : a.removeEventListener(\"scroll\", b);\n    };\n  }, [G.current]), React.createElement(Transition, {\n    in: m,\n    unmountOnExit: !0,\n    nodeRef: I,\n    timeout: animateTimeout\n  }, function (a) {\n    var e = fabricIndex(),\n      j = fabricIndex();\n    return React.createElement(Popover, Object.assign({}, x, {\n      anchorRef: b,\n      direction: \"downStartLeft\",\n      possibleDirections: [\"downStartLeft\", \"upStartLeft\", \"downStartRight\", \"upStartRight\"],\n      offset: A,\n      ref: I,\n      role: \"listbox\",\n      className: cnSelectDropdown(null, [cnListBox({\n        size: c,\n        form: l,\n        border: !0,\n        shadow: !0\n      }), cnMixPopoverAnimate({\n        animate: a\n      }), g]),\n      equalAnchorWidth: !0\n    }), React.createElement(\"div\", {\n      className: cnSelectDropdown(\"ScrollContainer\", [cnMixSpace({\n        pV: mapVerticalSpase[c]\n      }), cnMixScrollBar()]),\n      ref: J\n    }, r && !z && React.createElement(SelectLoader, null), React.createElement(\"div\", {\n      className: cnSelectDropdown(\"List\", {\n        scrolled: M\n      }),\n      style: {\n        marginTop: D\n      }\n    }, q.map(function (a, b) {\n      if (isOptionForCreate(a)) {\n        var h = e();\n        return React.createElement(SelectCreateButton, Object.assign({\n          size: c,\n          labelForCreate: f,\n          inputValue: a.label,\n          indent: y,\n          ref: u[h]\n        }, d({\n          index: h,\n          item: a,\n          keyPrefix: b\n        })));\n      }\n      var g = 1 < q.length ? j() : 0;\n      return React.createElement(Fragment, {\n        key: a.key\n      }, a.group && s && isVisible(H, g) && React.createElement(SelectGroupLabel, {\n        label: s(a.group),\n        size: c,\n        indent: y,\n        ref: F[g],\n        key: \"group-\".concat(a.key)\n      }), a.items.map(function (b, f) {\n        if (isOptionForSelectAll(b)) {\n          var g = j(),\n            h = e();\n          if (isVisible(H, g)) return React.createElement(SelectItemAll, Object.assign({\n            ref: forkRef([F[g], u[h]]),\n            indent: y,\n            size: c\n          }, d({\n            index: h,\n            item: b,\n            keyPrefix: f\n          }), {\n            intermediate: !!(b.checkedCount && b.totalCount) && b.checkedCount !== b.totalCount,\n            checked: b.checkedCount === b.totalCount,\n            countItems: b.checkedCount,\n            total: b.totalCount\n          }));\n        } else {\n          var i = j(),\n            k = e();\n          if (isVisible(H, i)) return React.createElement(Fragment, {\n            key: \"\".concat(a.key, \"-\").concat(f)\n          }, p(_objectSpread({\n            ref: forkRef([F[i], u[k]]),\n            item: b\n          }, d({\n            index: k,\n            item: b,\n            keyPrefix: f\n          }))));\n        }\n      }));\n    }), r && z && React.createElement(ListLoader, {\n      size: c,\n      innerOffset: y\n    })), !r && k && t && h && React.createElement(ListItem, {\n      size: c,\n      label: h,\n      innerOffset: y\n    }, h), !r && !k && i && React.createElement(ListItem, {\n      size: c,\n      label: i,\n      innerOffset: y\n    }, i)));\n  });\n};","map":{"version":3,"names":["React","Fragment","useEffect","useMemo","useRef","Transition","cnListBox","ListItem","ListLoader","mapVerticalSpase","Popover","useDebounce","useFlag","forkRef","useForkRef","useVirtualScroll","animateTimeout","cnMixPopoverAnimate","cnMixScrollBar","cnMixSpace","cn","fabricIndex","SelectCreateButton","SelectGroupLabel","SelectItemAll","SelectLoader","isNotOptionForCreate","isOptionForCreate","isOptionForSelectAll","selectDropdownform","defaultSelectDropdownPropForm","cnSelectDropdown","getLenghtElements","a","b","c","length","d","items","isVisible","SelectDropdown","controlRef","size","getOptionProps","e","dropdownRef","f","labelForCreate","g","className","h","labelForNotFound","i","labelForEmptyItems","j","hasItems","k","l","form","m","isOpen","n","offset","o","p","renderItem","q","visibleItems","r","isLoading","s","getGroupLabel","t","notFound","u","itemsRefs","v","virtualScroll","w","onScrollToBottom","x","_objectWithoutProperties","_excluded","y","z","filter","Array","isArray","A","B","C","isActive","D","spaceTop","E","slice","F","listRefs","G","scrollElementRef","H","I","J","K","L","_slicedToArray","M","N","O","off","fn","on","current","addEventListener","removeEventListener","createElement","in","unmountOnExit","nodeRef","timeout","Object","assign","anchorRef","direction","possibleDirections","ref","role","border","shadow","animate","equalAnchorWidth","pV","scrolled","style","marginTop","map","inputValue","label","indent","index","item","keyPrefix","key","group","concat","intermediate","checkedCount","totalCount","checked","countItems","total","_objectSpread","innerOffset"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/components/SelectComponents/SelectDropdown/SelectDropdown.tsx"],"sourcesContent":["import './SelectDropdown.css';\n\nimport React, { Fragment, useEffect, useMemo, useRef } from 'react';\nimport { Transition } from 'react-transition-group';\n\nimport {\n  cnListBox,\n  ListItem,\n  ListLoader,\n  mapVerticalSpase,\n} from '##/components/ListCanary';\nimport { Popover, PopoverPropOffset } from '##/components/Popover';\nimport { useDebounce } from '##/hooks/useDebounce';\nimport { useFlag } from '##/hooks/useFlag';\nimport { forkRef, useForkRef } from '##/hooks/useForkRef';\nimport { useVirtualScroll } from '##/hooks/useVirtualScroll';\nimport {\n  animateTimeout,\n  cnMixPopoverAnimate,\n} from '##/mixs/MixPopoverAnimate/MixPopoverAnimate';\nimport { cnMixScrollBar } from '##/mixs/MixScrollBar';\nimport { cnMixSpace } from '##/mixs/MixSpace';\nimport { cn } from '##/utils/bem';\nimport { fabricIndex } from '##/utils/fabricIndex';\nimport { SelectAllItem } from '##/utils/getGroups';\nimport { PropsWithJsxAttributes } from '##/utils/types/PropsWithJsxAttributes';\n\nimport { SelectCreateButton } from '../SelectCreateButton/SelectCreateButton';\nimport { SelectGroupLabel } from '../SelectGroupLabel/SelectGroupLabel';\nimport { SelectItemAll } from '../SelectItemAll/SelectItemAll';\nimport { SelectLoader } from '../SelectLoader/SelectLoader';\nimport { PropSize, RenderItemProps } from '../types';\nimport {\n  GetOptionPropsResult,\n  isNotOptionForCreate,\n  isOptionForCreate,\n  isOptionForSelectAll,\n  OptionForCreate,\n  OptionProps,\n} from '../useSelect';\n\nexport const selectDropdownform = ['default', 'brick', 'round'] as const;\nexport type SelectDropdownPropForm = typeof selectDropdownform[number];\nexport const defaultSelectDropdownPropForm = selectDropdownform[0];\n\ntype Props<ITEM, GROUP> = PropsWithJsxAttributes<{\n  size: PropSize;\n  controlRef: React.MutableRefObject<HTMLDivElement | null>;\n  dropdownRef: React.Ref<HTMLDivElement>;\n  getOptionProps(props: OptionProps<ITEM>): GetOptionPropsResult;\n  form: SelectDropdownPropForm;\n  isOpen: boolean;\n  offset?: PopoverPropOffset | 'none';\n  isLoading?: boolean;\n  renderItem: (props: RenderItemProps<ITEM>) => JSX.Element | null;\n  visibleItems: (\n    | OptionForCreate\n    | {\n        items: Array<SelectAllItem | ITEM>;\n        key: string | number;\n        group?: GROUP;\n        groupIndex: number;\n        checkedCount?: number;\n        totalCount?: number;\n      }\n  )[];\n  getGroupLabel?: (group: GROUP) => string;\n  labelForCreate?: string;\n  labelForNotFound?: string;\n  labelForEmptyItems?: string;\n  notFound?: boolean;\n  hasItems?: boolean;\n  itemsRefs: React.RefObject<HTMLDivElement>[];\n  virtualScroll?: boolean;\n  onScrollToBottom?: (lenght: number) => void;\n}>;\n\ntype SelectDropdown = <ITEM, GROUP>(\n  props: Props<ITEM, GROUP>,\n) => React.ReactElement | null;\n\nconst cnSelectDropdown = cn('SelectDropdown');\n\nconst getLenghtElements = <ITEM, GROUP>(\n  elements: (\n    | OptionForCreate\n    | {\n        items: Array<SelectAllItem | ITEM>;\n        key: string | number;\n        group?: GROUP;\n        groupIndex: number;\n        checkedCount?: number;\n        totalCount?: number;\n      }\n  )[],\n) => {\n  let lenght = elements.length <= 1 ? 0 : elements.length;\n\n  for (let index = 0; index < elements.length; index++) {\n    const element = elements[index];\n\n    if (isNotOptionForCreate(element) && element.items.length) {\n      lenght += element.items.length;\n    }\n  }\n\n  return lenght;\n};\n\nconst isVisible = (slise: [number, number], index: number) => {\n  return index >= slise[0] && index < slise[1];\n};\n\nexport const SelectDropdown: SelectDropdown = (props) => {\n  const {\n    controlRef,\n    size,\n    getOptionProps,\n    dropdownRef: dropdownRefProp,\n    labelForCreate,\n    className,\n    labelForNotFound,\n    labelForEmptyItems,\n    hasItems = true,\n    form,\n    isOpen,\n    offset: offsetProp = 'none',\n    renderItem,\n    visibleItems,\n    isLoading,\n    getGroupLabel,\n    notFound,\n    itemsRefs,\n    virtualScroll,\n    onScrollToBottom,\n    ...otherProps\n  } = props;\n\n  const indent = form === 'round' ? 'increased' : 'normal';\n\n  const isListShowed = useMemo(() => {\n    return (\n      visibleItems.filter(\n        (group) =>\n          isOptionForCreate(group) ||\n          (Array.isArray(group.items) && group.items.length > 0),\n      ).length > 0\n    );\n  }, [visibleItems]);\n\n  const offset = offsetProp === 'none' ? undefined : offsetProp;\n\n  const lengthForVirtualScroll = useMemo(\n    () => getLenghtElements(visibleItems),\n    [visibleItems],\n  );\n\n  const {\n    spaceTop,\n    slice: sliceHookProp,\n    listRefs,\n    scrollElementRef,\n  } = useVirtualScroll({\n    length: lengthForVirtualScroll,\n    isActive: virtualScroll && isOpen,\n    onScrollToBottom,\n  });\n\n  const slice: [number, number] =\n    sliceHookProp[0] === 0 && virtualScroll ? [0, 50] : sliceHookProp;\n\n  const popoverRef = useRef<HTMLDivElement>(null);\n  const dropdownRef = useForkRef([scrollElementRef, dropdownRefProp]);\n  const [scrolled, setScroled] = useFlag();\n  const setScroledOffDebouns = useDebounce(setScroled.off, 100);\n\n  useEffect(() => {\n    const fn = () => {\n      setScroled.on();\n      setScroledOffDebouns();\n    };\n\n    scrollElementRef.current?.addEventListener('scroll', fn);\n\n    return () => {\n      scrollElementRef.current?.removeEventListener('scroll', fn);\n    };\n  }, [scrollElementRef.current]);\n\n  return (\n    <Transition\n      in={isOpen}\n      unmountOnExit\n      nodeRef={popoverRef}\n      timeout={animateTimeout}\n    >\n      {(animate) => {\n        const getIndex = fabricIndex();\n        const getVirtualIndex = fabricIndex();\n\n        return (\n          <Popover\n            {...otherProps}\n            anchorRef={controlRef}\n            direction=\"downStartLeft\"\n            possibleDirections={[\n              'downStartLeft',\n              'upStartLeft',\n              'downStartRight',\n              'upStartRight',\n            ]}\n            offset={offset}\n            ref={popoverRef}\n            role=\"listbox\"\n            className={cnSelectDropdown(null, [\n              cnListBox({ size, form, border: true, shadow: true }),\n              cnMixPopoverAnimate({ animate }),\n              className,\n            ])}\n            equalAnchorWidth\n          >\n            <div\n              className={cnSelectDropdown('ScrollContainer', [\n                cnMixSpace({\n                  pV: mapVerticalSpase[size],\n                }),\n                cnMixScrollBar(),\n              ])}\n              ref={dropdownRef}\n            >\n              {isLoading && !isListShowed && <SelectLoader />}\n              <div\n                className={cnSelectDropdown('List', { scrolled })}\n                style={{ marginTop: spaceTop }}\n              >\n                {visibleItems.map((group, groupIndex) => {\n                  if (isOptionForCreate(group)) {\n                    const index = getIndex();\n                    return (\n                      <SelectCreateButton\n                        size={size}\n                        labelForCreate={labelForCreate}\n                        inputValue={group.label}\n                        indent={indent}\n                        ref={itemsRefs[index]}\n                        {...getOptionProps({\n                          index,\n                          item: group,\n                          keyPrefix: groupIndex,\n                        })}\n                      />\n                    );\n                  }\n\n                  const virtualIndex =\n                    visibleItems.length > 1 ? getVirtualIndex() : 0;\n\n                  return (\n                    <Fragment key={group.key}>\n                      {group.group &&\n                        getGroupLabel &&\n                        isVisible(slice, virtualIndex) && (\n                          <SelectGroupLabel\n                            label={getGroupLabel(group.group)}\n                            size={size}\n                            indent={indent}\n                            ref={listRefs[virtualIndex]}\n                            key={`group-${group.key}`}\n                          />\n                        )}\n                      {group.items.map((item, i) => {\n                        if (isOptionForSelectAll(item)) {\n                          const virtualIndex = getVirtualIndex();\n                          const index = getIndex();\n\n                          if (isVisible(slice, virtualIndex)) {\n                            return (\n                              <SelectItemAll\n                                ref={forkRef([\n                                  listRefs[virtualIndex],\n                                  itemsRefs[index],\n                                ])}\n                                indent={indent}\n                                size={size}\n                                {...getOptionProps({\n                                  index,\n                                  item,\n                                  keyPrefix: i,\n                                })}\n                                intermediate={\n                                  item.checkedCount && item.totalCount\n                                    ? item.checkedCount !== item.totalCount\n                                    : false\n                                }\n                                checked={item.checkedCount === item.totalCount}\n                                countItems={item.checkedCount}\n                                total={item.totalCount}\n                              />\n                            );\n                          }\n                        } else {\n                          const virtualIndex = getVirtualIndex();\n                          const index = getIndex();\n                          if (isVisible(slice, virtualIndex)) {\n                            return (\n                              <Fragment key={`${group.key}-${i}`}>\n                                {renderItem({\n                                  ref: forkRef([\n                                    listRefs[virtualIndex],\n                                    itemsRefs[index],\n                                  ]),\n                                  item,\n                                  ...getOptionProps({\n                                    index,\n                                    item,\n                                    keyPrefix: i,\n                                  }),\n                                })}\n                              </Fragment>\n                            );\n                          }\n                        }\n                      })}\n                    </Fragment>\n                  );\n                })}\n                {isLoading && isListShowed && (\n                  <ListLoader size={size} innerOffset={indent} />\n                )}\n              </div>\n              {!isLoading && hasItems && notFound && labelForNotFound && (\n                <ListItem\n                  size={size}\n                  label={labelForNotFound}\n                  innerOffset={indent}\n                >\n                  {labelForNotFound}\n                </ListItem>\n              )}\n              {!isLoading && !hasItems && labelForEmptyItems && (\n                <ListItem\n                  size={size}\n                  label={labelForEmptyItems}\n                  innerOffset={indent}\n                >\n                  {labelForEmptyItems}\n                </ListItem>\n              )}\n            </div>\n          </Popover>\n        );\n      }}\n    </Transition>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}