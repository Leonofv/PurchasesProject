{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction _createForOfIteratorHelper(a, b) {\n  var c = \"undefined\" != typeof Symbol && a[Symbol.iterator] || a[\"@@iterator\"];\n  if (!c) {\n    if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && \"number\" == typeof a.length) {\n      c && (a = c);\n      var d = 0,\n        e = function () {};\n      return {\n        s: e,\n        n: function n() {\n          return d >= a.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: a[d++]\n          };\n        },\n        e: function e(a) {\n          throw a;\n        },\n        f: e\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var f,\n    g = !0,\n    h = !1;\n  return {\n    s: function s() {\n      c = c.call(a);\n    },\n    n: function n() {\n      var a = c.next();\n      return g = a.done, a;\n    },\n    e: function e(a) {\n      h = !0, f = a;\n    },\n    f: function f() {\n      try {\n        g || null == c[\"return\"] || c[\"return\"]();\n      } finally {\n        if (h) throw f;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(a, b) {\n  if (a) {\n    if (\"string\" == typeof a) return _arrayLikeToArray(a, b);\n    var c = Object.prototype.toString.call(a).slice(8, -1);\n    return \"Object\" === c && a.constructor && (c = a.constructor.name), \"Map\" === c || \"Set\" === c ? Array.from(a) : \"Arguments\" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;\n  }\n}\nfunction _arrayLikeToArray(a, b) {\n  (null == b || b > a.length) && (b = a.length);\n  for (var c = 0, d = Array(b); c < b; c++) d[c] = a[c];\n  return d;\n}\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport React from \"react\";\nimport { isDefined } from \"../../utils/type-guards\";\nexport var getOptionsForFilters = function (a, b) {\n  return a.filter(function (a) {\n    var c = a.field;\n    return c === b;\n  }).map(function (a) {\n    var b = a.id,\n      c = a.name;\n    return {\n      value: b,\n      label: c\n    };\n  });\n};\nexport var getSelectedFiltersInitialState = function (a) {\n  return a ? a.reduce(function (a, b) {\n    return a[b.field] ? a : _objectSpread(_objectSpread({}, a), {}, _defineProperty({}, b.field, {\n      selected: []\n    }));\n  }, {}) : {};\n};\nexport var fieldFiltersPresent = function (a, b) {\n  return a.some(function (a) {\n    var c = a.field;\n    return c === b;\n  });\n};\nexport var isSelectedFiltersPresent = function (a) {\n  return Object.values(a).some(function (a) {\n    return 0 < (null === a || void 0 === a ? void 0 : a.selected.length);\n  });\n};\nexport var getSelectedFiltersList = function (a) {\n  var b = a.filters,\n    c = a.selectedFilters,\n    d = a.columns;\n  return d.reduce(function (a, d) {\n    var e = c[d.accessor] || [],\n      f = [];\n    return e.selected && 0 < e.selected.length && (f = e.selected.map(function (a) {\n      var c = b.find(function (b) {\n        var c = b.id;\n        return c === a;\n      });\n      return c ? {\n        id: c.id,\n        name: c.name,\n        value: e.value\n      } : void 0;\n    }).filter(isDefined)), 0 < f.length ? [].concat(_toConsumableArray(a), _toConsumableArray(f)) : a;\n  }, []);\n};\nexport var filterTableData = function (a) {\n  var b,\n    c = a.data,\n    d = a.filters,\n    e = a.selectedFilters,\n    f = [],\n    g = _createForOfIteratorHelper(c);\n  try {\n    for (g.s(); !(b = g.n()).done;) {\n      var h,\n        i = b.value,\n        j = _objectSpread({}, i);\n      null !== (h = j.rows) && void 0 !== h && h.length && (j.rows = filterTableData({\n        data: j.rows,\n        filters: d,\n        selectedFilters: e\n      }));\n      for (var k = Object.keys(j), l = !0, m = 0, n = k; m < n.length; m++) {\n        var o = n[m],\n          p = e[o];\n        if (p && p.selected.length) {\n          var q = !1,\n            r = j[o];\n          if (p.value) (function () {\n            var a = _slicedToArray(p.selected, 1),\n              b = a[0],\n              c = d.find(function (a) {\n                var c = a.id;\n                return c === b;\n              });\n            c.filterer(r, p.value) && (q = !0);\n          })();else {\n            var s,\n              t = _createForOfIteratorHelper(p.selected);\n            try {\n              var u = function () {\n                var a = s.value,\n                  b = d.find(function (b) {\n                    var c = b.id;\n                    return c === a;\n                  });\n                return null === p.value ? (q = !0, \"break\") : b && b.filterer(r) ? (q = !0, \"break\") : void 0;\n              };\n              for (t.s(); !(s = t.n()).done;) {\n                var v = u();\n                if (\"break\" === v) break;\n              }\n            } catch (a) {\n              t.e(a);\n            } finally {\n              t.f();\n            }\n          }\n          q || (l = !1);\n        }\n        if (!l) break;\n      }\n      l && f.push(j);\n    }\n  } catch (a) {\n    g.e(a);\n  } finally {\n    g.f();\n  }\n  return f;\n};\nexport var useSelectedFilters = function (a, b) {\n  var c = React.useState(getSelectedFiltersInitialState(a)),\n    d = _slicedToArray(c, 2),\n    e = d[0],\n    f = d[1],\n    g = function (a, c, d) {\n      var g = _objectSpread(_objectSpread({}, e), {}, _defineProperty({}, a, {\n        selected: _toConsumableArray(c),\n        value: d\n      }));\n      f(g), b && b(g);\n    };\n  return {\n    selectedFilters: e,\n    updateSelectedFilters: g,\n    removeOneSelectedFilter: function removeOneSelectedFilter(a, b) {\n      var c = a.find(function (a) {\n        var c = a.id;\n        return c === b;\n      });\n      if (c) {\n        var d;\n        g(c.field, null === (d = (e[c.field] || {}).selected) || void 0 === d ? void 0 : d.filter(function (a) {\n          return a !== b;\n        }));\n      }\n    },\n    removeAllSelectedFilters: function removeAllSelectedFilters(a) {\n      var c = getSelectedFiltersInitialState(a);\n      f(c), b && b(c);\n    }\n  };\n};","map":{"version":3,"names":["React","isDefined","getOptionsForFilters","a","b","filter","c","field","map","id","name","value","label","getSelectedFiltersInitialState","reduce","_objectSpread","_defineProperty","selected","fieldFiltersPresent","some","isSelectedFiltersPresent","Object","values","length","getSelectedFiltersList","filters","selectedFilters","d","columns","e","accessor","f","find","concat","_toConsumableArray","filterTableData","data","g","_createForOfIteratorHelper","s","n","done","h","i","j","rows","k","keys","l","m","o","p","q","r","_slicedToArray","filterer","t","u","v","push","useSelectedFilters","useState","updateSelectedFilters","removeOneSelectedFilter","removeAllSelectedFilters"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/components/Table/filtering.ts"],"sourcesContent":["import React from 'react';\n\nimport { isDefined } from '../../utils/type-guards';\nimport { SortByProps, TableColumn, TableRow, ValueOf } from './Table';\n\nexport type FilterComponentProps = {\n  onConfirm: (value: unknown) => void;\n  onCancel: () => void;\n  filterValue?: unknown;\n} & Record<string, unknown>;\n\nexport type Filters<T extends TableRow> = ValueOf<{\n  [K in keyof T]: {\n    id: string;\n    name: string;\n    field: K extends string ? K : never;\n    filterer(value: any, filterValue?: unknown): boolean;\n  } & (\n    | { component?: never }\n    | {\n        component: {\n          name: React.FC<FilterComponentProps>;\n          props?: Omit<FilterComponentProps, 'onConfirm' | 'filterValue'>;\n        };\n      }\n  );\n}>[];\n\nexport type onSortBy<T extends TableRow> = (\n  props: SortByProps<T> | null,\n) => void;\n\nexport type FieldSelectedValues = string[];\n\ntype SelectedFilter = {\n  selected: FieldSelectedValues;\n  value?: any;\n};\n\nexport type SelectedFilters = { [field: string]: SelectedFilter };\n\ntype SelectedFiltersList = Array<{\n  id: string;\n  name: string;\n}>;\n\nexport const getOptionsForFilters = <T extends TableRow>(\n  filters: Filters<T>,\n  field: string,\n): { value: string; label: string }[] => {\n  return filters\n    .filter(({ field: filterField }) => filterField === field)\n    .map(({ id, name }) => ({ value: id, label: name }));\n};\n\nexport const getSelectedFiltersInitialState = <T extends TableRow>(\n  filters?: Filters<T>,\n): SelectedFilters => {\n  if (!filters) {\n    return {};\n  }\n\n  return filters.reduce<SelectedFilters>((fieldAcc, fieldCur) => {\n    if (!fieldAcc[fieldCur.field]) {\n      return {\n        ...fieldAcc,\n        [fieldCur.field]: {\n          selected: [],\n        },\n      };\n    }\n\n    return fieldAcc;\n  }, {});\n};\n\nexport const fieldFiltersPresent = <T extends TableRow>(\n  tableFilters: Filters<T>,\n  field: string,\n): boolean => {\n  return tableFilters.some(({ field: filterField }) => filterField === field);\n};\n\nexport const isSelectedFiltersPresent = (\n  selectedFilters: SelectedFilters,\n): boolean => {\n  return Object.values(selectedFilters).some(\n    (filterGroup) => filterGroup?.selected!.length > 0,\n  );\n};\n\nexport const getSelectedFiltersList = <T extends TableRow>({\n  filters,\n  selectedFilters,\n  columns,\n}: {\n  filters: Filters<T>;\n  selectedFilters: SelectedFilters;\n  columns: Array<TableColumn<T>>;\n}): SelectedFiltersList => {\n  return columns.reduce<SelectedFiltersList>((acc, cur) => {\n    const currentFieldFilters = selectedFilters[cur.accessor!] || [];\n    let orderedFilters: SelectedFiltersList = [];\n\n    if (\n      currentFieldFilters.selected &&\n      currentFieldFilters.selected.length > 0\n    ) {\n      orderedFilters = currentFieldFilters\n        .selected!.map((filter) => {\n          const option = filters.find(\n            ({ id: filterId }) => filterId === filter,\n          );\n\n          return option\n            ? {\n                id: option.id,\n                name: option.name,\n                value: currentFieldFilters.value,\n              }\n            : undefined;\n        })\n        .filter(isDefined);\n    }\n\n    return orderedFilters.length > 0 ? [...acc, ...orderedFilters] : acc;\n  }, []);\n};\n\nexport const filterTableData = <T extends TableRow>({\n  data,\n  filters,\n  selectedFilters,\n}: {\n  data: T[];\n  filters: Filters<T>;\n  selectedFilters: SelectedFilters;\n}): T[] => {\n  const mutableFilteredData = [];\n\n  for (const row of data) {\n    const copiedRow = { ...row };\n\n    if (copiedRow.rows?.length) {\n      copiedRow.rows = filterTableData({\n        data: copiedRow.rows as T[],\n        filters,\n        selectedFilters,\n      });\n    }\n\n    const columnNames = Object.keys(copiedRow);\n    let rowIsValid = true;\n\n    for (const columnName of columnNames) {\n      const columnFilters = selectedFilters[columnName];\n\n      if (columnFilters && columnFilters.selected!.length) {\n        let cellIsValid = false;\n        const cellContent = copiedRow[columnName as keyof T];\n\n        if (columnFilters.value) {\n          const [filterId] = columnFilters.selected;\n          const filter = filters.find(({ id }) => id === filterId);\n\n          if (filter!.filterer(cellContent, columnFilters.value)) {\n            cellIsValid = true;\n          }\n        } else {\n          for (const filterId of columnFilters.selected!) {\n            const filter = filters.find(({ id }) => id === filterId);\n\n            if (columnFilters.value === null) {\n              cellIsValid = true;\n              break;\n            }\n\n            if (filter && filter.filterer(cellContent)) {\n              cellIsValid = true;\n              break;\n            }\n          }\n        }\n\n        if (!cellIsValid) {\n          rowIsValid = false;\n        }\n      }\n\n      if (!rowIsValid) {\n        break;\n      }\n    }\n\n    if (rowIsValid) {\n      mutableFilteredData.push(copiedRow);\n    }\n  }\n\n  return mutableFilteredData;\n};\n\n/* istanbul ignore next */\nexport const useSelectedFilters = <T extends TableRow>(\n  filters?: Filters<T>,\n  onFiltersUpdated?: (filters: SelectedFilters) => void,\n): {\n  selectedFilters: SelectedFilters;\n  updateSelectedFilters: (\n    field: string,\n    tooltipSelectedFilters: FieldSelectedValues,\n    value?: unknown,\n  ) => void;\n  removeOneSelectedFilter: (\n    availableFilters: Filters<T>,\n    filter: string,\n  ) => void;\n  removeAllSelectedFilters: (availableFilters: Filters<T>) => void;\n} => {\n  const [selectedFilters, setSelectedFilters] = React.useState<SelectedFilters>(\n    getSelectedFiltersInitialState(filters),\n  );\n\n  const updateSelectedFilters = (\n    field: string,\n    tooltipSelectedFilters: FieldSelectedValues,\n    value?: unknown,\n  ): void => {\n    const newSelectedFilters = {\n      ...selectedFilters,\n      [field]: {\n        selected: [...tooltipSelectedFilters],\n        value,\n      },\n    };\n\n    setSelectedFilters(newSelectedFilters);\n    onFiltersUpdated && onFiltersUpdated(newSelectedFilters);\n  };\n\n  const removeOneSelectedFilter = (\n    availableFilters: Filters<T>,\n    filter: string,\n  ): void => {\n    const filterToDelete = availableFilters.find(({ id }) => id === filter);\n\n    if (filterToDelete) {\n      updateSelectedFilters(\n        filterToDelete.field,\n        (selectedFilters[filterToDelete.field] || {}).selected?.filter(\n          (f) => f !== filter,\n        ),\n      );\n    }\n  };\n\n  const removeAllSelectedFilters = (availableFilters: Filters<T>): void => {\n    const initialSelectedFilters =\n      getSelectedFiltersInitialState(availableFilters);\n    setSelectedFilters(initialSelectedFilters);\n    onFiltersUpdated && onFiltersUpdated(initialSelectedFilters);\n  };\n\n  return {\n    selectedFilters,\n    updateSelectedFilters,\n    removeOneSelectedFilter,\n    removeAllSelectedFilters,\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}