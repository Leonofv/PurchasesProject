{"ast":null,"code":"import \"./TableSelectedOptionsList.css\";\nimport { IconClose } from \"@consta/icons/IconClose\";\nimport React from \"react\";\nimport { cn } from \"../../../utils/bem\";\nimport { isNotNil, isNumber } from \"../../../utils/type-guards\";\nimport { Button } from \"../../Button/Button\";\nimport { Tag } from \"../../Tag/Tag\";\nvar cnTableSelectedOptionsList = cn(\"TableSelectedOptionsList\"),\n  getTagLabelDefault = function (a, b, c) {\n    var d = isNumber(c) ? {\n      name: c + \"\"\n    } : c;\n    if (!isNotNil(d)) return b;\n    var e = \"\";\n    return Array.isArray(d) && (e = d.map(function (a) {\n      var b = a.name;\n      return b;\n    }).join(\", \")), d.min && d.max ? e = \"\\u043E\\u0442 \".concat(d.min, \" \\u0434\\u043E \").concat(d.max) : d.min ? e = \"\\u043E\\u0442 \".concat(d.min) : d.max && (e = \"\\u0434\\u043E \".concat(d.max)), d.name && (e = \"\".concat(d.name)), b + e;\n  };\nexport var TableSelectedOptionsList = function (a) {\n  var b = a.values,\n    c = a.onRemove,\n    d = a.onReset,\n    e = a.getTagLabel,\n    f = void 0 === e ? getTagLabelDefault : e;\n  return React.createElement(\"div\", {\n    className: cnTableSelectedOptionsList()\n  }, React.createElement(\"div\", {\n    className: cnTableSelectedOptionsList(\"Options\")\n  }, b.map(function (a) {\n    return React.createElement(Tag, {\n      className: cnTableSelectedOptionsList(\"Option\"),\n      key: a.id,\n      label: f(a.id, a.name, a.value),\n      size: \"xs\",\n      mode: \"cancel\",\n      onCancel: function onCancel() {\n        return c(a.id);\n      }\n    });\n  })), React.createElement(Button, {\n    type: \"button\",\n    onClick: d,\n    title: \"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u0432\\u0441\\u0435 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\",\n    size: \"xs\",\n    view: \"clear\",\n    onlyIcon: !0,\n    iconLeft: IconClose,\n    className: cnTableSelectedOptionsList(\"Button\")\n  }));\n};","map":{"version":3,"names":["IconClose","React","cn","isNotNil","isNumber","Button","Tag","cnTableSelectedOptionsList","getTagLabelDefault","a","b","c","d","name","e","Array","isArray","map","join","min","max","concat","TableSelectedOptionsList","values","onRemove","onReset","getTagLabel","f","createElement","className","key","id","label","value","size","mode","onCancel","type","onClick","title","view","onlyIcon","iconLeft"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/components/Table/SelectedOptionsList/TableSelectedOptionsList.tsx"],"sourcesContent":["import './TableSelectedOptionsList.css';\n\nimport { IconClose } from '@consta/icons/IconClose';\nimport React from 'react';\n\nimport { cn } from '../../../utils/bem';\nimport { isNotNil, isNumber } from '../../../utils/type-guards';\nimport { Button } from '../../Button/Button';\nimport { Tag } from '../../Tag/Tag';\n\nconst cnTableSelectedOptionsList = cn('TableSelectedOptionsList');\n\ntype OptionValue = {\n  min?: string;\n  max?: string;\n} & Array<{\n  name: string;\n  value: string | number;\n}> & {\n    name: string;\n    value: string | number;\n  };\n\nexport type GetTagLabel = (\n  id: string,\n  name: string,\n  filterValue?: unknown,\n) => string;\n\ntype Props = {\n  values: Array<{ id: string; name: string; value?: unknown }>;\n  getTagLabel?: GetTagLabel;\n  onRemove: (id: string) => void;\n  onReset: () => void;\n};\n\nconst getTagLabelDefault: GetTagLabel = (\n  id,\n  name,\n  filterValue?: unknown,\n): string => {\n  const localFilterValue = (\n    isNumber(filterValue) ? { name: String(filterValue) } : filterValue\n  ) as OptionValue;\n  if (!isNotNil(localFilterValue)) {\n    return name;\n  }\n\n  let restName = '';\n  if (Array.isArray(localFilterValue)) {\n    restName = localFilterValue.map(({ name }) => name).join(', ');\n  }\n\n  if (localFilterValue.min && localFilterValue.max) {\n    restName = `от ${localFilterValue.min} до ${localFilterValue.max}`;\n  } else if (localFilterValue.min) {\n    restName = `от ${localFilterValue.min}`;\n  } else if (localFilterValue.max) {\n    restName = `до ${localFilterValue.max}`;\n  }\n\n  if (localFilterValue.name) {\n    restName = `${localFilterValue.name}`;\n  }\n\n  return name + restName;\n};\n\nexport const TableSelectedOptionsList: React.FC<Props> = ({\n  values,\n  onRemove,\n  onReset,\n  getTagLabel = getTagLabelDefault,\n}) => {\n  return (\n    <div className={cnTableSelectedOptionsList()}>\n      <div className={cnTableSelectedOptionsList('Options')}>\n        {values.map((option) => (\n          <Tag\n            className={cnTableSelectedOptionsList('Option')}\n            key={option.id}\n            label={getTagLabel(option.id, option.name, option.value)}\n            size=\"xs\"\n            mode=\"cancel\"\n            onCancel={(): void => onRemove(option.id)}\n          />\n        ))}\n      </div>\n      <Button\n        type=\"button\"\n        onClick={onReset}\n        title=\"Сбросить все фильтры\"\n        size=\"xs\"\n        view=\"clear\"\n        onlyIcon\n        iconLeft={IconClose}\n        className={cnTableSelectedOptionsList('Button')}\n      />\n    </div>\n  );\n};\n"],"mappings":"AAAA;AAEA,SAASA,SAAT,QAA0B,yBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,EAAT;AACA,SAASC,QAAT,EAAmBC,QAAnB;AACA,SAASC,MAAT;AACA,SAASC,GAAT;IAEMC,0BAA0B,GAAGL,EAAE,CAAC,0BAAD,C;EA0B/BM,kBAA+B,GAAG,SAAAA,CACtCC,CADsC,EAEtCC,CAFsC,EAGtCC,CAHsC,EAI3B;IACX,IAAMC,CAAgB,GACpBR,QAAQ,CAACO,CAAD,CAAR,GAAwB;MAAEE,IAAI,EAASF,CAAT;IAAN,CAAxB,GAAwDA,CAD1D;IAGA,IAAI,CAACR,QAAQ,CAACS,CAAD,CAAb,EACE,OAAOF,CAAP;IAGF,IAAII,CAAQ,GAAG,EAAf;IAiBA,OAhBIC,KAAK,CAACC,OAAN,CAAcJ,CAAd,CAgBJ,KAfEE,CAAQ,GAAGF,CAAgB,CAACK,GAAjB,CAAqB,UAAAR,CAAA;MAAA,IAAGC,CAAH,GAAAD,CAAA,CAAGI,IAAH;MAAA,OAAcH,CAAd;IAAA,CAArB,EAAyCQ,IAAzC,CAA8C,IAA9C,CAeb,GAZIN,CAAgB,CAACO,GAAjB,IAAwBP,CAAgB,CAACQ,GAY7C,GAXEN,CAAQ,mBAAAO,MAAA,CAAST,CAAgB,CAACO,GAA1B,oBAAAE,MAAA,CAAoCT,CAAgB,CAACQ,GAArD,CAWV,GAVWR,CAAgB,CAACO,GAU5B,GATEL,CAAQ,mBAAAO,MAAA,CAAST,CAAgB,CAACO,GAA1B,CASV,GARWP,CAAgB,CAACQ,GAQ5B,KAPEN,CAAQ,mBAAAO,MAAA,CAAST,CAAgB,CAACQ,GAA1B,CAOV,GAJIR,CAAgB,CAACC,IAIrB,KAHEC,CAAQ,MAAAO,MAAA,CAAMT,CAAgB,CAACC,IAAvB,CAGV,GAAOH,CAAI,GAAGI,CACf;EAAA,C;AAED,OAAO,IAAMQ,wBAAyC,GAAG,SAAAA,CAAAb,CAAA,EAKnD;EAAA,IAJJC,CAII,GAAAD,CAAA,CAJJc,MAII;IAHJZ,CAGI,GAAAF,CAAA,CAHJe,QAGI;IAFJZ,CAEI,GAAAH,CAAA,CAFJgB,OAEI;IAAAX,CAAA,GAAAL,CAAA,CADJiB,WACI;IADJC,CACI,cAAAb,CAAA,GADUN,kBACV,GAAAM,CAAA;EACJ,OACEb,KAAA,CAAA2B,aAAA;IAAKC,SAAS,EAAEtB,0BAA0B;EAA1C,GACEN,KAAA,CAAA2B,aAAA;IAAKC,SAAS,EAAEtB,0BAA0B,CAAC,SAAD;EAA1C,GACGG,CAAM,CAACO,GAAP,CAAW,UAACR,CAAD;IAAA,OACVR,KAAA,CAAA2B,aAAA,CAACtB,GAAD;MACEuB,SAAS,EAAEtB,0BAA0B,CAAC,QAAD,CADvC;MAEEuB,GAAG,EAAErB,CAAM,CAACsB,EAFd;MAGEC,KAAK,EAAEL,CAAW,CAAClB,CAAM,CAACsB,EAAR,EAAYtB,CAAM,CAACI,IAAnB,EAAyBJ,CAAM,CAACwB,KAAhC,CAHpB;MAIEC,IAAI,EAAC,IAJP;MAKEC,IAAI,EAAC,QALP;MAMEC,QAAQ,EAAE,SAAAA,SAAA;QAAA,OAAYzB,CAAQ,CAACF,CAAM,CAACsB,EAAR,CAApB;MAAA;IANZ,EADU;EAAA,CAAX,CADH,CADF,EAaE9B,KAAA,CAAA2B,aAAA,CAACvB,MAAD;IACEgC,IAAI,EAAC,QADP;IAEEC,OAAO,EAAE1B,CAFX;IAGE2B,KAAK,EAAC,gHAHR;IAIEL,IAAI,EAAC,IAJP;IAKEM,IAAI,EAAC,OALP;IAMEC,QAAQ,IANV;IAOEC,QAAQ,EAAE1C,SAPZ;IAQE6B,SAAS,EAAEtB,0BAA0B,CAAC,QAAD;EARvC,EAbF,CAyBH;AAAA,CAhCM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}