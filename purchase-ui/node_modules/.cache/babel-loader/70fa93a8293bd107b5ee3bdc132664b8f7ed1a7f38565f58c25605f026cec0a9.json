{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction _createSuper(a) {\n  var b = _isNativeReflectConstruct();\n  return function () {\n    var c,\n      d = _getPrototypeOf(a);\n    if (b) {\n      var e = _getPrototypeOf(this).constructor;\n      c = Reflect.construct(d, arguments, e);\n    } else c = d.apply(this, arguments);\n    return _possibleConstructorReturn(this, c);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n  if (Reflect.construct.sham) return !1;\n  if (\"function\" == typeof Proxy) return !0;\n  try {\n    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n  } catch (a) {\n    return !1;\n  }\n}\nimport \"./TableResizer.css\";\nimport React from \"react\";\nimport { cn } from \"../../../utils/bem\";\nvar cnTableResizer = cn(\"TableResizer\");\nexport var TableResizer = function (a) {\n  function b() {\n    var a;\n    _classCallCheck(this, b);\n    for (var d = arguments.length, e = Array(d), f = 0; f < d; f++) e[f] = arguments[f];\n    return a = c.call.apply(c, [this].concat(e)), _defineProperty(_assertThisInitialized(a), \"state\", {\n      isDragging: !1\n    }), _defineProperty(_assertThisInitialized(a), \"onMouseDown\", function () {\n      a.setState({\n        isDragging: !0\n      }), document.addEventListener(\"mousemove\", a.onMouseMove), document.addEventListener(\"mouseup\", a.onMouseUp);\n    }), _defineProperty(_assertThisInitialized(a), \"onMouseMove\", function (b) {\n      b.movementX && a.props.onResize(b.movementX);\n    }), _defineProperty(_assertThisInitialized(a), \"onMouseUp\", function () {\n      a.setState({\n        isDragging: !1\n      }), a.removeListeners();\n    }), _defineProperty(_assertThisInitialized(a), \"removeListeners\", function () {\n      document.removeEventListener(\"mousemove\", a.onMouseMove), document.removeEventListener(\"mouseup\", a.onMouseUp);\n    }), a;\n  }\n  _inherits(b, a);\n  var c = _createSuper(b);\n  return _createClass(b, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeListeners();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: cnTableResizer({\n          isDragging: this.state.isDragging,\n          isVisible: this.props.isVisible\n        }),\n        \"aria-hidden\": !0,\n        style: {\n          height: this.props.height,\n          top: this.props.top\n        },\n        onMouseDown: this.onMouseDown,\n        onDoubleClick: this.props.onDoubleClick\n      });\n    }\n  }]), b;\n}(React.Component);","map":{"version":3,"names":["React","cn","cnTableResizer","TableResizer","a","b","_classCallCheck","d","arguments","length","e","Array","f","c","call","apply","concat","_defineProperty","_assertThisInitialized","isDragging","setState","document","addEventListener","onMouseMove","onMouseUp","movementX","props","onResize","removeListeners","removeEventListener","_inherits","_createSuper","_createClass","key","value","componentWillUnmount","render","createElement","className","state","isVisible","style","height","top","onMouseDown","onDoubleClick","Component"],"sources":["/Users/leonofv/Desktop/purchase-ui/node_modules/@consta/src/components/Table/Resizer/TableResizer.tsx"],"sourcesContent":["import './TableResizer.css';\n\nimport React from 'react';\n\nimport { cn } from '../../../utils/bem';\n\nconst cnTableResizer = cn('TableResizer');\n\ntype Props = {\n  height: number;\n  top: number;\n  isVisible?: boolean;\n  onResize: (delta: number) => void;\n  onDoubleClick: () => void;\n};\n\n/* Сделано классом, чтобы хэндлеры событий на document могли иметь доступ к актуальному стэйту/пропсам без пересоздания подписок */\nexport class TableResizer extends React.Component<\n  Props,\n  { isDragging: boolean }\n> {\n  state = {\n    isDragging: false,\n  };\n\n  componentWillUnmount(): void {\n    this.removeListeners();\n  }\n\n  onMouseDown = (): void => {\n    this.setState({ isDragging: true });\n\n    document.addEventListener('mousemove', this.onMouseMove);\n    document.addEventListener('mouseup', this.onMouseUp);\n  };\n\n  onMouseMove = (e: MouseEvent): void => {\n    if (e.movementX) {\n      this.props.onResize(e.movementX);\n    }\n  };\n\n  onMouseUp = (): void => {\n    this.setState({ isDragging: false });\n\n    this.removeListeners();\n  };\n\n  removeListeners = (): void => {\n    document.removeEventListener('mousemove', this.onMouseMove);\n    document.removeEventListener('mouseup', this.onMouseUp);\n  };\n\n  render(): JSX.Element {\n    return (\n      <div\n        className={cnTableResizer({\n          isDragging: this.state.isDragging,\n          isVisible: this.props.isVisible,\n        })}\n        aria-hidden\n        style={{ height: this.props.height, top: this.props.top }}\n        onMouseDown={this.onMouseDown}\n        onDoubleClick={this.props.onDoubleClick}\n      />\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,EAAT;AAEA,IAAMC,cAAc,GAAGD,EAAE,CAAC,cAAD,CAAzB;AAWA,WAAaE,YAAb,aAAAC,CAAA;EAAA,SAAAC,EAAA;IAAA,IAAAD,CAAA;IAAAE,eAAA,OAAAD,CAAA;IAAA,SAAAE,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,CAAA,GAAAC,KAAA,CAAAJ,CAAA,GAAAK,CAAA,MAAAA,CAAA,GAAAL,CAAA,EAAAK,CAAA,IAAAF,CAAA,CAAAE,CAAA,IAAAJ,SAAA,CAAAI,CAAA;IAAA,OAAAR,CAAA,GAAAS,CAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAF,CAAA,SAAAG,MAAA,CAAAN,CAAA,IAAAO,eAAA,CAAAC,sBAAA,CAAAd,CAAA,YAIU;MACNe,UAAU;IADJ,CAJV,GAAAF,eAAA,CAAAC,sBAAA,CAAAd,CAAA,kBAYgB,YAAY;MACxBA,CAAA,CAAKgB,QAAL,CAAc;QAAED,UAAU;MAAZ,CAAd,CADwB,EAGxBE,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuClB,CAAA,CAAKmB,WAA5C,CAHwB,EAIxBF,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqClB,CAAA,CAAKoB,SAA1C,CACD;IAAA,CAjBH,GAAAP,eAAA,CAAAC,sBAAA,CAAAd,CAAA,kBAmBgB,UAACC,CAAD,EAAyB;MACjCA,CAAC,CAACoB,SAD+B,IAEnCrB,CAAA,CAAKsB,KAAL,CAAWC,QAAX,CAAoBtB,CAAC,CAACoB,SAAtB,CAEH;IAAA,CAvBH,GAAAR,eAAA,CAAAC,sBAAA,CAAAd,CAAA,gBAyBc,YAAY;MACtBA,CAAA,CAAKgB,QAAL,CAAc;QAAED,UAAU;MAAZ,CAAd,CADsB,EAGtBf,CAAA,CAAKwB,eAAL,EACD;IAAA,CA7BH,GAAAX,eAAA,CAAAC,sBAAA,CAAAd,CAAA,sBA+BoB,YAAY;MAC5BiB,QAAQ,CAACQ,mBAAT,CAA6B,WAA7B,EAA0CzB,CAAA,CAAKmB,WAA/C,CAD4B,EAE5BF,QAAQ,CAACQ,mBAAT,CAA6B,SAA7B,EAAwCzB,CAAA,CAAKoB,SAA7C,CACD;IAAA,CAlCH,GAAApB,CAAA;EAAA;EAAA0B,SAAA,CAAAzB,CAAA,EAAAD,CAAA;EAAA,IAAAS,CAAA,GAAAkB,YAAA,CAAA1B,CAAA;EAAA,OAAA2B,YAAA,CAAA3B,CAAA;IAAA4B,GAAA;IAAAC,KAAA,EAQE,SAAAC,qBAAA,EAA6B;MAC3B,KAAKP,eAAL,EACD;IAAA;EAVH;IAAAK,GAAA;IAAAC,KAAA,EAoCE,SAAAE,OAAA,EAAsB;MACpB,OACEpC,KAAA,CAAAqC,aAAA;QACEC,SAAS,EAAEpC,cAAc,CAAC;UACxBiB,UAAU,EAAE,KAAKoB,KAAL,CAAWpB,UADC;UAExBqB,SAAS,EAAE,KAAKd,KAAL,CAAWc;QAFE,CAAD,CAD3B;QAKE,iBALF;QAMEC,KAAK,EAAE;UAAEC,MAAM,EAAE,KAAKhB,KAAL,CAAWgB,MAArB;UAA6BC,GAAG,EAAE,KAAKjB,KAAL,CAAWiB;QAA7C,CANT;QAOEC,WAAW,EAAE,KAAKA,WAPpB;QAQEC,aAAa,EAAE,KAAKnB,KAAL,CAAWmB;MAR5B,EAWH;IAAA;EAjDH,KAAAxC,CAAA;AAAA,EAAkCL,KAAK,CAAC8C,SAAxC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}