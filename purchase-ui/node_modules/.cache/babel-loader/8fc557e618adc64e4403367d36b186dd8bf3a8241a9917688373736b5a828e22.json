{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nconst _excluded = [\"size\", \"className\"],\n  _excluded2 = [\"children\"];\nimport React, { useContext, useEffect, useMemo } from \"react\";\nimport { cnIcons, IconsContext } from \"../../components/IconsProvider\";\nimport { renderTypeDefault } from \"./helpers\";\nexport const createSvg = a => b => {\n  var c;\n  const {\n      name: d,\n      renderType: e = renderTypeDefault\n    } = a,\n    {\n      size: g = \"m\",\n      className: f\n    } = b,\n    h = _objectWithoutProperties(b, _excluded),\n    i = a[g],\n    {\n      addIcon: j,\n      removeIcon: k\n    } = useContext(IconsContext),\n    l = useMemo(() => \"use\" === e[g] ? i({\n      className: f\n    }) : null, [i]),\n    m = null !== (c = null === l || void 0 === l ? void 0 : l.props) && void 0 !== c ? c : {},\n    {\n      children: n\n    } = m,\n    o = _objectWithoutProperties(m, _excluded2);\n  return useEffect(() => {\n    \"use\" === e[g] && (null === j || void 0 === j ? void 0 : j(d, g, l));\n  }, [l, e, g]), useEffect(() => () => {\n    \"use\" === e[g] && (null === k || void 0 === k ? void 0 : k(d, g));\n  }, [i, e, g]), j && \"use\" === e[g] ? React.createElement(\"svg\", Object.assign({}, h, o), React.createElement(\"use\", {\n    x: \"0\",\n    y: \"0\",\n    xlinkHref: `#${cnIcons(`${d}_${g}`)}`\n  })) : React.createElement(i, {\n    className: f\n  });\n};","map":{"version":3,"names":["React","useContext","useEffect","useMemo","cnIcons","IconsContext","renderTypeDefault","createSvg","a","b","c","name","d","renderType","e","size","g","className","f","h","_objectWithoutProperties","_excluded","i","addIcon","j","removeIcon","k","l","m","props","children","n","o","_excluded2","createElement","Object","assign","x","y","xlinkHref"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/icons/Icon/createSvg.tsx"],"sourcesContent":["import React, { useContext, useEffect, useMemo } from 'react';\n\nimport { cnIcons, IconsContext } from '##/components/IconsProvider';\n\nimport { CreateIconArguments, renderTypeDefault, SvgProps } from './helpers';\n\nexport const createSvg =\n  (createProps: CreateIconArguments) => (props: SvgProps) => {\n    const { name, renderType = renderTypeDefault } = createProps;\n\n    const { size = 'm', className, ...otherProps } = props;\n\n    const Svg = createProps[size];\n    const { addIcon, removeIcon } = useContext(IconsContext);\n\n    const SvgElement = useMemo(() => {\n      return renderType[size] === 'use' ? Svg({ className }) : null;\n    }, [Svg]);\n\n    const { children: _children, ...svgProps } = SvgElement?.props ?? {};\n\n    useEffect(() => {\n      if (renderType[size] === 'use') {\n        addIcon?.(name, size, SvgElement);\n      }\n    }, [SvgElement, renderType, size]);\n\n    useEffect(() => {\n      return () => {\n        if (renderType[size] === 'use') {\n          removeIcon?.(name, size);\n        }\n      };\n    }, [Svg, renderType, size]);\n\n    if (addIcon && renderType[size] === 'use') {\n      return (\n        <svg {...otherProps} {...svgProps}>\n          <use x=\"0\" y=\"0\" xlinkHref={`#${cnIcons(`${name}_${size}`)}`} />\n        </svg>\n      );\n    }\n    return <Svg className={className} />;\n  };\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,OAAvC,QAAsD,OAAtD;AAEA,SAASC,OAAT,EAAkBC,YAAlB;AAEA,SAA8BC,iBAA9B;AAEA,OAAO,MAAMC,SAAS,GACnBC,CAAD,IAAuCC,CAAD,IAAqB;EAAA,IAAAC,CAAA;EAAA,MACnD;MAAEC,IAAI,EAAJC,CAAF;MAAQC,UAAU,EAAVC,CAAU,GAAGR;IAArB,IAA2CE,CADQ;IAGnD;MAAEO,IAAI,EAAJC,CAAI,GAAG,GAAT;MAAcC,SAAS,EAATC;IAAd,IAA2CT,CAHQ;IAGvBU,CAHuB,GAAAC,wBAAA,CAGRX,CAHQ,EAAAY,SAAA;IAKnDC,CAAG,GAAGd,CAAW,CAACQ,CAAD,CALkC;IAMnD;MAAEO,OAAO,EAAPC,CAAF;MAAWC,UAAU,EAAVC;IAAX,IAA0BzB,UAAU,CAACI,YAAD,CANe;IAQnDsB,CAAU,GAAGxB,OAAO,CAAC,MACG,KAArB,KAAAW,CAAU,CAACE,CAAD,CAAV,GAA6BM,CAAG,CAAC;MAAEL,SAAS,EAATC;IAAF,CAAD,CAAhC,GAAkD,IADjC,EAEvB,CAACI,CAAD,CAFuB,CAR+B;IAAAM,CAAA,aAAAlB,CAAA,YAYZiB,CAZY,eAYZA,CAZY,YAYZA,CAAU,CAAEE,KAZA,gBAAAnB,CAAA,GAAAA,CAAA,GAYS,EAZT;IAYnD;MAAEoB,QAAQ,EAAEC;IAAZ,CAZmD,GAAAH,CAAA;IAYzBI,CAZyB,GAAAZ,wBAAA,CAAAQ,CAAA,EAAAK,UAAA;EAAA,OAczD/B,SAAS,CAAC,MAAM;IACW,KAArB,KAAAY,CAAU,CAACE,CAAD,CADA,cAEZQ,CAFY,eAEZA,CAFY,YAEZA,CAAO,CAAGZ,CAAH,EAASI,CAAT,EAAeW,CAAf,CAFK,CAIf;EAAA,CAJQ,EAIN,CAACA,CAAD,EAAab,CAAb,EAAyBE,CAAzB,CAJM,CAdgD,EAoBzDd,SAAS,CAAC,MACD,MAAM;IACc,KAArB,KAAAY,CAAU,CAACE,CAAD,CADH,cAETU,CAFS,eAETA,CAFS,YAETA,CAAU,CAAGd,CAAH,EAASI,CAAT,CAFD,CAIZ;EAAA,CALM,EAMN,CAACM,CAAD,EAAMR,CAAN,EAAkBE,CAAlB,CANM,CApBgD,EA4BrDQ,CAAO,IAAyB,KAArB,KAAAV,CAAU,CAACE,CAAD,CA5BgC,GA8BrDhB,KAAA,CAAAkC,aAAA,QAAAC,MAAA,CAAAC,MAAA,KAASjB,CAAT,EAAyBa,CAAzB,GACEhC,KAAA,CAAAkC,aAAA;IAAKG,CAAC,EAAC,GAAP;IAAWC,CAAC,EAAC,GAAb;IAAiBC,SAAS,EAAG,IAAGnC,OAAO,CAAE,GAAEQ,CAAK,IAAGI,CAAK,EAAjB,CAAoB;EAA3D,EADF,CA9BqD,GAmClDhB,KAAA,CAAAkC,aAAA,CAACZ,CAAD;IAAKL,SAAS,EAAEC;EAAhB,EACR;AAAA,CArCI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}