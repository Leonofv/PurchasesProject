{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"size\", \"form\", \"view\", \"width\", \"onlyIcon\", \"iconSize\", \"value\", \"multiple\", \"items\", \"getItemLabel\", \"onChange\", \"getItemIcon\", \"getItemAttributes\", \"getItemRef\", \"getItemDisabled\", \"name\", \"className\", \"disabled\", \"truncate\"];\nimport \"./ChoiceGroup.css\";\nimport React, { forwardRef } from \"react\";\nimport { useChoiceGroup } from \"../../hooks/useChoiceGroup\";\nimport { cn } from \"../../utils/bem\";\nimport { getByMap } from \"../../utils/getByMap\";\nimport { withDefaultGetters } from \"./helper\";\nimport { ChoiceGroupItem } from \"./Item/ChoiceGroup-Item\";\nimport { choiceGroupDefaultForm, choiceGroupDefaultSize, choiceGroupDefaultView, choiceGroupWidthDefault } from \"./types\";\nvar sizeMap = {\n  xs: \"xs\",\n  s: \"xs\",\n  m: \"s\",\n  l: \"m\"\n};\nexport var cnChoiceGroup = cn(\"ChoiceGroup\");\nvar ChoiceGroupRender = function (a, b) {\n  var c = withDefaultGetters(a),\n    d = c.size,\n    e = void 0 === d ? choiceGroupDefaultSize : d,\n    f = c.form,\n    g = void 0 === f ? choiceGroupDefaultForm : f,\n    h = c.view,\n    i = void 0 === h ? choiceGroupDefaultView : h,\n    j = c.width,\n    k = void 0 === j ? choiceGroupWidthDefault : j,\n    l = c.onlyIcon,\n    m = c.iconSize,\n    n = c.value,\n    o = void 0 === n ? null : n,\n    p = c.multiple,\n    q = void 0 !== p && p,\n    r = c.items,\n    s = c.getItemLabel,\n    t = c.onChange,\n    u = c.getItemIcon,\n    v = c.getItemAttributes,\n    w = c.getItemRef,\n    x = c.getItemDisabled,\n    y = c.name,\n    z = c.className,\n    A = c.disabled,\n    B = void 0 !== A && A,\n    C = c.truncate,\n    D = _objectWithoutProperties(c, _excluded),\n    E = useChoiceGroup({\n      value: o,\n      getKey: s,\n      callBack: t,\n      multiple: q\n    }),\n    F = E.getOnChange,\n    G = E.getChecked,\n    H = getByMap(sizeMap, e, m);\n  return React.createElement(\"div\", Object.assign({}, D, {\n    ref: b,\n    className: cnChoiceGroup({\n      size: e,\n      form: g,\n      view: i,\n      width: k,\n      onlyIcon: l,\n      disabled: B,\n      truncate: C\n    }, [z])\n  }), r.map(function (a, b) {\n    var c,\n      d = G(a),\n      e = !!x && x(a),\n      f = null !== (c = v(a)) && void 0 !== c ? c : {},\n      g = s(a).toString();\n    return React.createElement(React.Fragment, {\n      key: g\n    }, 0 < b && React.createElement(\"div\", {\n      className: cnChoiceGroup(\"Divider\", {\n        checked: d,\n        disabled: e\n      })\n    }), React.createElement(ChoiceGroupItem, Object.assign({\n      onChange: F(a),\n      checked: d,\n      label: g,\n      icon: u && u(a),\n      iconSize: H,\n      multiple: q,\n      onlyIcon: l,\n      ref: w(a),\n      name: y,\n      disabled: B || e,\n      title: l || C ? g : void 0\n    }, f)));\n  }));\n};\nexport var ChoiceGroup = forwardRef(ChoiceGroupRender);\nexport * from \"./types\";","map":{"version":3,"names":["React","forwardRef","useChoiceGroup","cn","getByMap","withDefaultGetters","ChoiceGroupItem","choiceGroupDefaultForm","choiceGroupDefaultSize","choiceGroupDefaultView","choiceGroupWidthDefault","sizeMap","xs","s","m","l","cnChoiceGroup","ChoiceGroupRender","a","b","c","d","size","e","f","form","g","h","view","i","j","width","k","onlyIcon","iconSize","n","value","o","p","multiple","q","r","items","getItemLabel","t","onChange","u","getItemIcon","v","getItemAttributes","w","getItemRef","x","getItemDisabled","y","name","z","className","A","disabled","B","C","truncate","D","_objectWithoutProperties","_excluded","E","getKey","callBack","F","getOnChange","G","getChecked","H","createElement","Object","assign","ref","map","toString","Fragment","key","checked","label","icon","title","ChoiceGroup"],"sources":["/Users/leonofv/Desktop/purchase-ui/node_modules/@consta/src/components/ChoiceGroup/ChoiceGroup.tsx"],"sourcesContent":["import './ChoiceGroup.css';\n\nimport { IconPropSize } from '@consta/icons/Icon';\nimport React, { forwardRef } from 'react';\n\nimport { useChoiceGroup } from '##/hooks/useChoiceGroup';\nimport { cn } from '##/utils/bem';\nimport { getByMap } from '##/utils/getByMap';\n\nimport { withDefaultGetters } from './helper';\nimport { ChoiceGroupItem } from './Item/ChoiceGroup-Item';\nimport {\n  ChoiceGroupComponent,\n  choiceGroupDefaultForm,\n  choiceGroupDefaultSize,\n  choiceGroupDefaultView,\n  ChoiceGroupPropOnChange,\n  ChoiceGroupProps,\n  ChoiceGroupPropSize,\n  choiceGroupWidthDefault,\n} from './types';\n\nconst sizeMap: Record<ChoiceGroupPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 'xs',\n  m: 's',\n  l: 'm',\n};\n\nexport const cnChoiceGroup = cn('ChoiceGroup');\n\nconst ChoiceGroupRender = (\n  props: ChoiceGroupProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    size = choiceGroupDefaultSize,\n    form = choiceGroupDefaultForm,\n    view = choiceGroupDefaultView,\n    width = choiceGroupWidthDefault,\n    onlyIcon,\n    iconSize: iconSizeProp,\n    value = null,\n    multiple = false,\n    items,\n    getItemLabel,\n    onChange,\n    getItemIcon,\n    getItemAttributes,\n    getItemRef,\n    getItemDisabled,\n    name,\n    className,\n    disabled = false,\n    truncate,\n    ...otherProps\n  } = withDefaultGetters(props);\n\n  type Item = typeof items[number];\n\n  const { getOnChange, getChecked } = useChoiceGroup<\n    Item,\n    React.ChangeEvent<HTMLInputElement>\n  >({\n    value: value as Item,\n    getKey: getItemLabel,\n    callBack: onChange as ChoiceGroupPropOnChange<Item, false>,\n    multiple: multiple as false,\n    // привел к типам из-за того что\n    // TS не понимает что параметры для не Multiple и Multiple не могут прийти одновременно\n  });\n\n  const iconSize = getByMap(sizeMap, size, iconSizeProp);\n\n  return (\n    <div\n      {...otherProps}\n      ref={ref}\n      className={cnChoiceGroup(\n        { size, form, view, width, onlyIcon, disabled, truncate },\n        [className],\n      )}\n    >\n      {items.map((item, index) => {\n        const itemChecked = getChecked(item);\n        const itemDisabled = !!getItemDisabled && getItemDisabled(item);\n        const attributes = getItemAttributes(item) ?? {};\n        const label = getItemLabel(item).toString();\n\n        return (\n          <React.Fragment key={label}>\n            {index > 0 && (\n              <div\n                className={cnChoiceGroup('Divider', {\n                  checked: itemChecked,\n                  disabled: itemDisabled,\n                })}\n              />\n            )}\n            <ChoiceGroupItem\n              onChange={getOnChange(item)}\n              checked={itemChecked}\n              label={label}\n              icon={getItemIcon && getItemIcon(item)}\n              iconSize={iconSize}\n              multiple={multiple}\n              onlyIcon={onlyIcon}\n              ref={getItemRef(item)}\n              name={name}\n              disabled={disabled || itemDisabled}\n              title={onlyIcon || truncate ? label : undefined}\n              {...attributes}\n            />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n};\n\nexport const ChoiceGroup = forwardRef(\n  ChoiceGroupRender,\n) as ChoiceGroupComponent;\n\nexport * from './types';\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}