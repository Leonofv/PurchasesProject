{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport React from \"react\";\nexport var useTextFieldEventsHandler = function (a, b, c) {\n  var d = React.useState(!1),\n    e = _slicedToArray(d, 2),\n    f = e[0],\n    g = e[1],\n    h = _objectSpread({}, a);\n  return React.useEffect(function () {\n    g(!0);\n  }, [h.value]), h.onFocus = function () {\n    var b;\n    g(!1);\n    for (var c = arguments.length, d = Array(c), e = 0; e < c; e++) d[e] = arguments[e];\n    return null === (b = a.onFocus) || void 0 === b ? void 0 : b.call.apply(b, [a].concat(d));\n  }, h.onBlur = function () {\n    var d,\n      e = {\n        component: \"TextField\",\n        event: \"change\",\n        options: {\n          placeholder: h.placeholder,\n          pageURL: window.location.href,\n          DOMRef: c.current,\n          value: h.value,\n          props: h\n        }\n      };\n    f && b(e);\n    for (var g = arguments.length, i = Array(g), j = 0; j < g; j++) i[j] = arguments[j];\n    return null === (d = a.onBlur) || void 0 === d ? void 0 : d.call.apply(d, [a].concat(i));\n  }, h;\n};","map":{"version":3,"names":["React","useTextFieldEventsHandler","a","b","c","d","useState","e","_slicedToArray","f","g","h","_objectSpread","useEffect","value","onFocus","arguments","length","Array","call","apply","concat","onBlur","component","event","options","placeholder","pageURL","window","location","href","DOMRef","current","props","i","j"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/components/EventInterceptor/propsHandlers/useTextFieldEventsHandler.tsx"],"sourcesContent":["import { IconComponent, IconPropSize } from '@consta/icons/Icon';\nimport React from 'react';\n\nimport { AutoCompete } from '../../../utils/types/AutoComplete';\nimport {\n  TextField,\n  TextFieldPropForm,\n  TextFieldPropId,\n  TextFieldPropName,\n  TextFieldPropOnChange,\n  TextFieldPropSize,\n  TextFieldPropStatus,\n  TextFieldPropValue,\n  TextFieldPropView,\n} from '../../TextField/TextField';\nimport { EventInterceptorHandler } from '../EventInterceptor';\n\nexport type Props = {\n  className?: string;\n  value?: TextFieldPropValue;\n  onChange?: TextFieldPropOnChange;\n  id?: TextFieldPropId;\n  name?: TextFieldPropName;\n  type?: string;\n  disabled?: boolean;\n  cols?: number;\n  maxLength?: number;\n  size?: TextFieldPropSize;\n  view?: TextFieldPropView;\n  form?: TextFieldPropForm;\n  state?: TextFieldPropStatus;\n  onFocus?: React.FocusEventHandler<HTMLElement>;\n  onBlur?: React.FocusEventHandler<HTMLElement>;\n  autoFocus?: boolean;\n  placeholder?: string;\n  leftSide?: string | IconComponent;\n  rightSide?: string | IconComponent;\n  autoComplete?: AutoCompete;\n  max?: number | string;\n  min?: number | string;\n  readOnly?: boolean;\n  required?: boolean;\n  step?: number | string;\n  tabIndex?: number;\n  inputRef?: React.Ref<HTMLTextAreaElement | HTMLInputElement>;\n  ariaLabel?: string;\n  iconSize?: IconPropSize;\n  children?: never;\n};\n\ntype TextFieldProps = Parameters<typeof TextField>[0];\n\nexport const useTextFieldEventsHandler = <P extends TextFieldProps>(\n  props: P,\n  handler: EventInterceptorHandler,\n  ref: React.RefObject<HTMLDivElement>,\n): P => {\n  const [inputChanged, setInputChanged] = React.useState<boolean>(false);\n  const newProps: P = { ...props };\n\n  React.useEffect(() => {\n    setInputChanged(true);\n  }, [newProps.value]);\n\n  newProps.onFocus = (...onfocusArgs) => {\n    setInputChanged(false);\n\n    return props.onFocus?.(...onfocusArgs);\n  };\n\n  newProps.onBlur = (...onBlurArgs) => {\n    const value = {\n      component: 'TextField' as const,\n      event: 'change',\n      options: {\n        placeholder: newProps.placeholder,\n        pageURL: window.location.href,\n        DOMRef: ref.current,\n        value: newProps.value,\n        props: newProps,\n      },\n    };\n    if (inputChanged) {\n      handler!(value);\n    }\n\n    return props.onBlur?.(...onBlurArgs);\n  };\n\n  return newProps;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAmDA,OAAO,IAAMC,yBAAyB,GAAG,SAAAA,CACvCC,CADuC,EAEvCC,CAFuC,EAGvCC,CAHuC,EAIjC;EAAA,IAAAC,CAAA,GACkCL,KAAK,CAACM,QAAN,IADlC;IAAAC,CAAA,GAAAC,cAAA,CAAAH,CAAA;IACCI,CADD,GAAAF,CAAA;IACeG,CADf,GAAAH,CAAA;IAEAI,CAAW,GAAAC,aAAA,KAAQV,CAAR,CAFX;EAiCN,OA7BAF,KAAK,CAACa,SAAN,CAAgB,YAAM;IACpBH,CAAe,IAChB;EAAA,CAFD,EAEG,CAACC,CAAQ,CAACG,KAAV,CAFH,CA6BA,EAzBAH,CAAQ,CAACI,OAAT,GAAmB,YAAoB;IAAA,IAAAZ,CAAA;IACrCO,CAAe,IADsB;IAAA,SAAAN,CAAA,GAAAY,SAAA,CAAAC,MAAA,EAAhBZ,CAAgB,GAAAa,KAAA,CAAAd,CAAA,GAAAG,CAAA,MAAAA,CAAA,GAAAH,CAAA,EAAAG,CAAA,IAAhBF,CAAgB,CAAAE,CAAA,IAAAS,SAAA,CAAAT,CAAA;IAGrC,iBAAAJ,CAAA,GAAOD,CAAK,CAACa,OAAb,gBAAAZ,CAAA,YAAOA,CAAA,CAAAgB,IAAA,CAAAC,KAAA,CAAAjB,CAAA,GAAAD,CAAK,EAAAmB,MAAL,CAAmBhB,CAAnB,EACR;EAAA,CAqBD,EAnBAM,CAAQ,CAACW,MAAT,GAAkB,YAAmB;IAAA,IAAAjB,CAAA;MAC7BE,CAAK,GAAG;QACZgB,SAAS,EAAE,WADC;QAEZC,KAAK,EAAE,QAFK;QAGZC,OAAO,EAAE;UACPC,WAAW,EAAEf,CAAQ,CAACe,WADf;UAEPC,OAAO,EAAEC,MAAM,CAACC,QAAP,CAAgBC,IAFlB;UAGPC,MAAM,EAAE3B,CAAG,CAAC4B,OAHL;UAIPlB,KAAK,EAAEH,CAAQ,CAACG,KAJT;UAKPmB,KAAK,EAAEtB;QALA;MAHG,CADqB;IAY/BF,CAZ+B,IAajCN,CAAO,CAAEI,CAAF,CAb0B;IAAA,SAAAG,CAAA,GAAAM,SAAA,CAAAC,MAAA,EAAfiB,CAAe,GAAAhB,KAAA,CAAAR,CAAA,GAAAyB,CAAA,MAAAA,CAAA,GAAAzB,CAAA,EAAAyB,CAAA,IAAfD,CAAe,CAAAC,CAAA,IAAAnB,SAAA,CAAAmB,CAAA;IAgBnC,iBAAA9B,CAAA,GAAOH,CAAK,CAACoB,MAAb,gBAAAjB,CAAA,YAAOA,CAAA,CAAAc,IAAA,CAAAC,KAAA,CAAAf,CAAA,GAAAH,CAAK,EAAAmB,MAAL,CAAkBa,CAAlB,EACR;EAAA,CAED,EAAOvB,CACR;AAAA,CAtCM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}