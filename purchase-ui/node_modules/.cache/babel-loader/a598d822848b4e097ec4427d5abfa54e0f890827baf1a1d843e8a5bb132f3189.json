{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"container\", \"style\"];\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport React, { useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useForkRef } from \"../../hooks/useForkRef/useForkRef\";\nimport { Theme } from \"../Theme/Theme\";\nimport { PortalWithThemeProvider, usePortalContext } from \"./PortalWithThemeContext/PortalWithThemeContext\";\nexport { usePortalContext };\nvar getZIndex = function (a, b) {\n  return \"number\" == typeof b ? b : a ? a + 1 : void 0;\n};\nexport var PortalWithTheme = React.forwardRef(function (a, b) {\n  var c = a.children,\n    d = a.container,\n    e = void 0 === d ? window.document.body : d,\n    f = a.style,\n    g = _objectWithoutProperties(a, _excluded),\n    h = usePortalContext(),\n    i = h.addRefs,\n    j = h.zIndex,\n    k = useRef(null),\n    l = getZIndex(j, null === f || void 0 === f ? void 0 : f.zIndex),\n    m = _objectSpread(_objectSpread({}, f), {}, {\n      zIndex: l\n    });\n  return useEffect(function () {\n    i && i([k]);\n  }, [k]), ReactDOM.createPortal(React.createElement(PortalWithThemeProvider, {\n    zIndex: l\n  }, React.createElement(Theme, Object.assign({}, g, {\n    ref: useForkRef([k, b]),\n    style: m\n  }), c)), e);\n});","map":{"version":3,"names":["React","useEffect","useRef","ReactDOM","useForkRef","Theme","PortalWithThemeProvider","usePortalContext","getZIndex","a","b","PortalWithTheme","forwardRef","c","children","d","container","e","window","document","body","f","style","g","_objectWithoutProperties","_excluded","h","i","addRefs","j","zIndex","k","l","m","_objectSpread","createPortal","createElement","Object","assign","ref"],"sources":["/Users/leonofv/Desktop/purchase-ui/node_modules/@consta/src/components/PortalWithTheme/PortalWithTheme.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { useForkRef } from '../../hooks/useForkRef/useForkRef';\nimport { Theme, ThemeProps } from '../Theme/Theme';\nimport {\n  PortalWithThemeProvider,\n  usePortalContext,\n} from './PortalWithThemeContext/PortalWithThemeContext';\n\nexport { usePortalContext };\n\ntype Props = {\n  container?: Element;\n} & ThemeProps;\n\nconst getZIndex = (contextZindex?: number, propZindex?: number | string) => {\n  if (typeof propZindex === 'number') {\n    return propZindex;\n  }\n\n  if (contextZindex) {\n    return contextZindex + 1;\n  }\n\n  return undefined;\n};\n\nexport const PortalWithTheme = React.forwardRef<HTMLDivElement, Props>(\n  (\n    { children, container = window.document.body, style: styleProp, ...rest },\n    ref,\n  ) => {\n    const { addRefs, zIndex: zIndexContext } = usePortalContext();\n\n    const themeRef = useRef(null);\n\n    const zIndex = getZIndex(zIndexContext, styleProp?.zIndex);\n\n    const style = {\n      ...styleProp,\n      zIndex,\n    };\n\n    useEffect(() => {\n      addRefs && addRefs([themeRef]);\n    }, [themeRef]);\n\n    return ReactDOM.createPortal(\n      <PortalWithThemeProvider zIndex={zIndex}>\n        <Theme {...rest} ref={useForkRef([themeRef, ref])} style={style}>\n          {children}\n        </Theme>\n      </PortalWithThemeProvider>,\n      container,\n    );\n  },\n);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,SAASC,UAAT;AACA,SAASC,KAAT;AACA,SACEC,uBADF,EAEEC,gBAFF;AAKA,SAASA,gBAAT;AAMA,IAAMC,SAAS,GAAG,SAAAA,CAACC,CAAD,EAAyBC,CAAzB,EAA0D;EAAA,OAChD,QAAtB,WAAOA,CAD+D,GAEjEA,CAFiE,GAKtED,CALsE,GAMjEA,CAAa,GAAG,CANiD,SAU3E;AAAA,CAVD;AAYA,OAAO,IAAME,eAAe,GAAGX,KAAK,CAACY,UAAN,CAC7B,UAAAH,CAAA,EAEEC,CAFF,EAGK;EAAA,IAFDG,CAEC,GAAAJ,CAAA,CAFDK,QAEC;IAAAC,CAAA,GAAAN,CAAA,CAFSO,SAET;IAFSC,CAET,cAAAF,CAAA,GAFqBG,MAAM,CAACC,QAAP,CAAgBC,IAErC,GAAAL,CAAA;IAFkDM,CAElD,GAAAZ,CAAA,CAF2Ca,KAE3C;IAFgEC,CAEhE,GAAAC,wBAAA,CAAAf,CAAA,EAAAgB,SAAA;IAAAC,CAAA,GACwCnB,gBAAgB,EADxD;IACKoB,CADL,GAAAD,CAAA,CACKE,OADL;IACsBC,CADtB,GAAAH,CAAA,CACcI,MADd;IAGGC,CAAQ,GAAG7B,MAAM,CAAC,IAAD,CAHpB;IAKG8B,CAAM,GAAGxB,SAAS,CAACqB,CAAD,WAAgBR,CAAhB,eAAgBA,CAAhB,YAAgBA,CAAS,CAAES,MAA3B,CALrB;IAOGG,CAAK,GAAAC,aAAA,CAAAA,aAAA,KACNb,CADM;MAETS,MAAM,EAANE;IAFS,EAPR;EAgBH,OAJA/B,SAAS,CAAC,YAAM;IACd0B,CAAO,IAAIA,CAAO,CAAC,CAACI,CAAD,CAAD,CACnB;EAAA,CAFQ,EAEN,CAACA,CAAD,CAFM,CAIT,EAAO5B,QAAQ,CAACgC,YAAT,CACLnC,KAAA,CAAAoC,aAAA,CAAC9B,uBAAD;IAAyBwB,MAAM,EAAEE;EAAjC,GACEhC,KAAA,CAAAoC,aAAA,CAAC/B,KAAD,EAAAgC,MAAA,CAAAC,MAAA,KAAWf,CAAX;IAAiBgB,GAAG,EAAEnC,UAAU,CAAC,CAAC2B,CAAD,EAAWrB,CAAX,CAAD,CAAhC;IAAmDY,KAAK,EAAEW;EAA1D,IACGpB,CADH,CADF,CADK,EAMLI,CANK,CAQR;AAAA,CA5B4B,CAAxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}