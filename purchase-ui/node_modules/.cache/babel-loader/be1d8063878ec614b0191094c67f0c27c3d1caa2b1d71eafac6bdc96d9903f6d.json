{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"className\", \"children\", \"preset\"];\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n  return c;\n}\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n  return a;\n}\nimport React, { createContext, useContext, useMemo } from \"react\";\nimport { cn } from \"../../utils/bem\";\nimport { presetGpnDefault } from \"./presets/presetGpnDefault\";\nexport { presetGpnDefault } from \"./presets/presetGpnDefault\";\nexport { presetGpnDark } from \"./presets/presetGpnDark\";\nexport { presetGpnDisplay } from \"./presets/presetGpnDisplay\";\nexport var cnTheme = cn(\"Theme\");\nexport var generateThemeClassNames = function (a) {\n  return {\n    color: {\n      primary: cnTheme({\n        color: a.color.primary\n      }),\n      accent: cnTheme({\n        color: a.color.accent\n      }),\n      invert: cnTheme({\n        color: a.color.invert\n      })\n    },\n    control: cnTheme({\n      control: a.control\n    }),\n    font: cnTheme({\n      font: a.font\n    }),\n    size: cnTheme({\n      size: a.size\n    }),\n    space: cnTheme({\n      space: a.space\n    }),\n    shadow: cnTheme({\n      shadow: a.shadow\n    })\n  };\n};\nexport var generateDeps = function (a) {\n  var b = \"\";\n  return Object.keys(a).map(function (c) {\n    b += \"color\" === c ? a.color.accent + a.color.invert + a.color.primary : a[c];\n  }), b;\n};\nvar defaultContextValue = {\n  theme: presetGpnDefault,\n  themeClassNames: generateThemeClassNames(presetGpnDefault)\n};\nexport var ThemeContext = createContext(defaultContextValue);\nexport var Theme = React.forwardRef(function (a, b) {\n  var c = a.className,\n    d = a.children,\n    e = a.preset,\n    f = _objectWithoutProperties(a, _excluded),\n    g = useMemo(function () {\n      return [{\n        theme: e,\n        themeClassNames: generateThemeClassNames(e)\n      }, _objectSpread(_objectSpread({}, e), {}, {\n        color: e.color.primary\n      })];\n    }, [generateDeps(e)]),\n    h = _slicedToArray(g, 2),\n    i = h[0],\n    j = h[1];\n  return React.createElement(ThemeContext.Provider, {\n    value: i\n  }, React.createElement(\"div\", Object.assign({}, f, {\n    ref: b,\n    className: cnTheme(j, [c])\n  }), d));\n});\nexport function useTheme() {\n  return useContext(ThemeContext);\n}","map":{"version":3,"names":["React","createContext","useContext","useMemo","cn","presetGpnDefault","presetGpnDark","presetGpnDisplay","cnTheme","generateThemeClassNames","a","color","primary","accent","invert","control","font","size","space","shadow","generateDeps","b","Object","keys","map","c","defaultContextValue","theme","themeClassNames","ThemeContext","Theme","forwardRef","className","d","children","e","preset","f","_objectWithoutProperties","_excluded","g","_objectSpread","h","_slicedToArray","i","j","createElement","Provider","value","assign","ref","useTheme"],"sources":["/Users/leonofv/Documents/GitHub/PurchasesProject/purchase-ui/node_modules/@consta/src/components/Theme/Theme.tsx"],"sourcesContent":["import React, { createContext, useContext, useMemo } from 'react';\n\nimport { cn } from '../../utils/bem';\nimport { PropsWithHTMLAttributes } from '../../utils/types/PropsWithHTMLAttributes';\nimport { presetGpnDefault } from './presets/presetGpnDefault';\n\nexport { presetGpnDefault } from './presets/presetGpnDefault';\nexport { presetGpnDark } from './presets/presetGpnDark';\nexport { presetGpnDisplay } from './presets/presetGpnDisplay';\n\nexport type ThemePreset = {\n  color: {\n    primary: string;\n    accent: string;\n    invert: string;\n  };\n  control: string;\n  font: string;\n  size: string;\n  space: string;\n  shadow: string;\n};\n\ntype Props = {\n  preset: ThemePreset;\n};\n\nexport type ThemeProps = PropsWithHTMLAttributes<Props, HTMLDivElement>;\n\nexport const cnTheme = cn('Theme');\n\nexport const generateThemeClassNames = (preset: ThemePreset): ThemePreset => {\n  return {\n    color: {\n      primary: cnTheme({ color: preset.color.primary }),\n      accent: cnTheme({ color: preset.color.accent }),\n      invert: cnTheme({ color: preset.color.invert }),\n    },\n    control: cnTheme({ control: preset.control }),\n    font: cnTheme({ font: preset.font }),\n    size: cnTheme({ size: preset.size }),\n    space: cnTheme({ space: preset.space }),\n    shadow: cnTheme({ shadow: preset.shadow }),\n  };\n};\n\nexport const generateDeps = (preset: ThemePreset) => {\n  let deps = '';\n  Object.keys(preset).map((key) => {\n    if (key === 'color') {\n      deps += preset.color.accent + preset.color.invert + preset.color.primary;\n    } else {\n      deps += preset[key as unknown as keyof ThemePreset];\n    }\n  });\n  return deps;\n};\n\nconst defaultContextValue = {\n  theme: presetGpnDefault,\n  themeClassNames: generateThemeClassNames(presetGpnDefault),\n};\n\nexport const ThemeContext = createContext<{\n  theme: ThemePreset;\n  themeClassNames: ThemePreset;\n}>(defaultContextValue);\n\nexport const Theme = React.forwardRef<HTMLDivElement, ThemeProps>(\n  (props, ref) => {\n    const { className, children, preset, ...otherProps } = props;\n\n    const [value, mods] = useMemo(() => {\n      return [\n        { theme: preset, themeClassNames: generateThemeClassNames(preset) },\n        {\n          ...preset,\n          color: preset.color.primary,\n        },\n      ];\n    }, [generateDeps(preset)]);\n\n    return (\n      <ThemeContext.Provider value={value}>\n        <div {...otherProps} ref={ref} className={cnTheme(mods, [className])}>\n          {children}\n        </div>\n      </ThemeContext.Provider>\n    );\n  },\n);\n\nexport function useTheme() {\n  return useContext(ThemeContext);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}