{"ast":null,"code":"export var sizeMap = {\n  xs: \"xs\",\n  s: \"s\",\n  m: \"s\",\n  l: \"m\"\n};\nexport var getValueByStepArray = function (a, b, c, d, e) {\n  var f = +(null !== b && void 0 !== b ? b : c);\n  if (\"string\" != typeof b) return \"undefined\" == typeof c ? 0 : +c;\n  if (f < a[0]) return a[0];\n  if (f > a[a.length - 1]) return a[a.length - 1];\n  if (!e && f === a[0] || e && f === a[a.length - 1]) return f;\n  for (var g = 0; g < a.length; g++) if (f === a[g] || a[g] < f && a[g + 1] > f) return a[g + (e ? 1 : -1)];\n  return 0;\n};\nexport var getValueByStepNumber = function (a, b, c, d, e) {\n  var f,\n    g = +c,\n    h = +d,\n    i = (\"string\" == typeof b ? +b : 0) + +a * (e ? 1 : -1);\n  return !Number.isNaN(g) && i <= g ? g : !Number.isNaN(h) && i >= h ? h : +i.toFixed(+(null === (f = (+a).toString().split(\".\")[1]) || void 0 === f ? void 0 : f.length) || 0);\n};\nexport var getIncrementFlag = function (a) {\n  return \"ArrowUp\" !== (null === a || void 0 === a ? void 0 : a.key) && \"ArrowDown\" !== (null === a || void 0 === a ? void 0 : a.key) ? null : \"ArrowUp\" === (null === a || void 0 === a ? void 0 : a.key);\n};\nexport var getTypeForRender = function (a, b) {\n  return \"password\" === a ? b ? \"text\" : \"password\" : a;\n};\nexport var getValueByStep = function (a, b, c, d, e) {\n  return (Array.isArray(a) ? getValueByStepArray(a, b, d, e, c) : getValueByStepNumber(a, b, d, e, c)).toString();\n};\nexport var inputValue = function (a) {\n  return null === a ? \"\" : a;\n};","map":{"version":3,"names":["sizeMap","xs","s","m","l","getValueByStepArray","a","b","c","d","e","f","length","g","getValueByStepNumber","h","i","Number","isNaN","toFixed","toString","split","getIncrementFlag","key","getTypeForRender","getValueByStep","Array","isArray","inputValue"],"sources":["/Users/leonofv/Desktop/purchase-ui/node_modules/@consta/src/components/TextField/helpers.ts"],"sourcesContent":["import { IconPropSize } from '@consta/icons/Icon';\nimport React from 'react';\n\nimport { TextFieldPropSize, TextFieldPropValue } from './types';\n\nexport const sizeMap: Record<TextFieldPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 's',\n  m: 's',\n  l: 'm',\n};\n\nexport const getValueByStepArray = (\n  steps: number[],\n  value: string | null | undefined,\n  min: number | string | undefined,\n  max: number | string | undefined,\n  isIncrement: boolean,\n): number => {\n  const currentValue = Number(value ?? min);\n  const minValue = Number(min);\n  if (typeof value !== 'string') {\n    return typeof min !== 'undefined' ? minValue : 0;\n  }\n  if (currentValue < steps[0]) {\n    return steps[0];\n  }\n  if (currentValue > steps[steps.length - 1]) {\n    return steps[steps.length - 1];\n  }\n  if (\n    (!isIncrement && currentValue === steps[0]) ||\n    (isIncrement && currentValue === steps[steps.length - 1])\n  ) {\n    return currentValue;\n  }\n  for (let i = 0; i < steps.length; i++) {\n    if (\n      currentValue === steps[i] ||\n      (steps[i] < currentValue && steps[i + 1] > currentValue)\n    ) {\n      return steps[i + (isIncrement ? 1 : -1)];\n    }\n  }\n  return 0;\n};\n\nexport const getValueByStepNumber = (\n  step: number | string,\n  value: string | null | undefined,\n  min: number | string | undefined,\n  max: number | string | undefined,\n  isIncrement: boolean,\n): number => {\n  const minValue = Number(min);\n  const maxValue = Number(max);\n  const currentValue: number =\n    (typeof value === 'string' ? Number(value) : 0) +\n    Number(step) * (isIncrement ? 1 : -1);\n  if (!Number.isNaN(minValue) && currentValue <= minValue) {\n    return minValue;\n  }\n  if (!Number.isNaN(maxValue) && currentValue >= maxValue) {\n    return maxValue;\n  }\n  return Number(\n    currentValue.toFixed(\n      Number(\n        /* Необходимо для того, чтобы избежать ситуации, когда по нажатию\nна кнопку прибавляется число с погрешностью.\nЗдесь мы берем разрядность дробной части шага и ограничиваем\nрезультирующее число этой разрядностью */\n        Number(step).toString().split('.')[1]?.length,\n      ) || 0,\n    ),\n  );\n};\n\nexport const getIncrementFlag = (\n  event: React.KeyboardEvent,\n): boolean | null => {\n  if (event?.key !== 'ArrowUp' && event?.key !== 'ArrowDown') {\n    return null;\n  }\n  return event?.key === 'ArrowUp';\n};\n\nexport const getTypeForRender = (type: string, passwordVible: boolean) => {\n  if (type !== 'password') {\n    return type;\n  }\n  if (passwordVible) {\n    return 'text';\n  }\n  return 'password';\n};\n\nexport const getValueByStep = (\n  steps: number | number[],\n  value: string | null | undefined,\n  isIncrement: boolean,\n  min?: number | string,\n  max?: number | string,\n) => {\n  return (\n    Array.isArray(steps)\n      ? getValueByStepArray(steps, value, min, max, isIncrement)\n      : getValueByStepNumber(steps, value, min, max, isIncrement)\n  ).toString();\n};\n\nexport const inputValue = (value?: TextFieldPropValue) =>\n  value === null ? '' : value;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}