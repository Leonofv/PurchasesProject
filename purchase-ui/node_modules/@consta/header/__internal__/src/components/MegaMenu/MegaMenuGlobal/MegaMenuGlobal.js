import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";const _excluded=["items","getItemAs","getItemAttributes","getItemGroupId","title","getItemLabel","columns","getItemOnClick","getGroupKey","onItemClick","onGroupClick","getGroupLabel","getGroupOnClick","groups","showButtonText","hideButtonText","maxElements","className"];import"./MegaMenuGlobal.css";import{getGroups}from"@consta/uikit/__internal__/src/utils/getGroups";import{cnMixSpace}from"@consta/uikit/MixSpace";import{Text}from"@consta/uikit/Text";import{getLastPoint,useBreakpoints}from"@consta/uikit/useBreakpoints";import{useForkRef}from"@consta/uikit/useForkRef";import React,{forwardRef,useMemo,useRef}from"react";import{cn}from"../../../utils/bem";import{withDefaultGetters}from"./helper";import{MegaMenuGlobalGroup}from"./MegaMenuGlobalGroup";const cnMegaMenuGlobal=cn("MegaMenuGlobal"),noGroupKey="no-group",MegaMenuGlobalRender=(a,b)=>{const c=withDefaultGetters(a),{items:d,getItemAs:e,getItemAttributes:f,getItemGroupId:g,title:h,getItemLabel:j,columns:k,getItemOnClick:l,getGroupKey:m,onItemClick:n,onGroupClick:o,getGroupLabel:p,getGroupOnClick:q,groups:t=[],showButtonText:u="\u0415\u0449\u0451",hideButtonText:v="\u0421\u043A\u0440\u044B\u0442\u044C",maxElements:r,className:s}=c,w=_objectWithoutProperties(c,_excluded),x=useRef(null),y=getLastPoint(useBreakpoints({ref:x,map:{1:0,2:600,3:1e3,4:1600},isActive:!0})),z=useMemo(()=>{const a=null!==k&&void 0!==k?k:+y,b=getGroups(d,g,t,m,void 0,noGroupKey),c=[];return b.forEach((b,d)=>{const e=d%a;c[e]||(c[e]=[]),c[e].push(b)}),c},[d,t,y,k]);return React.createElement("div",Object.assign({ref:useForkRef([b,x]),className:cnMegaMenuGlobal(null,[s])},w),h&&React.createElement(Text,{weight:"semibold",transform:"uppercase",className:cnMixSpace({mB:"xl"}),lineHeight:"m",size:"xl",view:"primary"},h),React.createElement("div",{style:{"--global-menu-columns":y},className:cnMegaMenuGlobal("Content")},z.map((a,b)=>React.createElement("div",{key:cnMegaMenuGlobal("Column",{index:b}),className:cnMegaMenuGlobal("Column")},a.map((a,c)=>{const d=a.group?q(a.group):void 0,h=a.group&&(!!d||!!o);return React.createElement(MegaMenuGlobalGroup,{title:a.group?p(a.group):void 0,key:cnMegaMenuGlobal("Group",{index:b,i:c}),onClick:h?b=>{null===d||void 0===d?void 0:d(b),a.group&&(null===o||void 0===o?void 0:o(a.group,{e:b}))}:void 0,className:cnMegaMenuGlobal("Group"),items:a.items,showButtonText:u,hideButtonText:v,onItemClick:n,maxElements:r,getItemAs:e,getItemAttributes:f,getItemGroupId:g,getItemLabel:j,getItemOnClick:l})})))))};export const MegaMenuGlobal=forwardRef(MegaMenuGlobalRender);
//# sourceMappingURL=MegaMenuGlobal.js.map