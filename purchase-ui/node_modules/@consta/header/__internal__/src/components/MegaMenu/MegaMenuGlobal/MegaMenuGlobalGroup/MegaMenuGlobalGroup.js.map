{"version":3,"file":"MegaMenuGlobalGroup.js","names":["IconArrowDown","Button","List","ListBox","Text","useFlag","React","forwardRef","useMemo","getItemClick","cn","cnMegaMenuGlobalGroup","MegaMenuGlobalGroupRender","props","ref","items","itemsProp","title","getItemAs","getItemAttributes","getItemLabel","getItemOnClick","getItemGroupId","className","onClick","maxElements","maxElementsProp","showButtonText","hideButtonText","onItemClick","otherProps","_objectWithoutProperties","_excluded","showList","setShowList","slice","createElement","Object","assign","clickable","size","lineHeight","weight","view","itemSpase","p","item","getItemAdditionalClassName","length","label","toggle","iconRight","open","MegaMenuGlobalGroup"],"sources":["../../../../../../../src/components/MegaMenu/MegaMenuGlobal/MegaMenuGlobalGroup/MegaMenuGlobalGroup.tsx"],"sourcesContent":["import './MegaMenuGlobalGroup.css';\n\nimport { IconArrowDown } from '@consta/icons/IconArrowDown';\nimport { Button } from '@consta/uikit/Button';\nimport { List, ListBox } from '@consta/uikit/ListCanary';\nimport { Text } from '@consta/uikit/Text';\nimport { useFlag } from '@consta/uikit/useFlag';\nimport React, { forwardRef, useMemo } from 'react';\n\nimport { getItemClick } from '##/helpers/getItemClick';\nimport { cn } from '##/utils/bem';\n\nimport {\n  MegaMenuGlobalGroupComponent,\n  MegaMenuGlobalGroupProps,\n} from '../types';\n\nconst cnMegaMenuGlobalGroup = cn('MegaMenuGlobalGroup');\n\nconst MegaMenuGlobalGroupRender = (\n  props: MegaMenuGlobalGroupProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    items: itemsProp,\n    title,\n    getItemAs,\n    getItemAttributes,\n    getItemLabel,\n    getItemOnClick,\n    getItemGroupId,\n    className,\n    onClick,\n    maxElements: maxElementsProp,\n    showButtonText,\n    hideButtonText,\n    onItemClick,\n    ...otherProps\n  } = props;\n  const [showList, setShowList] = useFlag();\n\n  const maxElements = (maxElementsProp ?? 0) > 0 ? maxElementsProp : undefined;\n\n  const items = useMemo(() => {\n    if (!maxElements) {\n      return itemsProp;\n    }\n    return showList ? itemsProp : itemsProp.slice(0, maxElements);\n  }, [showList, maxElements, itemsProp]);\n\n  return (\n    <div\n      ref={ref}\n      className={cnMegaMenuGlobalGroup(null, [className])}\n      {...otherProps}\n    >\n      {title && (\n        <Text\n          onClick={onClick}\n          className={cnMegaMenuGlobalGroup('Title', { clickable: !!onClick })}\n          size=\"m\"\n          lineHeight=\"m\"\n          weight=\"bold\"\n          view=\"primary\"\n        >\n          {title}\n        </Text>\n      )}\n      <ListBox className={cnMegaMenuGlobalGroup('Content')}>\n        <List\n          items={items}\n          size=\"m\"\n          itemSpase={{ p: 0 }}\n          getItemLabel={getItemLabel}\n          getItemAs={getItemAs}\n          getItemAttributes={getItemAttributes}\n          getItemOnClick={(item) =>\n            getItemClick(item, getItemOnClick, onItemClick)\n          }\n          getItemAdditionalClassName={() => cnMegaMenuGlobalGroup('Item')}\n        />\n      </ListBox>\n      {maxElements && maxElements < itemsProp.length && (\n        <Button\n          label={showList ? hideButtonText : showButtonText}\n          size=\"s\"\n          view=\"clear\"\n          onClick={setShowList.toggle}\n          iconRight={IconArrowDown}\n          className={cnMegaMenuGlobalGroup('Button', { open: showList })}\n        />\n      )}\n    </div>\n  );\n};\n\nexport const MegaMenuGlobalGroup = forwardRef(\n  MegaMenuGlobalGroupRender,\n) as MegaMenuGlobalGroupComponent;\n"],"mappings":"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"}