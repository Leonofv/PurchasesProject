import"./NavbarItem.css";import{Badge}from"@consta/uikit/Badge";import{ListItem}from"@consta/uikit/ListCanary";import{useFlag}from"@consta/uikit/useFlag";import{useForkRef}from"@consta/uikit/useForkRef";import React,{forwardRef}from"react";import{cn}from"../../../utils/bem";import{NavbarArrow}from"../NavbarArrow";import{defaultNavbarPropSize}from"../types";const cnNavbarItem=cn("NavbarItem"),spaceMap={m:{pV:"s",pH:"m",mB:"2xs"},s:{pV:"xs",pH:"m",mB:"2xs"}},mapLevelSpace={m:"2xl",s:"xl"},bageSizeMap={s:"xs",m:"s"},NavbarItemRender=(a,b)=>{const{size:q=defaultNavbarPropSize,item:c,getItemLabel:d,getItemActive:e,getItemAdditionalClassName:f,getItemAs:g,getItemAttributes:h,getItemIcon:i,getItemRef:j,getItemRightSide:k,getItemSubMenu:l,onItemClick:m,className:n,getItemStatus:o,level:r=0,form:p}=a,[s,t]=useFlag(),u=null===l||void 0===l?void 0:l(c),v=null===k||void 0===k?void 0:k(c),w=null===e||void 0===e?void 0:e(c),x=null===o||void 0===o?void 0:o(c);return React.createElement(React.Fragment,null,React.createElement(ListItem,Object.assign({},(null===h||void 0===h?void 0:h(c))||{},{label:d(c),size:q,onClick:a=>{(null===u||void 0===u?void 0:u.length)&&t.toggle(),null===m||void 0===m?void 0:m(c,{e:a})},leftIcon:null===i||void 0===i?void 0:i(c),iconSize:q,rightSide:[...(Array.isArray(v)?v:[v]),x?React.createElement(Badge,{size:bageSizeMap[q],status:x,minified:!0}):void 0,null!==u&&void 0!==u&&u.length?React.createElement(NavbarArrow,{open:s,onClick:t.toggle}):void 0],as:null===g||void 0===g?void 0:g(c),active:w,ref:useForkRef([null===j||void 0===j?void 0:j(c),b]),className:cnNavbarItem({form:p,active:w},[n,null===f||void 0===f?void 0:f(c)]),space:spaceMap[q],style:{"--navbar-item-level":r,"--navbar-item-ph":`var(--space-${spaceMap[q].pH})`,"--navbar-item-level-space":`var(--space-${mapLevelSpace[q]})`}})),s&&(null===u||void 0===u?void 0:u.map((b,c)=>React.createElement(NavbarItem,Object.assign({},a,{key:c,level:r+1,item:b})))))};export const NavbarItem=forwardRef(NavbarItemRender);
//# sourceMappingURL=NavbarItem.js.map