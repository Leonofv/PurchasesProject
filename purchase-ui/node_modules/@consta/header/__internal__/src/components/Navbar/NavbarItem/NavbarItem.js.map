{"version":3,"file":"NavbarItem.js","names":["Badge","ListItem","useFlag","useForkRef","React","forwardRef","cn","NavbarArrow","defaultNavbarPropSize","cnNavbarItem","spaceMap","m","pV","pH","mB","s","mapLevelSpace","bageSizeMap","NavbarItemRender","props","ref","size","item","getItemLabel","getItemActive","getItemAdditionalClassName","getItemAs","getItemAttributes","getItemIcon","getItemRef","getItemRightSide","getItemSubMenu","onItemClick","className","getItemStatus","level","form","open","setOpen","subItems","rightSide","active","status","createElement","Fragment","Object","assign","label","onClick","e","length","toggle","leftIcon","iconSize","Array","isArray","minified","as","space","style","\"--navbar-item-level\"","\"--navbar-item-ph\"","\"--navbar-item-level-space\"","map","index","NavbarItem","key"],"sources":["../../../../../../src/components/Navbar/NavbarItem/NavbarItem.tsx"],"sourcesContent":["import './NavbarItem.css';\n\nimport { Badge } from '@consta/uikit/Badge';\nimport { ListItem } from '@consta/uikit/ListCanary';\nimport { useFlag } from '@consta/uikit/useFlag';\nimport { useForkRef } from '@consta/uikit/useForkRef';\nimport React, { forwardRef } from 'react';\n\nimport { cn } from '##/utils/bem';\n\nimport { NavbarArrow } from '../NavbarArrow';\nimport {\n  defaultNavbarPropSize,\n  NavbarItemComponent,\n  NavbarItemProps,\n} from '../types';\n\nconst cnNavbarItem = cn('NavbarItem');\n\nconst spaceMap = {\n  m: { pV: 's', pH: 'm', mB: '2xs' },\n  s: { pV: 'xs', pH: 'm', mB: '2xs' },\n} as const;\n\nconst mapLevelSpace = {\n  m: '2xl',\n  s: 'xl',\n} as const;\n\nconst bageSizeMap = {\n  s: 'xs',\n  m: 's',\n} as const;\n\nconst NavbarItemRender = (\n  props: NavbarItemProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    size = defaultNavbarPropSize,\n    item,\n    getItemLabel,\n    getItemActive,\n    getItemAdditionalClassName,\n    getItemAs,\n    getItemAttributes,\n    getItemIcon,\n    getItemRef,\n    getItemRightSide,\n    getItemSubMenu,\n    onItemClick,\n    className,\n    getItemStatus,\n    level = 0,\n    form,\n  } = props;\n\n  const [open, setOpen] = useFlag();\n  const subItems = getItemSubMenu?.(item);\n  const rightSide = getItemRightSide?.(item);\n  const active = getItemActive?.(item);\n  const status = getItemStatus?.(item);\n\n  return (\n    <>\n      <ListItem\n        {...(getItemAttributes?.(item) || {})}\n        label={getItemLabel(item)}\n        size={size}\n        onClick={(e: React.MouseEvent) => {\n          subItems?.length && setOpen.toggle();\n          onItemClick?.(item, { e });\n        }}\n        leftIcon={getItemIcon?.(item)}\n        iconSize={size}\n        rightSide={[\n          ...(Array.isArray(rightSide) ? rightSide : [rightSide]),\n          status ? (\n            <Badge size={bageSizeMap[size]} status={status} minified />\n          ) : undefined,\n          subItems?.length ? (\n            <NavbarArrow open={open} onClick={setOpen.toggle} />\n          ) : undefined,\n        ]}\n        as={getItemAs?.(item)}\n        active={active}\n        ref={useForkRef([getItemRef?.(item), ref])}\n        className={cnNavbarItem({ form, active }, [\n          className,\n          getItemAdditionalClassName?.(item),\n        ])}\n        space={spaceMap[size]}\n        style={{\n          ['--navbar-item-level' as string]: level,\n          ['--navbar-item-ph' as string]: `var(--space-${spaceMap[size].pH})`,\n          ['--navbar-item-level-space' as string]: `var(--space-${mapLevelSpace[size]})`,\n        }}\n      />\n      {open &&\n        subItems?.map((item, index) => (\n          <NavbarItem {...props} key={index} level={level + 1} item={item} />\n        ))}\n    </>\n  );\n};\n\nexport const NavbarItem = forwardRef(NavbarItemRender) as NavbarItemComponent;\n"],"mappings":"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"}