{"version":3,"file":"NotificationsList.js","names":["IconClose","Button","cnMixSpace","Text","React","forwardRef","Fragment","cn","NotificationsActions","NotificationsItem","defaultGroupLabelFormat","getGroups","withDefaultGetters","cnNotificationsList","NotificationsListRender","props","ref","c","d","className","items","groupByDay","groups","groupLabelFormat","itemDateFormat","title","actions","getItemLabel","getActionIcon","getActionLabel","getActionOnClick","getGroupId","getGroupLabel","getItemActions","getItemBadges","getItemDate","getItemDescription","getItemGroup","getItemImage","getItemRead","getItemView","onClose","otherProps","_objectWithoutProperties","_excluded","resultGroups","elementZIndex","style","zIndex","createElement","Object","assign","pV","pH","size","truncate","view","lineHeight","length","getItemIcon","getItemOnClick","iconLeft","onClick","map","group","groupIndex","groupLabel","key","transform","weight","item","itemIndex","description","imageUrl","read","date","dateFormat","badges","NotificationsList"],"sources":["../../../../../../src/components/Notifications/NotificationsList/NotificationsList.tsx"],"sourcesContent":["import './NotificationsList.css';\n\nimport { IconClose } from '@consta/icons/IconClose';\nimport { Button } from '@consta/uikit/Button';\nimport { cnMixSpace } from '@consta/uikit/MixSpace';\nimport { Text } from '@consta/uikit/Text';\nimport React, { forwardRef, Fragment } from 'react';\n\nimport { cn } from '##/utils/bem';\n\nimport { NotificationsActions } from '../NotificationsActions';\nimport { NotificationsItem } from '../NotificationsItem';\nimport {\n  defaultGroupLabelFormat,\n  getGroups,\n  withDefaultGetters,\n} from './helpers';\nimport { NotificationsListComponent, NotificationsListProps } from './types';\n\nexport const cnNotificationsList = cn('NotificationsList');\n\nfunction NotificationsListRender(\n  props: NotificationsListProps,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {\n    className,\n    items,\n    groupByDay = false,\n    groups,\n    groupLabelFormat = defaultGroupLabelFormat,\n    itemDateFormat,\n    title,\n    actions,\n    getItemLabel,\n    getActionIcon,\n    getActionLabel,\n    getActionOnClick,\n    getGroupId,\n    getGroupLabel,\n    getItemActions,\n    getItemBadges,\n    getItemDate,\n    getItemDescription,\n    getItemGroup,\n    getItemImage,\n    getItemRead,\n    getItemView,\n    onClose,\n    ...otherProps\n  } = withDefaultGetters(props);\n\n  const resultGroups = getGroups(\n    items,\n    groups,\n    groupByDay,\n    getItemGroup,\n    getItemDate,\n    getGroupId,\n  );\n\n  const elementZIndex =\n    typeof props.style?.zIndex === 'number'\n      ? props.style.zIndex + 1\n      : undefined;\n\n  return (\n    <div\n      {...otherProps}\n      ref={ref}\n      className={cnNotificationsList(null, [className])}\n    >\n      {(title || actions) && (\n        <div\n          className={cnNotificationsList('Header', [\n            cnMixSpace({ pV: 'l', pH: 'xl' }),\n          ])}\n        >\n          <Text\n            className={cnNotificationsList('HeaderItem')}\n            size=\"xl\"\n            truncate\n            view=\"primary\"\n            lineHeight=\"m\"\n          >\n            {title}\n          </Text>\n          {actions?.length && (\n            <NotificationsActions\n              className={cnNotificationsList('HeaderItem')}\n              items={actions}\n              getItemIcon={getActionIcon}\n              getItemOnClick={getActionOnClick}\n              getItemLabel={getActionLabel}\n              style={{ zIndex: elementZIndex }}\n            />\n          )}\n          {onClose && (\n            <Button\n              className={cnNotificationsList('HeaderItem')}\n              size=\"s\"\n              view=\"clear\"\n              iconLeft={IconClose}\n              onClick={onClose}\n            />\n          )}\n        </div>\n      )}\n      <div className={cnNotificationsList('List')}>\n        {resultGroups.map((group, groupIndex) => {\n          const groupLabel = groupByDay\n            ? groupLabelFormat(Number(group.key))\n            : group.group && getGroupLabel(group.group);\n          return (\n            <Fragment key={cnNotificationsList('Group', { groupIndex })}>\n              {groupLabel && (\n                <Text\n                  className={cnNotificationsList('GroupLabel', [\n                    cnMixSpace({\n                      pV: '2xs',\n                      pH: 'xl',\n                    }),\n                  ])}\n                  key={cnNotificationsList('GroupLabel', { groupIndex })}\n                  view=\"secondary\"\n                  transform=\"uppercase\"\n                  weight=\"bold\"\n                  size=\"2xs\"\n                  lineHeight=\"m\"\n                >\n                  {groupLabel}\n                </Text>\n              )}\n              {group.items.map((item, itemIndex) => {\n                return (\n                  <NotificationsItem\n                    className={cnNotificationsList('Item', [\n                      cnMixSpace({ pV: 'l', pH: 'xl' }),\n                    ])}\n                    key={cnNotificationsList('Item', { groupIndex, itemIndex })}\n                    title={getItemLabel(item)}\n                    description={getItemDescription(item)}\n                    imageUrl={getItemImage(item)}\n                    read={getItemRead(item)}\n                    date={getItemDate(item)}\n                    dateFormat={itemDateFormat}\n                    badges={getItemBadges(item)}\n                    actions={getItemActions(item)}\n                    view={getItemView(item)}\n                    style={{ zIndex: elementZIndex }}\n                  />\n                );\n              })}\n            </Fragment>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport const NotificationsList = forwardRef(\n  NotificationsListRender,\n) as NotificationsListComponent;\n\nexport * from './types';\n"],"mappings":"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"}