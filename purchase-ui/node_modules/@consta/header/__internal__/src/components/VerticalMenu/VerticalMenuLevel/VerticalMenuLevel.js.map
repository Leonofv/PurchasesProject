{"version":3,"file":"VerticalMenuLevel.js","names":["IconArrowLeft","fabricIndex","getGroups","Button","cnMixSpace","Text","React","forwardRef","cn","VerticalMenuItem","cnVerticalMenuLevel","VerticalMenuLevel","props","ref","items","className","getItemActive","getItemHref","getItemLabel","getItemOnClick","getItemTarget","getItemSubMenu","addLevel","removeLevel","label","levelLabel","header","getItemGroup","id","footer","otherProps","_objectWithoutProperties","_excluded","groups","getIndex","createElement","Object","assign","pV","pH","iconLeft","view","size","onClick","mL","truncate","lineHeight","map","group","groupIndex","Fragment","mV","mH","item","index","levelId","subMenu","withSubMenu","length","itemClick","e","key","href","active","target"],"sources":["../../../../../../src/components/VerticalMenu/VerticalMenuLevel/VerticalMenuLevel.tsx"],"sourcesContent":["import './VerticalMenuLevel.css';\n\nimport { IconArrowLeft } from '@consta/icons/IconArrowLeft';\nimport { fabricIndex } from '@consta/uikit/__internal__/src/utils/fabricIndex';\nimport { getGroups } from '@consta/uikit/__internal__/src/utils/getGroups';\nimport { Button } from '@consta/uikit/Button';\nimport { cnMixSpace } from '@consta/uikit/MixSpace';\nimport { Text } from '@consta/uikit/Text';\nimport React, { forwardRef } from 'react';\n\nimport { cn } from '##/utils/bem';\n\nimport { VerticalMenuLevelComponent } from '../types';\nimport { VerticalMenuItem } from '../VerticalMenuItem/VerticalMenuItem';\n\nexport const cnVerticalMenuLevel = cn('VerticalMenuLevel');\n\nexport const VerticalMenuLevel: VerticalMenuLevelComponent = forwardRef(\n  (props, ref) => {\n    const {\n      items,\n      className,\n      getItemActive,\n      getItemHref,\n      getItemLabel,\n      getItemOnClick,\n      getItemTarget,\n      getItemSubMenu,\n      addLevel,\n      removeLevel,\n      label: levelLabel,\n      header,\n      getItemGroup,\n      id,\n      footer,\n      ...otherProps\n    } = props;\n\n    const groups = getGroups(\n      items,\n      getItemGroup,\n      undefined,\n      undefined,\n      undefined,\n    );\n\n    const getIndex = fabricIndex(-1);\n\n    return (\n      <div\n        {...otherProps}\n        ref={ref}\n        className={cnVerticalMenuLevel(null, [className])}\n      >\n        {levelLabel && (\n          <div\n            className={cnVerticalMenuLevel('Label', [\n              cnMixSpace({ pV: 's', pH: 'xl' }),\n            ])}\n          >\n            <Button\n              iconLeft={IconArrowLeft}\n              view=\"clear\"\n              size=\"s\"\n              onClick={removeLevel}\n            />\n            <Text\n              className={cnMixSpace({ mL: 's' })}\n              truncate\n              view=\"primary\"\n              size=\"m\"\n              lineHeight=\"m\"\n            >\n              {levelLabel}\n            </Text>\n          </div>\n        )}\n        {header && (\n          <div className={cnVerticalMenuLevel('Header')}>{header}</div>\n        )}\n        <nav className={cnVerticalMenuLevel('Nav')}>\n          {groups.map((group, groupIndex) => {\n            return (\n              <>\n                {!!groupIndex && (\n                  <div\n                    className={cnVerticalMenuLevel('Divider', [\n                      cnMixSpace({ mV: 's', mH: 'xl' }),\n                    ])}\n                  />\n                )}\n                {group.items.map((item, index) => {\n                  const levelId = getIndex();\n                  const subMenu = getItemSubMenu(item);\n                  const withSubMenu = (subMenu && subMenu.length > 0) || false;\n                  const itemClick = getItemOnClick(item);\n                  const label = getItemLabel(item);\n                  const onClick = withSubMenu\n                    ? (e: React.MouseEvent<Element, MouseEvent>) => {\n                        itemClick?.(e);\n                        subMenu &&\n                          addLevel({\n                            items: subMenu,\n                            label,\n                            id: `${id}-${levelId}`,\n                          });\n                      }\n                    : itemClick;\n                  return (\n                    <VerticalMenuItem\n                      key={cnVerticalMenuLevel('Item', { groupIndex, index })}\n                      label={label}\n                      href={getItemHref(item)}\n                      active={getItemActive(item)}\n                      onClick={onClick}\n                      target={getItemTarget(item)}\n                      withSubMenu={withSubMenu}\n                      className={cnMixSpace({ pV: 's', pH: 'xl' })}\n                    />\n                  );\n                })}\n              </>\n            );\n          })}\n        </nav>\n        {footer && (\n          <div className={cnVerticalMenuLevel('Footer')}>\n            <div\n              className={cnVerticalMenuLevel('Divider', [\n                cnMixSpace({ mV: 's', mH: 'xl' }),\n              ])}\n            />\n            {footer}\n          </div>\n        )}\n      </div>\n    );\n  },\n);\n"],"mappings":"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"}