{"version":3,"file":"AnimateIconBase.js","names":["forwardRefWithAs","useRefs","React","Transition","cnIcon","iconPropSizeDefault","cnMixAnimateIcon","cn","cnAnimateIconBase","AnimateIconBase","props","ref","className","activeIndex","icons","directions","transition","as","size","view","style","otherProps","refs","length","SingleIcon","innerRender","map","Icon","index","key","animate"],"sources":["../../../../../src/components/AnimateIconBase/AnimateIconBase.tsx"],"sourcesContent":["import './AnimateIconBase.css';\n\nimport { forwardRefWithAs } from '@consta/uikit/__internal__/src/utils/types/PropsWithAsAttributes';\nimport { useRefs } from '@consta/uikit/useRefs';\nimport React from 'react';\nimport { Transition } from 'react-transition-group';\n\nimport { cnIcon, iconPropSizeDefault } from '##/icons/Icon';\nimport { cnMixAnimateIcon } from '##/mixs/MixAnimateIcon/MixAnimateIcon';\nimport { cn } from '##/utils/bem';\n\nimport { AnimateIconBaseProps } from './types';\n\nconst cnAnimateIconBase = cn('AnimateIconBase');\n\nexport const AnimateIconBase = forwardRefWithAs<AnimateIconBaseProps, 'span'>(\n  (props, ref) => {\n    const {\n      className,\n      activeIndex = 0,\n      icons,\n      directions,\n      transition = 200,\n      as = 'span',\n      size = iconPropSizeDefault,\n      view,\n      style,\n      ...otherProps\n    } = props;\n    const refs = useRefs<HTMLElement>(icons.length);\n\n    const SingleIcon = icons[0];\n\n    const Tag = as as string;\n\n    const innerRender =\n      icons.length === 1 ? (\n        <SingleIcon size={size} view={view} />\n      ) : (\n        icons.map((Icon, index) => (\n          <Transition\n            in={activeIndex === index}\n            key={cnAnimateIconBase({ key: index })}\n            unmountOnExit\n            timeout={transition}\n            nodeRef={refs[index]}\n          >\n            {(animate) => (\n              <Icon\n                ref={refs[index]}\n                className={cnMixAnimateIcon({\n                  animate,\n                })}\n                size={size}\n                view={view}\n              />\n            )}\n          </Transition>\n        ))\n      );\n\n    return (\n      <Tag\n        {...otherProps}\n        className={cnIcon({ size }, [cnAnimateIconBase(), className])}\n        ref={ref}\n        style={{\n          ...style,\n          ['--animate-icon-transition' as string]: `${transition}ms`,\n          ...(typeof directions?.[activeIndex] === 'number' && {\n            ['--animate-icon-direction' as string]: `rotate(${directions[activeIndex]}deg)`,\n          }),\n        }}\n      >\n        {innerRender}\n      </Tag>\n    );\n  },\n);\n"],"mappings":"m2BAAA,8BAEA,OAASA,gBAAT,KAAiC,kEAAjC,CACA,OAASC,OAAT,KAAwB,uBAAxB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,wBAA3B,CAEA,OAASC,MAAT,CAAiBC,mBAAjB,wBACA,OAASC,gBAAT,gDACA,OAASC,EAAT,uBAIA,KAAMC,kBAAiB,CAAGD,EAAE,CAAC,iBAAD,CAA5B,CAEA,MAAO,MAAME,gBAAe,CAAGT,gBAAgB,CAC7C,CAACU,CAAD,CAAQC,CAAR,GAAgB,MACR,CACJC,SAAS,CAATA,CADI,CAEJC,WAAW,CAAXA,CAAW,CAAG,CAFV,CAGJC,KAAK,CAALA,CAHI,CAIJC,UAAU,CAAVA,CAJI,CAKJC,UAAU,CAAVA,CAAU,CAAG,GALT,CAMJC,EAAE,CAAFA,CAAE,CAAG,MAND,CAOJC,IAAI,CAAJA,CAAI,CAAGb,mBAPH,CAQJc,IAAI,CAAJA,CARI,CASJC,KAAK,CAALA,CATI,EAWFV,CAZU,CAWTW,CAXS,0BAYVX,CAZU,YAaRY,CAAI,CAAGrB,OAAO,CAAca,CAAK,CAACS,MAApB,CAbN,CAeRC,CAAU,CAAGV,CAAK,CAAC,CAAD,CAfV,CAmBRW,CAAW,CACE,CAAjB,GAAAX,CAAK,CAACS,MAAN,CACE,oBAAC,CAAD,EAAY,IAAI,CAAEL,CAAlB,CAAwB,IAAI,CAAEC,CAA9B,EADF,CAGEL,CAAK,CAACY,GAAN,CAAU,CAACC,CAAD,CAAOC,CAAP,GACR,oBAAC,UAAD,EACE,EAAE,CAAEf,CAAW,GAAKe,CADtB,CAEE,GAAG,CAAEpB,iBAAiB,CAAC,CAAEqB,GAAG,CAAED,CAAP,CAAD,CAFxB,CAGE,aAAa,GAHf,CAIE,OAAO,CAAEZ,CAJX,CAKE,OAAO,CAAEM,CAAI,CAACM,CAAD,CALf,EAOIE,CAAD,EACC,oBAAC,CAAD,EACE,GAAG,CAAER,CAAI,CAACM,CAAD,CADX,CAEE,SAAS,CAAEtB,gBAAgB,CAAC,CAC1BwB,OAAO,CAAPA,CAD0B,CAAD,CAF7B,CAKE,IAAI,CAAEZ,CALR,CAME,IAAI,CAAEC,CANR,EARJ,CADF,CAvBU,CA6Cd,MACE,qBA7BUF,CA6BV,kBACMI,CADN,EAEE,SAAS,CAAEjB,MAAM,CAAC,CAAEc,IAAI,CAAJA,CAAF,CAAD,CAAW,CAACV,iBAAiB,EAAlB,CAAsBI,CAAtB,CAAX,CAFnB,CAGE,GAAG,CAAED,CAHP,CAIE,KAAK,gCACAS,CADA,MAEH,4BAA0C,GAAEJ,CAAW,IAFpD,EAGsC,QAArC,gBAAOD,CAAP,WAAOA,CAAP,QAAOA,CAAU,CAAGF,CAAH,CAAjB,GAAiD,CACnD,2BAAyC,UAASE,CAAU,CAACF,CAAD,CAAc,MADvB,CAHlD,CAJP,GAYGY,CAZH,CAeH,CA9D4C,CAAxC"}