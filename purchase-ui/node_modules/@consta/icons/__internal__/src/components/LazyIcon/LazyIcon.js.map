{"version":3,"file":"LazyIcon.js","names":["forwardRefWithAs","React","lazy","memo","Suspense","ErrorBoundary","cnIcon","Icon","LazyIconFallback","LazySvg","name","size","Svg","prev","next","LazyIcon","props","ref"],"sources":["../../../../../src/components/LazyIcon/LazyIcon.tsx"],"sourcesContent":["import {\n  forwardRefWithAs,\n  PropsWithAsAttributes,\n} from '@consta/uikit/__internal__/src/utils/types/PropsWithAsAttributes';\nimport React, { lazy, memo, Suspense } from 'react';\n\nimport { ErrorBoundary } from '##/components/ErrorBoundary';\nimport { cnIcon, IconComponent, IconProps } from '##/icons/Icon/helpers';\nimport { Icon } from '##/icons/Icon/Icon';\n\nimport { LazyIconFallback } from './LazyIconFallback';\nimport { LazyIconComponent, LazyIconProps, LazySvgProps } from './types';\n\ntype innerIconProps = PropsWithAsAttributes<IconProps, 'span'> & {\n  name: string;\n  color?: 'mono' | 'multiple';\n};\n\nconst LazySvg: React.FC<LazySvgProps> = memo(\n  ({ name, size = 'm' }) => {\n    const Svg = lazy(\n      () => import(`../../icons/${name}/svg`),\n    ) as unknown as IconComponent;\n\n    return (\n      <ErrorBoundary\n        fallback={<LazyIconFallback className={cnIcon('Svg')} size={size} />}\n      >\n        <Suspense\n          fallback={\n            <LazyIconFallback className={cnIcon('Svg')} size={size} animate />\n          }\n        >\n          <Svg className={cnIcon('Svg')} size={size} />\n        </Suspense>\n      </ErrorBoundary>\n    );\n  },\n  (prev, next) => prev.name === next.name && prev.size === next.size,\n);\n\nexport const LazyIcon: LazyIconComponent<'span'> = forwardRefWithAs<\n  LazyIconProps,\n  'span'\n>((props, ref) => {\n  return (\n    <Icon {...(props as innerIconProps)} ref={ref}>\n      <LazySvg name={props.name} size={props.size} />\n    </Icon>\n  );\n});\n"],"mappings":"AAAA,OACEA,gBADF,KAGO,kEAHP,CAIA,MAAOC,MAAP,EAAgBC,IAAhB,CAAsBC,IAAtB,CAA4BC,QAA5B,KAA4C,OAA5C,CAEA,OAASC,aAAT,wBACA,OAASC,MAAT,gCACA,OAASC,IAAT,6BAEA,OAASC,gBAAT,0BAQA,KAAMC,QAA+B,CAAGN,IAAI,CAC1C,CAAC,CAAEO,IAAI,CAAJA,CAAF,CAAQC,IAAI,CAAJA,CAAI,CAAG,GAAf,CAAD,GAA0B,CACxB,KAAMC,EAAG,CAAGV,IAAI,CACd,IAAM,OAAQ,eAAcQ,CAAK,MAA3B,CADQ,CAAhB,CAIA,MACE,qBAAC,aAAD,EACE,QAAQ,CAAE,oBAAC,gBAAD,EAAkB,SAAS,CAAEJ,MAAM,CAAC,KAAD,CAAnC,CAA4C,IAAI,CAAEK,CAAlD,EADZ,EAGE,oBAAC,QAAD,EACE,QAAQ,CACN,oBAAC,gBAAD,EAAkB,SAAS,CAAEL,MAAM,CAAC,KAAD,CAAnC,CAA4C,IAAI,CAAEK,CAAlD,CAAwD,OAAO,GAA/D,EAFJ,EAKE,oBAAC,CAAD,EAAK,SAAS,CAAEL,MAAM,CAAC,KAAD,CAAtB,CAA+B,IAAI,CAAEK,CAArC,EALF,CAHF,CAYH,CAnByC,CAoB1C,CAACE,CAAD,CAAOC,CAAP,GAAgBD,CAAI,CAACH,IAAL,GAAcI,CAAI,CAACJ,IAAnB,EAA2BG,CAAI,CAACF,IAAL,GAAcG,CAAI,CAACH,IApBpB,CAA5C,CAuBA,MAAO,MAAMI,SAAmC,CAAGf,gBAAgB,CAGjE,CAACgB,CAAD,CAAQC,CAAR,GAEE,oBAAC,IAAD,kBAAWD,CAAX,EAAqC,GAAG,CAAEC,CAA1C,GACE,oBAAC,OAAD,EAAS,IAAI,CAAED,CAAK,CAACN,IAArB,CAA2B,IAAI,CAAEM,CAAK,CAACL,IAAvC,EADF,CAL+D,CAA5D"}