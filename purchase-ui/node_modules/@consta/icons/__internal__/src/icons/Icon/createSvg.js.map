{"version":3,"file":"createSvg.js","names":["React","useContext","useEffect","useMemo","cnIcons","IconsContext","renderTypeDefault","createSvg","createProps","props","name","renderType","size","className","otherProps","Svg","addIcon","removeIcon","SvgElement","children","_children","svgProps"],"sources":["../../../../../src/icons/Icon/createSvg.tsx"],"sourcesContent":["import React, { useContext, useEffect, useMemo } from 'react';\n\nimport { cnIcons, IconsContext } from '##/components/IconsProvider';\n\nimport { CreateIconArguments, renderTypeDefault, SvgProps } from './helpers';\n\nexport const createSvg =\n  (createProps: CreateIconArguments) => (props: SvgProps) => {\n    const { name, renderType = renderTypeDefault } = createProps;\n\n    const { size = 'm', className, ...otherProps } = props;\n\n    const Svg = createProps[size];\n    const { addIcon, removeIcon } = useContext(IconsContext);\n\n    const SvgElement = useMemo(() => {\n      return renderType[size] === 'use' ? Svg({ className }) : null;\n    }, [Svg]);\n\n    const { children: _children, ...svgProps } = SvgElement?.props ?? {};\n\n    useEffect(() => {\n      if (renderType[size] === 'use') {\n        addIcon?.(name, size, SvgElement);\n      }\n    }, [SvgElement, renderType, size]);\n\n    useEffect(() => {\n      return () => {\n        if (renderType[size] === 'use') {\n          removeIcon?.(name, size);\n        }\n      };\n    }, [Svg, renderType, size]);\n\n    if (addIcon && renderType[size] === 'use') {\n      return (\n        <svg {...otherProps} {...svgProps}>\n          <use x=\"0\" y=\"0\" xlinkHref={`#${cnIcons(`${name}_${size}`)}`} />\n        </svg>\n      );\n    }\n    return <Svg className={className} />;\n  };\n"],"mappings":"kJAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,OAAvC,KAAsD,OAAtD,CAEA,OAASC,OAAT,CAAkBC,YAAlB,sCAEA,OAA8BC,iBAA9B,iBAEA,MAAO,MAAMC,UAAS,CACnBC,CAAD,EAAuCC,CAAD,EAAqB,YACnD,CAAEC,IAAI,CAAJA,CAAF,CAAQC,UAAU,CAAVA,CAAU,CAAGL,iBAArB,EAA2CE,CADQ,CAGnD,CAAEI,IAAI,CAAJA,CAAI,CAAG,GAAT,CAAcC,SAAS,CAATA,CAAd,EAA2CJ,CAHQ,CAGvBK,CAHuB,0BAGRL,CAHQ,YAKnDM,CAAG,CAAGP,CAAW,CAACI,CAAD,CALkC,CAMnD,CAAEI,OAAO,CAAPA,CAAF,CAAWC,UAAU,CAAVA,CAAX,EAA0BhB,UAAU,CAACI,YAAD,CANe,CAQnDa,CAAU,CAAGf,OAAO,CAAC,IACG,KAArB,GAAAQ,CAAU,CAACC,CAAD,CAAV,CAA6BG,CAAG,CAAC,CAAEF,SAAS,CAATA,CAAF,CAAD,CAAhC,CAAkD,IADjC,CAEvB,CAACE,CAAD,CAFuB,CAR+B,oBAYZG,CAZY,WAYZA,CAZY,QAYZA,CAAU,CAAET,KAZA,gBAYS,EAZT,CAYnD,CAAEU,QAAQ,CAAEC,CAAZ,CAZmD,GAYzBC,CAZyB,8CAczDnB,UAAS,CAAC,IAAM,CACW,KAArB,GAAAS,CAAU,CAACC,CAAD,CADA,UAEZI,CAFY,WAEZA,CAFY,QAEZA,CAAO,CAAGN,CAAH,CAASE,CAAT,CAAeM,CAAf,CAFK,CAIf,CAJQ,CAIN,CAACA,CAAD,CAAaP,CAAb,CAAyBC,CAAzB,CAJM,CAdgD,CAoBzDV,SAAS,CAAC,IACD,IAAM,CACc,KAArB,GAAAS,CAAU,CAACC,CAAD,CADH,UAETK,CAFS,WAETA,CAFS,QAETA,CAAU,CAAGP,CAAH,CAASE,CAAT,CAFD,CAIZ,CALM,CAMN,CAACG,CAAD,CAAMJ,CAAN,CAAkBC,CAAlB,CANM,CApBgD,CA4BrDI,CAAO,EAAyB,KAArB,GAAAL,CAAU,CAACC,CAAD,CA5BgC,CA8BrD,2CAASE,CAAT,CAAyBO,CAAzB,EACE,2BAAK,CAAC,CAAC,GAAP,CAAW,CAAC,CAAC,GAAb,CAAiB,SAAS,CAAG,IAAGjB,OAAO,CAAE,GAAEM,CAAK,IAAGE,CAAK,EAAjB,CAAoB,EAA3D,EADF,CA9BqD,CAmClD,oBAAC,CAAD,EAAK,SAAS,CAAEC,CAAhB,EACR,CArCI"}