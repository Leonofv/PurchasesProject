{"version":3,"file":"Attachment.js","names":["React","Button","File","Text","cn","forwardRefWithAs","attachmentPropSizeDefault","cnAttachment","fileSizeMap","xs","s","m","textSizeMap","descriptionSizeMap","Attachment","props","ref","className","as","fileExtension","withPictogram","loading","fileName","buttonIcon","onButtonClick","errorText","loadingText","loadingProgress","fileDescription","size","onClick","withActionProp","withAction","buttonTitle","otherProps","withOnButtonAction","error"],"sources":["../../../../../src/components/Attachment/Attachment.tsx"],"sourcesContent":["import './Attachment.css';\n\nimport React from 'react';\n\nimport { Button } from '##/components/Button';\nimport { File } from '##/components/File';\nimport { Text, TextPropSize } from '##/components/Text';\nimport { FileIconPropSize } from '##/fileIcons/FileIcon/FileIcon';\nimport { cn } from '##/utils/bem';\nimport { forwardRefWithAs } from '##/utils/types/PropsWithAsAttributes';\n\nimport {\n  AttachmentProps,\n  AttachmentPropSize,\n  attachmentPropSizeDefault,\n} from './types';\n\nconst cnAttachment = cn('Attachment');\n\nconst fileSizeMap: Record<AttachmentPropSize, FileIconPropSize> = {\n  xs: 's',\n  s: 's',\n  m: 'm',\n};\n\nconst textSizeMap: Record<AttachmentPropSize, TextPropSize> = {\n  xs: 'xs',\n  s: 's',\n  m: 's',\n};\n\nconst descriptionSizeMap: Record<AttachmentPropSize, TextPropSize> = {\n  xs: 'xs',\n  s: 'xs',\n  m: 's',\n};\n\nconst Attachment = forwardRefWithAs<AttachmentProps>((props, ref) => {\n  const {\n    className,\n    as = 'div',\n    fileExtension,\n    withPictogram,\n    loading,\n    fileName,\n    buttonIcon,\n    onButtonClick,\n    errorText,\n    loadingText = 'Loading',\n    loadingProgress,\n    fileDescription,\n    size = attachmentPropSizeDefault,\n    onClick,\n    withAction: withActionProp,\n    buttonTitle,\n    ...otherProps\n  } = props;\n  const Tag = as as string;\n  const withAction = withActionProp || Boolean(onClick);\n  const withOnButtonAction = Boolean(onButtonClick);\n\n  return (\n    <Tag\n      {...otherProps}\n      onClick={onClick}\n      className={cnAttachment({ withAction, withOnButtonAction, size }, [\n        className,\n      ])}\n      ref={ref}\n    >\n      {withPictogram && (\n        <File\n          className={cnAttachment('File', { error: Boolean(errorText) })}\n          extension={fileExtension}\n          loading={loading}\n          loadingWithProgressSpin\n          loadingProgress={loadingProgress}\n          size={fileSizeMap[size]}\n        />\n      )}\n      <div className={cnAttachment('Content')}>\n        {fileName && (\n          <Text\n            className={cnAttachment('FileName')}\n            size={textSizeMap[size]}\n            view=\"primary\"\n            lineHeight=\"xs\"\n          >\n            {fileName}\n          </Text>\n        )}\n        {fileDescription && !loading && (\n          <Text\n            className={cnAttachment('FileDescription')}\n            size={descriptionSizeMap[size]}\n            lineHeight=\"xs\"\n            view=\"ghost\"\n          >\n            {fileDescription}\n          </Text>\n        )}\n        {loadingText && loading && (\n          <Text\n            className={cnAttachment('LoadingText')}\n            size={descriptionSizeMap[size]}\n            lineHeight=\"xs\"\n            view=\"ghost\"\n          >\n            {loadingProgress\n              ? `${loadingText} ${loadingProgress}%`\n              : `${loadingText}...`}\n          </Text>\n        )}\n        {errorText && (\n          <Text\n            className={cnAttachment('ErrorText')}\n            size={descriptionSizeMap[size]}\n            lineHeight=\"xs\"\n            view=\"alert\"\n          >\n            {errorText}\n          </Text>\n        )}\n      </div>\n      {withOnButtonAction && (\n        <Button\n          className={cnAttachment('Button')}\n          as=\"span\"\n          onlyIcon\n          iconLeft={buttonIcon}\n          onClick={onButtonClick}\n          title={buttonTitle}\n          size=\"xs\"\n          view=\"clear\"\n        />\n      )}\n    </Tag>\n  );\n});\n\nexport { Attachment, cnAttachment };\n"],"mappings":"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"}