import _defineProperty from"@babel/runtime/helpers/defineProperty";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["as","className","size","form","url","name","monochrome","style"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import"./Avatar.css";import React,{useMemo}from"react";import{cn}from"../../utils/bem";import{forwardRefWithAs}from"../../utils/types/PropsWithAsAttributes";export var avatarPropSize=["m","s","xs","l"];export var avatarPropSizeDefault=avatarPropSize[0];export var avatarPropForm=["round","brick","default"];export var avatarPropFormDefault=avatarPropForm[0];export var cnAvatar=cn("Avatar");var MAX_COLOR_INDEX=17,getRandomInt=function(a){return Math.floor(Math.random()*Math.floor(a))};export var getColorIndexForName=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:MAX_COLOR_INDEX,c=2<arguments.length?arguments[2]:void 0;if(c)return 18;var d=0;return d=a?a.split("").map(function(a){return a.charCodeAt(0)}).reduce(function(a,b){return a+b},0)%b:getRandomInt(b),d};export var getInitialsForName=function(a){if(!a)return"";var b=a.split(" "),c=b[0]?b[0][0]:"",d=b[1]?b[1][0]:"";return"".concat(c.toUpperCase()).concat(d.toUpperCase())};export var Avatar=forwardRefWithAs(function(a,b){var c=a.as,d=void 0===c?"div":c,e=a.className,f=a.size,g=void 0===f?avatarPropSizeDefault:f,h=a.form,i=void 0===h?avatarPropFormDefault:h,j=a.url,k=a.name,l=a.monochrome,m=a.style,n=_objectWithoutProperties(a,_excluded),o=useMemo(function(){return getInitialsForName(k)},[k]),p=useMemo(function(){return getColorIndexForName(k,MAX_COLOR_INDEX,l)},[k,l]);return React.createElement(d,Object.assign({},n,{style:j?m:_objectSpread(_objectSpread({},m),{},{"--avatar-color":"var(--avatar-color-".concat(p,")")}),className:cnAvatar({size:g,form:i,monochrome:j?l:void 0},[e]),ref:b}),j&&React.createElement("img",{className:cnAvatar("Image"),src:j,alt:k}),!j&&o)});
//# sourceMappingURL=Avatar.js.map