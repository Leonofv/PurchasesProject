import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["items","form","size","visibleCount","getItemName","getItemUrl","monochrome"];import"./AvatarGroup.css";import React,{forwardRef}from"react";import{useForkRef}from"../../hooks/useForkRef";import{getHiddenCount,useHideElementsInLine}from"../../hooks/useHideElementsInLine";import{cn}from"../../utils/bem";import{Avatar,avatarPropFormDefault,cnAvatar}from"../Avatar/Avatar";import{withDefaultGetters}from"./helpers";import{avatarGroupPropSizeDefault}from"./types";var cnAvatarGroup=cn("AvatarGroup"),AvatarGroupRender=function(a,b){var c=withDefaultGetters(a),d=c.items,e=void 0===d?[]:d,f=c.form,g=void 0===f?avatarPropFormDefault:f,h=c.size,i=void 0===h?avatarGroupPropSizeDefault:h,j=c.visibleCount,k=void 0===j?4:j,l=c.getItemName,m=c.getItemUrl,n=c.monochrome,o=_objectWithoutProperties(c,_excluded),p=e.length,q=useHideElementsInLine(p+1,0,0,[k]),r=q.elementsRefs,s=q.parentRef,t=q.visibleMap,u="auto"===k,v=u?_toConsumableArray(e).reverse():_toConsumableArray(e).slice(0,k).reverse();return React.createElement("div",Object.assign({className:cnAvatarGroup({size:i}),ref:useForkRef([s,b])},o),(u||p>k)&&React.createElement("div",{className:cnAvatar({size:i,form:g},[cnAvatarGroup("More",{hidden:!t[0]&&u})]),ref:r[0]},"+".concat(u?getHiddenCount(t):p-k)),v.map(function(a,b){return React.createElement(Avatar,{key:cnAvatarGroup({index:b}),url:m(a),name:l(a),className:cnAvatarGroup("Avatar",{hidden:!t[b+1]&&u}),size:i,form:g,ref:r[b+1],monochrome:n})}))};export var AvatarGroup=forwardRef(AvatarGroupRender);export*from"./types";
//# sourceMappingURL=AvatarGroup.js.map