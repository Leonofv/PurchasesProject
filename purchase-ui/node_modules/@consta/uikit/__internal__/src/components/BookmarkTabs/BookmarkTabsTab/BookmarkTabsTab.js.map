{"version":3,"file":"BookmarkTabsTab.js","names":["IconClose","React","forwardRef","useRef","Button","Text","useForkRef","cnMixSpace","cn","cnBookmarkTabsTab","BookmarkTabsTabRender","props","ref","label","LeftIcon","leftIcon","RightIcon","rightIcon","as","Tag","onClick","size","form","active","fixed","tabRef","hovered","onClose","onKeyDownProp","onKeyDown","view","className","bordered","tabWidth","style","otherProps","closeButtonRef","tagRef","withCloseButton","withLeftIcon","withRightIcon","e","code","stopPropagation","preventDefault","current","focus","side","mR","mL","onCloseKeydown","BookmarkTabsTab"],"sources":["../../../../../../src/components/BookmarkTabs/BookmarkTabsTab/BookmarkTabsTab.tsx"],"sourcesContent":["import './BookmarkTabsTab.css';\n\nimport { IconClose } from '@consta/icons/IconClose';\nimport React, { forwardRef, useRef } from 'react';\n\nimport { Button } from '##/components/Button';\nimport { Text } from '##/components/Text';\nimport { useForkRef } from '##/hooks/useForkRef';\nimport { cnMixSpace } from '##/mixs/MixSpace';\nimport { cn } from '##/utils/bem';\n\nimport { BookmarkTabsTabComponent, BookmarkTabsTabProps } from '../types';\n\nexport const cnBookmarkTabsTab = cn('BookmarkTabsTab');\n\nconst BookmarkTabsTabRender = (\n  props: BookmarkTabsTabProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    label,\n    leftIcon: LeftIcon,\n    rightIcon: RightIcon,\n    as: Tag = 'div',\n    onClick,\n    size,\n    form,\n    active,\n    fixed,\n    tabRef,\n    hovered,\n    onClose,\n    onKeyDown: onKeyDownProp,\n    view,\n    className,\n    bordered,\n    tabWidth = '100%',\n    style,\n    ...otherProps\n  } = props;\n\n  const closeButtonRef = useRef<HTMLButtonElement>(null);\n  const tagRef = useRef<HTMLDivElement>(null);\n\n  const onCloseKeydown: React.KeyboardEventHandler = (e) => {\n    const { code } = e;\n    e.stopPropagation();\n    e.preventDefault();\n    if (code === 'Tab' || code === 'Escape') {\n      tagRef?.current?.focus();\n    }\n    if (code === 'Enter' || code === 'Space') {\n      onClose?.(e);\n    }\n  };\n\n  const onKeyDown: React.KeyboardEventHandler<HTMLDivElement> = (e) => {\n    const { code } = e;\n    onKeyDownProp?.(e);\n    if (onClose && code === 'Enter') {\n      e.stopPropagation();\n      e.preventDefault();\n      closeButtonRef.current?.focus();\n    }\n  };\n\n  return (\n    <Tag\n      className={cnBookmarkTabsTab(\n        {\n          size,\n          form,\n          view,\n          active,\n          hovered,\n          fixed,\n          bordered,\n          withCloseButton: !!onClose,\n          withLeftIcon: !!LeftIcon,\n          withRightIcon: !!RightIcon,\n        },\n        [className],\n      )}\n      role=\"button\"\n      onClick={onClick}\n      onKeyDown={onKeyDown}\n      ref={useForkRef([ref, tabRef, tagRef])}\n      style={{\n        ['--bookmarks-tab-width' as string]: tabWidth,\n        ...style,\n      }}\n      {...otherProps}\n    >\n      {LeftIcon && (\n        <LeftIcon\n          className={cnBookmarkTabsTab('Icon', { side: 'left' }, [\n            fixed ? undefined : cnMixSpace({ mR: size === 's' ? '2xs' : 'xs' }),\n          ])}\n          size={size}\n        />\n      )}\n      {!fixed && (\n        <>\n          <Text\n            align=\"left\"\n            className={cnBookmarkTabsTab('Label')}\n            size={size}\n            view=\"primary\"\n            lineHeight=\"m\"\n          >\n            {label}\n          </Text>\n          {RightIcon && (\n            <RightIcon\n              className={cnBookmarkTabsTab('Icon', { side: 'right' }, [\n                cnMixSpace({ mL: 'xs' }),\n              ])}\n              size=\"xs\"\n              view=\"secondary\"\n            />\n          )}\n          {onClose && (\n            <Button\n              size=\"xs\"\n              onlyIcon\n              ref={closeButtonRef}\n              type=\"button\"\n              view=\"clear\"\n              onKeyDown={onCloseKeydown}\n              tabIndex={-1}\n              className={cnBookmarkTabsTab('Button', [\n                cnMixSpace({ mL: 'xs' }),\n              ])}\n              onClick={onClose}\n              iconLeft={IconClose}\n            />\n          )}\n        </>\n      )}\n    </Tag>\n  );\n};\n\nexport const BookmarkTabsTab = forwardRef(\n  BookmarkTabsTabRender,\n) as BookmarkTabsTabComponent;\n"],"mappings":"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"}