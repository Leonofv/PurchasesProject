import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{useLayoutEffect,useMemo,useState}from"react";import{useRefs}from"../../hooks/useRefs";var MAX_TAB_SIZE=200;export var useBookmarkTabs=function(a){var b=a.items,c=a.getItemFixed,d=a.withNavigationButtons,e=useRefs(b.length),f=useRefs(6),g=_slicedToArray(f,6),h=g[0],i=g[1],j=g[2],k=g[3],l=g[4],m=g[5],n=useState([]),o=_slicedToArray(n,2),p=o[0],q=o[1],r=useState(!1),s=_slicedToArray(r,2),t=s[0],u=s[1],v=useMemo(function(){var a=[],d=[];return b.forEach(function(b){c(b)?a.push(b):d.push(b)}),{fixedTabs:a,otherTabs:d}},[b,c]),w=v.fixedTabs,x=v.otherTabs;return useLayoutEffect(function(){for(var a,b=[i,j,h,k,l],c=new ResizeObserver(function(){var a,b,c,e,f,g,h,n,o,p,r,s,t,v,w=null!==(a=null===(b=i.current)||void 0===b?void 0:b.offsetWidth)&&void 0!==a?a:0,y=null!==(c=null===(e=j.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==c?c:0,z=(null!==(f=null===(g=j.current)||void 0===g?void 0:g.scrollWidth)&&void 0!==f?f:0)+(null!==(h=null===(n=k.current)||void 0===n?void 0:n.scrollWidth)&&void 0!==h?h:0)>w-(null!==(o=null===(p=m.current)||void 0===p?void 0:p.offsetWidth)&&void 0!==o?o:0)&&!!d,A=w-(null!==(r=null===(s=l.current)||void 0===s?void 0:s.offsetWidth)&&void 0!==r?r:0)-(null!==(t=null===(v=m.current)||void 0===v?void 0:v.offsetWidth)&&void 0!==t?t:0)-y,B="".concat(A?Math.min(A/x.length,MAX_TAB_SIZE):MAX_TAB_SIZE,"px");q(Array.from({length:x.length}).fill(B)),u(z)}),e=0,f=b;e<f.length;e++)a=f[e],a.current&&c.observe(a.current);return function(){c.disconnect()}},[x.length,w.length,d,h.current,i.current,j.current,l.current]),{refs:e,containerRef:i,wrapperRef:h,fixedTabsRef:j,otherTabsRef:k,showControls:t,fixedTabs:w,otherTabs:x,navigate:function navigate(a){var b=h.current;if(b)for(var g,j=0;j<e.length;j++)if(g=e[j],g.current&&g.current.offsetLeft>=b.offsetLeft+b.scrollLeft){var c,d=j+("next"===a?1:-1),f=null===(c=e[d])||void 0===c?void 0:c.current;return void(f&&b.scrollTo({left:f.offsetLeft-b.offsetLeft,behavior:"smooth"}))}},sizes:p,controlsRef:l,addButtonRef:m}};
//# sourceMappingURL=useBookmarkTabs.js.map