import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["className","onItemClick","item","size","onlyIcon","delimiter","active","getItemHref","getItemIcon","getItemLabel","getItemSubMenu","children"];import"./BreadcrumbsItem.css";import{IconArrowRight}from"@consta/icons/IconArrowRight";import{IconSelect}from"@consta/icons/IconSelect";import React,{forwardRef,useRef}from"react";import{useFlag}from"../../../hooks/useFlag/useFlag";import{cnMixSpace}from"../../../mixs/MixSpace/MixSpace";import{cn}from"../../../utils/bem";import{getByMap}from"../../../utils/getByMap";import{Button}from"../../Button/Button";import{ContextMenu}from"../../ContextMenu/ContextMenu";import{Text}from"../../Text/Text";import{contextMenuSizeMap,getItemAs,getItemAttributes}from"../BreadcrumbsMore/BreadcrumbsMore";import{iconSizeMap}from"../helpers";export var cnBreadcrumbsItem=cn("BreadcrumbsItem");function BreadcrumbsItemRender(a,b){var c=a.className,d=a.onItemClick,f=a.item,g=a.size,h=a.onlyIcon,i=a.delimiter,j=a.active,k=a.getItemHref,l=a.getItemIcon,m=a.getItemLabel,n=a.getItemSubMenu,o=a.children,p=_objectWithoutProperties(a,_excluded),q=useFlag(),r=_slicedToArray(q,2),s=r[0],t=r[1],u=useRef(null),v=f&&(null===l||void 0===l?void 0:l(f)),w=v&&h,x=f&&(null===k||void 0===k?void 0:k(f)),y=f&&(null===m||void 0===m?void 0:m(f)),z=f&&(null===n||void 0===n?void 0:n(f)),A=getByMap(iconSizeMap,g),B=x?{as:"a",href:x}:{as:"span"};return React.createElement("li",Object.assign({className:cnBreadcrumbsItem(null,[c]),ref:b},p),i&&React.createElement(IconArrowRight,{className:cnBreadcrumbsItem("Delimiter",[cnMixSpace({mH:g})]),view:"ghost",size:A}),o||React.createElement(React.Fragment,null,React.createElement(Text,Object.assign({className:cnBreadcrumbsItem("Link",{active:j}),view:j?"primary":"secondary",onClick:function handleClick(a){f&&(null===d||void 0===d?void 0:d(f,{e:a}))},size:g,truncate:!w,lineHeight:"m"},B),v&&(w?React.createElement(Button,{type:"button",view:"clear",onlyIcon:!0,iconLeft:v,size:A}):React.createElement(v,{className:cnBreadcrumbsItem("Icon",[cnMixSpace({mR:"xs"})]),size:A})),!w&&y),z&&React.createElement("button",{ref:u,onClick:t.toggle,type:"button",className:cnBreadcrumbsItem("SelectButton")},React.createElement(IconSelect,{size:"xs",view:j?"primary":"secondary"}))),z&&React.createElement(ContextMenu,{isOpen:s,items:z,getItemLabel:m,getItemSubMenu:n,getItemLeftIcon:l,onItemClick:function onItemClick(a,b){var c=b.e;t.off(),a&&(null===d||void 0===d?void 0:d(a,{e:c}))},getItemAs:getItemAs(k),getItemAttributes:getItemAttributes(k),direction:"downStartRight",possibleDirections:["downStartLeft","upStartLeft","downStartRight","upStartRight"],anchorRef:u,offset:"xs",onClickOutside:t.off,size:contextMenuSizeMap[g]}))}export var BreadcrumbsItem=forwardRef(BreadcrumbsItemRender);
//# sourceMappingURL=BreadcrumbsItem.js.map