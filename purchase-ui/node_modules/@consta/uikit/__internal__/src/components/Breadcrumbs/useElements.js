import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import{useMemo}from"react";import{useHideElementsInLine}from"../../hooks/useHideElementsInLine";import{useRefs}from"../../hooks/useRefs";import{useResizeObserved}from"../../hooks/useResizeObserved";var useReadyToHideItems=function(a){return useMemo(function(){var b=_toConsumableArray(a),c=b.shift(),d=b.pop();return[c,b,d]},[a])},getLastWidth=function(a,b,c,d){var e=b+c.reduce(function(a,b,c){return a+(d[c]?b:0)},0);return"".concat(a-e,"px")},getCompression=function(a){return 380>=a?"s":900>=a?"m":1200>=a?"l":"xl"};export var useElements=function(a){var b=useReadyToHideItems(a),c=_slicedToArray(b,3),d=c[0],e=c[1],f=c[2],g=useRefs(2),h=useResizeObserved(g,function(a){return a?parseInt(getComputedStyle(a).marginRight,10)+parseInt(getComputedStyle(a).marginLeft,10)+a.offsetWidth:0}),i=h.reduce(function(a,b){return a+b},0),j=useHideElementsInLine(e.length+1,0,i),k=j.elementsSizes,l=j.parentSize,m=j.visibleMap,n=j.parentRef,o=j.elementsRefs,p=getLastWidth(l,h[0],k,m),q=getCompression(l),r=m.map(function(b,c){if(!b&&0!==c)return a[c]}).filter(function(a){return!!a});return{firstItem:d,lastItem:f,readyToHideItems:e,hiddenItems:r,visibleMap:m,firstItemRef:g[0],lastItemRef:g[1],lastWidth:p,compression:q,parentRef:n,elementsRefs:o}};
//# sourceMappingURL=useElements.js.map