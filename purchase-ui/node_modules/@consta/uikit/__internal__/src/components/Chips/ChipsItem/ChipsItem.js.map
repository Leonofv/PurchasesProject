{"version":3,"file":"ChipsItem.js","names":["React","useRef","Badge","useForkRef","useKeys","cnMixFocus","cn","forwardRefWithAs","chipsPropActiveViewDefault","chipsPropSizeDefault","cnChip","iconSizeMap","l","m","s","xs","ChipsItem","props","ref","as","label","size","status","activeView","className","interactiveProp","interactive","style","active","IconLeft","iconLeft","IconRight","iconRight","onRightIconClick","onKeyUpProp","onKeyUp","tabIndex","disabled","otherProps","componentRef","iconButtonRef","keys","Enter","current","focus","click","Escape","Space","onEvent","isActive","role","type","onClick"],"sources":["../../../../../../src/components/Chips/ChipsItem/ChipsItem.tsx"],"sourcesContent":["import './ChipsItem.css';\n\nimport { IconPropSize } from '@consta/icons/Icon';\nimport React, { useRef } from 'react';\n\nimport { Badge } from '##/components/Badge';\nimport { useForkRef } from '##/hooks/useForkRef';\nimport { useKeys } from '##/hooks/useKeys';\nimport { cnMixFocus } from '##/mixs/MixFocus';\nimport { cn } from '##/utils/bem';\nimport { forwardRefWithAs } from '##/utils/types/PropsWithAsAttributes';\n\nimport {\n  ChipsItemProps,\n  chipsPropActiveViewDefault,\n  ChipsPropSize,\n  chipsPropSizeDefault,\n} from '../types';\n\nconst cnChip = cn('ChipsItem');\n\nconst iconSizeMap: Record<ChipsPropSize, IconPropSize> = {\n  l: 'm',\n  m: 's',\n  s: 's',\n  xs: 'xs',\n};\n\nexport const ChipsItem = forwardRefWithAs<ChipsItemProps, 'span'>(\n  (props, ref) => {\n    const {\n      as = 'span',\n      label,\n      size = chipsPropSizeDefault,\n      status,\n      activeView = chipsPropActiveViewDefault,\n      className,\n      interactive: interactiveProp,\n      style,\n      active,\n      iconLeft: IconLeft,\n      iconRight: IconRight,\n      onRightIconClick,\n      onKeyUp: onKeyUpProp,\n      tabIndex,\n      disabled = false,\n      ...otherProps\n    } = props;\n\n    const componentRef = useRef<HTMLElement>(null);\n    const iconButtonRef = useRef<HTMLButtonElement>(null);\n    const interactive = disabled ? false : interactiveProp;\n\n    const onKeyUp = useKeys({\n      keys: {\n        Enter: () => {\n          if (iconButtonRef && onRightIconClick) {\n            iconButtonRef.current?.focus();\n          } else {\n            componentRef.current?.click();\n          }\n        },\n        Escape: () => {\n          if (iconButtonRef && onRightIconClick) {\n            componentRef.current?.focus();\n          }\n        },\n        Space: () => {\n          componentRef.current?.click();\n        },\n      },\n      onEvent: onKeyUpProp,\n      isActive: !!interactive,\n    });\n\n    const Tag = as as string;\n\n    return (\n      <Tag\n        {...otherProps}\n        disabled={disabled}\n        className={cnChip(\n          {\n            size,\n            interactive,\n            activeView,\n            active,\n            disabled,\n            status: Boolean(status),\n          },\n          [interactive ? cnMixFocus() : undefined, className],\n        )}\n        ref={useForkRef([componentRef, ref])}\n        onKeyUp={onKeyUp}\n        tabIndex={interactive ? tabIndex || 0 : undefined}\n        role={interactive ? 'button' : undefined}\n      >\n        {status && <Badge status={status} size={iconSizeMap[size]} minified />}\n        {!status && IconLeft && <IconLeft size={iconSizeMap[size]} />}\n        {label}\n        {IconRight && (\n          <IconRight\n            size={iconSizeMap[size]}\n            {...(onRightIconClick && !disabled\n              ? {\n                  as: 'button',\n                  role: 'button',\n                  type: 'button',\n                  onClick: onRightIconClick,\n                  className: cnChip('IconButton', [cnMixFocus()]),\n                  ref: iconButtonRef,\n                  tabIndex: -1,\n                }\n              : {})}\n          />\n        )}\n      </Tag>\n    );\n  },\n);\n"],"mappings":"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"}