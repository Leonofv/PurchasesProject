{"version":3,"file":"ChoiceGroup.js","names":["React","forwardRef","useChoiceGroup","cn","getByMap","withDefaultGetters","ChoiceGroupItem","choiceGroupDefaultForm","choiceGroupDefaultSize","choiceGroupDefaultView","choiceGroupWidthDefault","sizeMap","xs","s","m","l","cnChoiceGroup","ChoiceGroupRender","props","ref","size","form","view","width","onlyIcon","iconSizeProp","iconSize","value","multiple","items","getItemLabel","onChange","getItemIcon","getItemAttributes","getItemRef","getItemDisabled","name","className","disabled","truncate","otherProps","getKey","callBack","getOnChange","getChecked","map","item","index","itemChecked","itemDisabled","attributes","label","toString","checked","ChoiceGroup"],"sources":["../../../../../src/components/ChoiceGroup/ChoiceGroup.tsx"],"sourcesContent":["import './ChoiceGroup.css';\n\nimport { IconPropSize } from '@consta/icons/Icon';\nimport React, { forwardRef } from 'react';\n\nimport { useChoiceGroup } from '##/hooks/useChoiceGroup';\nimport { cn } from '##/utils/bem';\nimport { getByMap } from '##/utils/getByMap';\n\nimport { withDefaultGetters } from './helper';\nimport { ChoiceGroupItem } from './Item/ChoiceGroup-Item';\nimport {\n  ChoiceGroupComponent,\n  choiceGroupDefaultForm,\n  choiceGroupDefaultSize,\n  choiceGroupDefaultView,\n  ChoiceGroupPropOnChange,\n  ChoiceGroupProps,\n  ChoiceGroupPropSize,\n  choiceGroupWidthDefault,\n} from './types';\n\nconst sizeMap: Record<ChoiceGroupPropSize, IconPropSize> = {\n  xs: 'xs',\n  s: 'xs',\n  m: 's',\n  l: 'm',\n};\n\nexport const cnChoiceGroup = cn('ChoiceGroup');\n\nconst ChoiceGroupRender = (\n  props: ChoiceGroupProps,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    size = choiceGroupDefaultSize,\n    form = choiceGroupDefaultForm,\n    view = choiceGroupDefaultView,\n    width = choiceGroupWidthDefault,\n    onlyIcon,\n    iconSize: iconSizeProp,\n    value = null,\n    multiple = false,\n    items,\n    getItemLabel,\n    onChange,\n    getItemIcon,\n    getItemAttributes,\n    getItemRef,\n    getItemDisabled,\n    name,\n    className,\n    disabled = false,\n    truncate,\n    ...otherProps\n  } = withDefaultGetters(props);\n\n  type Item = typeof items[number];\n\n  const { getOnChange, getChecked } = useChoiceGroup<\n    Item,\n    React.ChangeEvent<HTMLInputElement>\n  >({\n    value: value as Item,\n    getKey: getItemLabel,\n    callBack: onChange as ChoiceGroupPropOnChange<Item, false>,\n    multiple: multiple as false,\n    // привел к типам из-за того что\n    // TS не понимает что параметры для не Multiple и Multiple не могут прийти одновременно\n  });\n\n  const iconSize = getByMap(sizeMap, size, iconSizeProp);\n\n  return (\n    <div\n      {...otherProps}\n      ref={ref}\n      className={cnChoiceGroup(\n        { size, form, view, width, onlyIcon, disabled, truncate },\n        [className],\n      )}\n    >\n      {items.map((item, index) => {\n        const itemChecked = getChecked(item);\n        const itemDisabled = !!getItemDisabled && getItemDisabled(item);\n        const attributes = getItemAttributes(item) ?? {};\n        const label = getItemLabel(item).toString();\n\n        return (\n          <React.Fragment key={label}>\n            {index > 0 && (\n              <div\n                className={cnChoiceGroup('Divider', {\n                  checked: itemChecked,\n                  disabled: itemDisabled,\n                })}\n              />\n            )}\n            <ChoiceGroupItem\n              onChange={getOnChange(item)}\n              checked={itemChecked}\n              label={label}\n              icon={getItemIcon && getItemIcon(item)}\n              iconSize={iconSize}\n              multiple={multiple}\n              onlyIcon={onlyIcon}\n              ref={getItemRef(item)}\n              name={name}\n              disabled={disabled || itemDisabled}\n              title={onlyIcon || truncate ? label : undefined}\n              {...attributes}\n            />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n};\n\nexport const ChoiceGroup = forwardRef(\n  ChoiceGroupRender,\n) as ChoiceGroupComponent;\n\nexport * from './types';\n"],"mappings":"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"}