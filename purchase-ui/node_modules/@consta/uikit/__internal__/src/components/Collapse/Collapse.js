import _defineProperty from"@babel/runtime/helpers/defineProperty";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";var _excluded=["label","size","view","className","maxContentHeight","isOpen","form","children","hoverEffect","divider","icon","closeIcon","rightSide","horizontalSpace","iconPosition","directionIcon","closeDirectionIcon","style","iconView"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import"./Collapse.css";import{IconArrowDown}from"@consta/icons/IconArrowDown";import React,{useRef}from"react";import{useComponentSize}from"../../hooks/useComponentSize";import{useForkRef}from"../../hooks/useForkRef/useForkRef";import{cn}from"../../utils/bem";import{usePropsHandler}from"../EventInterceptor/usePropsHandler";import{Text}from"../Text/Text";import{CollapseIcon}from"./CollapseIcon/CollapseIcon";import{collapsePropCloseDirectionIconDefault,collapsePropDirectionIconDefault,collapsePropFormDefault,collapsePropIconPositionDefault,collapsePropIconViewDefault,collapsePropSizeDefault,collapsePropViewDefault}from"./types";export var COMPONENT_NAME="Collapse";export var cnCollapse=cn("Collapse");export var sizeIconMap={"2xs":"xs",xs:"xs",s:"xs",m:"s",l:"s"};function renderSide(a){var b=a?_toConsumableArray(Array.isArray(a)?a:[a]):[];return b.map(function(a,b){return React.createElement("div",{className:cnCollapse("Side"),key:b},a)})}var getMaxHeight=function(a,b){return b?"string"==typeof b?b:"".concat(b,"px"):"".concat(a,"px")},collapseViewMap={clear:"clear",ghost:"ghost",primary:"clear",secondary:"ghost"};export var Collapse=React.forwardRef(function(a,b){var c=useRef(null),d=useRef(null),e=useComponentSize(d),f=e.height,g=usePropsHandler(COMPONENT_NAME,a,c),h=g.label,i=g.size,j=void 0===i?collapsePropSizeDefault:i,k=g.view,l=void 0===k?collapsePropViewDefault:k,m=g.className,n=g.maxContentHeight,o=g.isOpen,p=g.form,q=void 0===p?collapsePropFormDefault:p,r=g.children,s=g.hoverEffect,t=g.divider,u=g.icon,v=void 0===u?IconArrowDown:u,w=g.closeIcon,x=g.rightSide,y=g.horizontalSpace,z=g.iconPosition,A=void 0===z?collapsePropIconPositionDefault:z,B=g.directionIcon,C=void 0===B?collapsePropDirectionIconDefault:B,D=g.closeDirectionIcon,E=void 0===D?collapsePropCloseDirectionIconDefault:D,F=g.style,G=g.iconView,H=void 0===G?collapsePropIconViewDefault:G,I=_objectWithoutProperties(g,_excluded),J=collapseViewMap[l],K={className:cnCollapse("Icon",{position:A}),size:sizeIconMap[j],icon:v,closeIcon:w,isOpen:o,direction:C,closeDirection:E,view:H};return React.createElement("div",{ref:useForkRef([b,c]),className:cnCollapse({size:j,view:J},[m]),style:_objectSpread(_objectSpread({},F),{},_defineProperty({},"--horizontal-space",y?"var(--space-".concat(y,")"):"0px"))},React.createElement("div",Object.assign({className:cnCollapse("Label",{hoverEffect:s,view:J,form:q})},I),"left"===A&&React.createElement(CollapseIcon,K),"object"==typeof h?React.createElement("div",{className:cnCollapse("LabelText")},h):React.createElement(Text,{view:"primary",className:cnCollapse("LabelText"),size:j,lineHeight:"m"},h),renderSide(x),"right"===A&&React.createElement(CollapseIcon,K)),React.createElement("div",{style:_defineProperty({},"--collapse-body-max-height",getMaxHeight(f,n)),className:cnCollapse("Body",{isOpen:o,divider:t})},React.createElement("div",{ref:d,className:cnCollapse("Content")},r)))});export*from"./types";
//# sourceMappingURL=Collapse.js.map