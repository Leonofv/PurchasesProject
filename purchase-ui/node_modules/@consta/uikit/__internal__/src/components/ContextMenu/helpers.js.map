{"version":3,"file":"helpers.js","names":["isNotNil","defaultGetItemKey","item","key","label","defaultGetItemRightSide","rightSide","defaultGetItemLeftSide","leftSide","defaultGetItemRightIcon","rightIcon","defaultGetItemLeftIcon","leftIcon","defaultGetItemStatus","status","defaultGetItemDisabled","disabled","defaultGetItemLabel","defaultGetItemOnClick","onClick","defaultGetItemSubMenu","subMenu","defaultGetItemAs","as","defaultGetItemAttributes","attributes","defaultGetItemGroupId","groupId","defaultGetGroupId","group","id","defaultGetGroupLabel","withDefaultGetters","props","getItemKey","getItemLabel","getItemRightSide","getItemLeftSide","getItemRightIcon","getItemLeftIcon","getItemSubMenu","getItemStatus","getItemDisabled","getItemOnClick","getItemAs","getItemAttributes","getItemGroupId","getGroupId","getGroupLabel","findItem","params","items","subItems","subItem","getLevels","levels","map","level","filter"],"sources":["../../../../../src/components/ContextMenu/helpers.ts"],"sourcesContent":["import { isNotNil } from '../../utils/type-guards';\nimport {\n  ContextMenuGroupDefault,\n  ContextMenuItemDefault,\n  ContextMenuLevelsProps,\n  ContextMenuPropGetGroupId,\n  ContextMenuPropGetGroupLabel,\n  ContextMenuPropGetItemAs,\n  ContextMenuPropGetItemAttributes,\n  ContextMenuPropGetItemDisabled,\n  ContextMenuPropGetItemGroupId,\n  ContextMenuPropGetItemKey,\n  ContextMenuPropGetItemLabel,\n  ContextMenuPropGetItemLeftIcon,\n  ContextMenuPropGetItemLeftSide,\n  ContextMenuPropGetItemOnClick,\n  ContextMenuPropGetItemRightIcon,\n  ContextMenuPropGetItemRightSide,\n  ContextMenuPropGetItemStatus,\n  ContextMenuPropGetItemSubMenu,\n  GetLevelsParams,\n  Level,\n} from './types';\n\nconst defaultGetItemKey: ContextMenuPropGetItemKey<ContextMenuItemDefault> = (\n  item,\n) => item.key || item.label;\nconst defaultGetItemRightSide: ContextMenuPropGetItemRightSide<\n  ContextMenuItemDefault\n> = (item) => item.rightSide;\nconst defaultGetItemLeftSide: ContextMenuPropGetItemLeftSide<\n  ContextMenuItemDefault\n> = (item) => item.leftSide;\nconst defaultGetItemRightIcon: ContextMenuPropGetItemRightIcon<\n  ContextMenuItemDefault\n> = (item) => item.rightIcon;\nconst defaultGetItemLeftIcon: ContextMenuPropGetItemLeftIcon<\n  ContextMenuItemDefault\n> = (item) => item.leftIcon;\nconst defaultGetItemStatus: ContextMenuPropGetItemStatus<\n  ContextMenuItemDefault\n> = (item) => item.status;\nconst defaultGetItemDisabled: ContextMenuPropGetItemDisabled<\n  ContextMenuItemDefault\n> = (item) => item.disabled;\nconst defaultGetItemLabel: ContextMenuPropGetItemLabel<\n  ContextMenuItemDefault\n> = (item) => item.label;\nconst defaultGetItemOnClick: ContextMenuPropGetItemOnClick<\n  ContextMenuItemDefault\n> = (item) => item.onClick;\nconst defaultGetItemSubMenu: ContextMenuPropGetItemSubMenu<\n  ContextMenuItemDefault\n> = (item) => item.subMenu;\nconst defaultGetItemAs: ContextMenuPropGetItemAs<ContextMenuItemDefault> = (\n  item,\n) => item.as;\nconst defaultGetItemAttributes: ContextMenuPropGetItemAttributes<\n  ContextMenuItemDefault\n> = (item) => item.attributes;\nconst defaultGetItemGroupId: ContextMenuPropGetItemGroupId<\n  ContextMenuItemDefault\n> = (item) => item.groupId;\n\nconst defaultGetGroupId: ContextMenuPropGetGroupId<ContextMenuGroupDefault> = (\n  group,\n) => group.id;\nconst defaultGetGroupLabel: ContextMenuPropGetGroupLabel<\n  ContextMenuGroupDefault\n> = (group) => group.label;\n\nexport function withDefaultGetters<ITEM, GROUP>(\n  props: ContextMenuLevelsProps<ITEM, GROUP>,\n) {\n  return {\n    ...props,\n    getItemKey: props.getItemKey || defaultGetItemKey,\n    getItemLabel: props.getItemLabel || defaultGetItemLabel,\n    getItemRightSide: props.getItemRightSide || defaultGetItemRightSide,\n    getItemLeftSide: props.getItemLeftSide || defaultGetItemLeftSide,\n    getItemRightIcon: props.getItemRightIcon || defaultGetItemRightIcon,\n    getItemLeftIcon: props.getItemLeftIcon || defaultGetItemLeftIcon,\n    getItemSubMenu: props.getItemSubMenu || defaultGetItemSubMenu,\n    getItemStatus: props.getItemStatus || defaultGetItemStatus,\n    getItemDisabled: props.getItemDisabled || defaultGetItemDisabled,\n    getItemOnClick: props.getItemOnClick || defaultGetItemOnClick,\n    getItemAs: props.getItemAs || defaultGetItemAs,\n    getItemAttributes: props.getItemAttributes || defaultGetItemAttributes,\n    getItemGroupId: props.getItemGroupId || defaultGetItemGroupId,\n    getGroupId: props.getGroupId || defaultGetGroupId,\n    getGroupLabel: props.getGroupLabel || defaultGetGroupLabel,\n  };\n}\n\nconst findItem = <ITEM>(\n  params: Omit<GetLevelsParams<ITEM>, 'levels'> & {\n    key: ContextMenuItemDefault['key'];\n  },\n): ITEM | undefined => {\n  const { items, getItemKey, getItemSubMenu, key } = params;\n  for (const item of items) {\n    if (getItemKey(item) === key) {\n      return item;\n    }\n    const subItems =\n      typeof getItemSubMenu === 'function' && getItemSubMenu(item);\n    if (subItems) {\n      const subItem = findItem({\n        items: subItems,\n        key,\n        getItemKey,\n        getItemSubMenu,\n      });\n      if (subItem) {\n        return subItem;\n      }\n    }\n  }\n  return undefined;\n};\n\nexport const getLevels = <ITEM>(\n  params: GetLevelsParams<ITEM>,\n): Level<ITEM>[] => {\n  const { levels, items, getItemKey, getItemSubMenu } = params;\n\n  return levels.map((level) => ({\n    ...level,\n    items: level.items\n      .map((item) =>\n        findItem({\n          items,\n          getItemSubMenu,\n          getItemKey,\n          key: getItemKey(item),\n        }),\n      )\n      .filter(isNotNil),\n  }));\n};\n"],"mappings":"0zDAAA,OAASA,QAAT,+B,GAwBMC,kBAAoE,CAAG,SAC3EC,CAD2E,QAExEA,EAAI,CAACC,GAAL,EAAYD,CAAI,CAACE,KAFuD,C,CAGvEC,uBAEL,CAAG,SAACH,CAAD,QAAUA,EAAI,CAACI,SAAf,C,CACEC,sBAEL,CAAG,SAACL,CAAD,QAAUA,EAAI,CAACM,QAAf,C,CACEC,uBAEL,CAAG,SAACP,CAAD,QAAUA,EAAI,CAACQ,SAAf,C,CACEC,sBAEL,CAAG,SAACT,CAAD,QAAUA,EAAI,CAACU,QAAf,C,CACEC,oBAEL,CAAG,SAACX,CAAD,QAAUA,EAAI,CAACY,MAAf,C,CACEC,sBAEL,CAAG,SAACb,CAAD,QAAUA,EAAI,CAACc,QAAf,C,CACEC,mBAEL,CAAG,SAACf,CAAD,QAAUA,EAAI,CAACE,KAAf,C,CACEc,qBAEL,CAAG,SAAChB,CAAD,QAAUA,EAAI,CAACiB,OAAf,C,CACEC,qBAEL,CAAG,SAAClB,CAAD,QAAUA,EAAI,CAACmB,OAAf,C,CACEC,gBAAkE,CAAG,SACzEpB,CADyE,QAEtEA,EAAI,CAACqB,EAFiE,C,CAGrEC,wBAEL,CAAG,SAACtB,CAAD,QAAUA,EAAI,CAACuB,UAAf,C,CACEC,qBAEL,CAAG,SAACxB,CAAD,QAAUA,EAAI,CAACyB,OAAf,C,CAEEC,iBAAqE,CAAG,SAC5EC,CAD4E,QAEzEA,EAAK,CAACC,EAFmE,C,CAGxEC,oBAEL,CAAG,SAACF,CAAD,QAAWA,EAAK,CAACzB,KAAjB,C,CAEJ,MAAO,SAAS4B,mBAAT,CACLC,CADK,CAEL,CACA,sCACKA,CADL,MAEEC,UAAU,CAAED,CAAK,CAACC,UAAN,EAAoBjC,iBAFlC,CAGEkC,YAAY,CAAEF,CAAK,CAACE,YAAN,EAAsBlB,mBAHtC,CAIEmB,gBAAgB,CAAEH,CAAK,CAACG,gBAAN,EAA0B/B,uBAJ9C,CAKEgC,eAAe,CAAEJ,CAAK,CAACI,eAAN,EAAyB9B,sBAL5C,CAME+B,gBAAgB,CAAEL,CAAK,CAACK,gBAAN,EAA0B7B,uBAN9C,CAOE8B,eAAe,CAAEN,CAAK,CAACM,eAAN,EAAyB5B,sBAP5C,CAQE6B,cAAc,CAAEP,CAAK,CAACO,cAAN,EAAwBpB,qBAR1C,CASEqB,aAAa,CAAER,CAAK,CAACQ,aAAN,EAAuB5B,oBATxC,CAUE6B,eAAe,CAAET,CAAK,CAACS,eAAN,EAAyB3B,sBAV5C,CAWE4B,cAAc,CAAEV,CAAK,CAACU,cAAN,EAAwBzB,qBAX1C,CAYE0B,SAAS,CAAEX,CAAK,CAACW,SAAN,EAAmBtB,gBAZhC,CAaEuB,iBAAiB,CAAEZ,CAAK,CAACY,iBAAN,EAA2BrB,wBAbhD,CAcEsB,cAAc,CAAEb,CAAK,CAACa,cAAN,EAAwBpB,qBAd1C,CAeEqB,UAAU,CAAEd,CAAK,CAACc,UAAN,EAAoBnB,iBAflC,CAgBEoB,aAAa,CAAEf,CAAK,CAACe,aAAN,EAAuBjB,oBAhBxC,EAkBD,CAED,GAAMkB,SAAQ,CAAG,SACfC,CADe,CAIM,OACbC,CADa,CAC8BD,CAD9B,CACbC,KADa,CACNjB,CADM,CAC8BgB,CAD9B,CACNhB,UADM,CACMM,CADN,CAC8BU,CAD9B,CACMV,cADN,CACsBrC,CADtB,CAC8B+C,CAD9B,CACsB/C,GADtB,8BAEFgD,CAFE,MAErB,2BAA0B,IAAfjD,EAAe,SACxB,GAAIgC,CAAU,CAAChC,CAAD,CAAV,GAAqBC,CAAzB,CACE,MAAOD,EAAP,CAEF,GAAMkD,EAAQ,CACc,UAA1B,QAAOZ,EAAP,EAAwCA,CAAc,CAACtC,CAAD,CADxD,CAEA,GAAIkD,CAAJ,CAAc,CACZ,GAAMC,EAAO,CAAGJ,QAAQ,CAAC,CACvBE,KAAK,CAAEC,CADgB,CAEvBjD,GAAG,CAAHA,CAFuB,CAGvB+B,UAAU,CAAVA,CAHuB,CAIvBM,cAAc,CAAdA,CAJuB,CAAD,CAAxB,CAMA,GAAIa,CAAJ,CACE,MAAOA,EAEV,CACF,CAnBoB,+BAqBtB,CAzBD,CA2BA,MAAO,IAAMC,UAAS,CAAG,SACvBJ,CADuB,CAEL,CAClB,GAAQK,EAAR,CAAsDL,CAAtD,CAAQK,MAAR,CAAgBJ,CAAhB,CAAsDD,CAAtD,CAAgBC,KAAhB,CAAuBjB,CAAvB,CAAsDgB,CAAtD,CAAuBhB,UAAvB,CAAmCM,CAAnC,CAAsDU,CAAtD,CAAmCV,cAAnC,CAEA,MAAOe,EAAM,CAACC,GAAP,CAAW,SAACC,CAAD,wCACbA,CADa,MAEhBN,KAAK,CAAEM,CAAK,CAACN,KAAN,CACJK,GADI,CACA,SAACtD,CAAD,QACH+C,SAAQ,CAAC,CACPE,KAAK,CAALA,CADO,CAEPX,cAAc,CAAdA,CAFO,CAGPN,UAAU,CAAVA,CAHO,CAIP/B,GAAG,CAAE+B,CAAU,CAAChC,CAAD,CAJR,CAAD,CADL,CADA,EASJwD,MATI,CASG1D,QATH,CAFS,GAAX,CAaR,CAlBM"}