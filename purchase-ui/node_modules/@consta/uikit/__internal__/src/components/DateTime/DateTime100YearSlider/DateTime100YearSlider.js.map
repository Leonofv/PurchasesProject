{"version":3,"file":"DateTime100YearSlider.js","names":["addYears","format","getDecade","ruLocale","React","range","cn","endOfCentury","getCentury","startOfCentury","DateTimeSlider","getSliderValueRange","cnDateTime100YearSlider","isCurrentVisibleCentury","currentDate","century","isCurrentVisibleDecade","decade","getCenturyItems","currentVisibleDate","locale","map","year","yearDate","date","label","current","getSliderData","value","currentCentury","items","valueRange","DateTime100YearSlider","props","className","onChange","otherProps","data","handleNext","handlePrev"],"sources":["../../../../../../src/components/DateTime/DateTime100YearSlider/DateTime100YearSlider.tsx"],"sourcesContent":["import './DateTime100YearSlider.css';\n\nimport { addYears, format, getDecade, Locale } from 'date-fns';\nimport ruLocale from 'date-fns/locale/ru';\nimport React from 'react';\n\nimport { range } from '../../../utils/array';\nimport { cn } from '../../../utils/bem';\nimport { endOfCentury, getCentury, startOfCentury } from '../../../utils/date';\nimport { DateRange } from '../../../utils/types/Date';\nimport { PropsWithHTMLAttributes } from '../../../utils/types/PropsWithHTMLAttributes';\nimport { DateTimeSlider } from '../DateTimeSlider/DateTimeSlider';\nimport { getSliderValueRange } from '../helpers/getSliderValueRange';\n\nexport type DateTime100YearSliderProps = PropsWithHTMLAttributes<\n  {\n    currentVisibleDate: Date;\n    onChange: (date: Date) => void;\n    children?: never;\n    value?: Date | DateRange;\n    locale?: Locale;\n  },\n  HTMLDivElement\n>;\n\nexport const cnDateTime100YearSlider = cn('DateTime100YearSlider');\n\nconst isCurrentVisibleCentury = (currentDate: Date, century: Date) =>\n  getCentury(currentDate) === getCentury(century);\n\nconst isCurrentVisibleDecade = (currentDate: Date, decade: Date) =>\n  isCurrentVisibleCentury(currentDate, decade) &&\n  getDecade(currentDate) === getDecade(decade);\n\nconst getCenturyItems = (\n  currentVisibleDate: Date,\n  decade: Date,\n  locale: Locale,\n) =>\n  range(10).map((year) => {\n    const yearDate = addYears(decade, year * 10);\n\n    return {\n      date: yearDate,\n      label: format(yearDate, 'yyyy', { locale }),\n      current: isCurrentVisibleDecade(currentVisibleDate, yearDate),\n    };\n  });\n\nconst getSliderData = (\n  currentVisibleDate: Date,\n  value: Date | DateRange | undefined,\n  locale: Locale,\n) => {\n  const currentCentury = startOfCentury(currentVisibleDate);\n\n  return [\n    addYears(currentCentury, -100),\n    currentCentury,\n    addYears(currentCentury, 100),\n    addYears(currentCentury, 200),\n  ].map((date) => ({\n    label: `${format(date, 'yyyy', { locale })}-${format(\n      addYears(date, 100),\n      'yyyy',\n      { locale },\n    )}`,\n    date,\n    items: getCenturyItems(currentVisibleDate, date, locale),\n    current: isCurrentVisibleCentury(currentVisibleDate, date),\n    valueRange: getSliderValueRange(date, value, startOfCentury, endOfCentury),\n  }));\n};\n\nexport const DateTime100YearSlider: React.FC<DateTime100YearSliderProps> = (\n  props,\n) => {\n  const {\n    currentVisibleDate,\n    className,\n    onChange,\n    value,\n    locale = ruLocale,\n    ...otherProps\n  } = props;\n\n  const handlePrev = () => onChange(addYears(currentVisibleDate, -100));\n  const handleNext = () => onChange(addYears(currentVisibleDate, 100));\n\n  const data = getSliderData(currentVisibleDate, value, locale);\n\n  return (\n    <DateTimeSlider\n      className={cnDateTime100YearSlider(null, [className])}\n      onNext={handleNext}\n      onPrev={handlePrev}\n      data={data}\n      onChange={onChange}\n      {...otherProps}\n    />\n  );\n};\n"],"mappings":"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"}