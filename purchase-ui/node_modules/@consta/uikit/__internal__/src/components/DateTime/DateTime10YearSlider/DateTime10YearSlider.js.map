{"version":3,"file":"DateTime10YearSlider.js","names":["addYears","endOfDecade","format","getDecade","getYear","startOfDecade","ruLocale","React","range","cn","DateTimeSlider","getSliderValueRange","cnDateTime10YearSlider","isCurrentVisibleDecade","currentDate","decade","isCurrentVisibleYear","year","getDecadeItems","currentVisibleDate","locale","map","yearDate","date","label","current","getSliderData","value","currentDecade","items","valueRange","DateTime10YearSlider","props","className","onChange","otherProps","data","handleNext","handlePrev"],"sources":["../../../../../../src/components/DateTime/DateTime10YearSlider/DateTime10YearSlider.tsx"],"sourcesContent":["import './DateTime10YearSlider.css';\n\nimport {\n  addYears,\n  endOfDecade,\n  format,\n  getDecade,\n  getYear,\n  Locale,\n  startOfDecade,\n} from 'date-fns';\nimport ruLocale from 'date-fns/locale/ru';\nimport React from 'react';\n\nimport { range } from '../../../utils/array';\nimport { cn } from '../../../utils/bem';\nimport { DateRange } from '../../../utils/types/Date';\nimport { PropsWithHTMLAttributes } from '../../../utils/types/PropsWithHTMLAttributes';\nimport { DateTimeSlider } from '../DateTimeSlider/DateTimeSlider';\nimport { getSliderValueRange } from '../helpers/getSliderValueRange';\n\nexport type DateTime10YearSliderProps = PropsWithHTMLAttributes<\n  {\n    currentVisibleDate: Date;\n    onChange: (date: Date) => void;\n    children?: never;\n    value?: Date | DateRange;\n    locale?: Locale;\n  },\n  HTMLDivElement\n>;\n\nexport const cnDateTime10YearSlider = cn('DateTime10YearSlider');\n\nconst isCurrentVisibleDecade = (currentDate: Date, decade: Date) =>\n  getDecade(currentDate) === getDecade(decade);\n\nconst isCurrentVisibleYear = (currentDate: Date, year: Date) =>\n  isCurrentVisibleDecade(currentDate, year) &&\n  getYear(currentDate) === getYear(year);\n\nconst getDecadeItems = (\n  currentVisibleDate: Date,\n  decade: Date,\n  locale: Locale,\n) =>\n  range(10).map((year) => {\n    const yearDate = addYears(decade, year);\n\n    return {\n      date: yearDate,\n      label: format(yearDate, 'yyyy', { locale }),\n      current: isCurrentVisibleYear(currentVisibleDate, yearDate),\n    };\n  });\n\nconst getSliderData = (\n  currentVisibleDate: Date,\n  value: Date | DateRange | undefined,\n  locale: Locale,\n) => {\n  const currentDecade = startOfDecade(currentVisibleDate);\n\n  return [\n    addYears(currentDecade, -10),\n    currentDecade,\n    addYears(currentDecade, 10),\n    addYears(currentDecade, 20),\n  ].map((date) => ({\n    label: `${format(date, 'yyyy', { locale })}-${format(\n      addYears(date, 10),\n      'yyyy',\n      { locale },\n    )}`,\n    date,\n    items: getDecadeItems(currentVisibleDate, date, locale),\n    current: isCurrentVisibleDecade(currentVisibleDate, date),\n    valueRange: getSliderValueRange(date, value, startOfDecade, endOfDecade),\n  }));\n};\n\nexport const DateTime10YearSlider: React.FC<DateTime10YearSliderProps> = (\n  props,\n) => {\n  const {\n    currentVisibleDate,\n    className,\n    onChange,\n    value,\n    locale = ruLocale,\n    ...otherProps\n  } = props;\n\n  const handlePrev = () => onChange(addYears(currentVisibleDate, -10));\n  const handleNext = () => onChange(addYears(currentVisibleDate, 10));\n\n  const data = getSliderData(currentVisibleDate, value, locale);\n\n  return (\n    <DateTimeSlider\n      className={cnDateTime10YearSlider(null, [className])}\n      onNext={handleNext}\n      onPrev={handlePrev}\n      data={data}\n      onChange={onChange}\n      {...otherProps}\n    />\n  );\n};\n"],"mappings":"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"}