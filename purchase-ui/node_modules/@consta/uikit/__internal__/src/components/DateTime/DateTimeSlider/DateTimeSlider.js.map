{"version":3,"file":"DateTimeSlider.js","names":["IconForward","React","cn","Button","Text","cnDateTimeSlider","getCurrentItem","data","index","find","item","current","items","findIndex","DateTimeSlider","props","className","onChange","onPrev","onNext","otherProps","currentItemIndex","direction","map","year","position","toString","label","selected","valueRange","date"],"sources":["../../../../../../src/components/DateTime/DateTimeSlider/DateTimeSlider.tsx"],"sourcesContent":["import './DateTimeSlider.css';\n\nimport { IconForward } from '@consta/icons/IconForward';\nimport React from 'react';\n\nimport { cn } from '../../../utils/bem';\nimport { PropsWithHTMLAttributes } from '../../../utils/types/PropsWithHTMLAttributes';\nimport { Button } from '../../Button/Button';\nimport { Text } from '../../Text/Text';\n\ntype Data = {\n  label: string | number;\n  current?: boolean;\n  valueRange?: number[];\n  date: Date;\n  items: {\n    label: string;\n    date: Date;\n    current?: boolean;\n  }[];\n};\n\nexport type DateTimeSliderProps = PropsWithHTMLAttributes<\n  {\n    onChange?: (date: Date) => void;\n    onPrev?: () => void;\n    onNext?: () => void;\n    children?: never;\n    data: Data[];\n  },\n  HTMLDivElement\n>;\n\nexport const cnDateTimeSlider = cn('DateTimeSlider');\n\nconst getCurrentItem = (data: Data[]) => {\n  const index =\n    data\n      .find((item) => item.current)\n      ?.items.findIndex((item) => item.current) || 0;\n\n  return index < 0 ? 0 : index;\n};\n\nexport const DateTimeSlider: React.FC<DateTimeSliderProps> = (props) => {\n  const { className, onChange, data, onPrev, onNext, ...otherProps } = props;\n\n  const currentItemIndex = getCurrentItem(data);\n\n  return (\n    <div {...otherProps} className={cnDateTimeSlider(null, [className])}>\n      <Button\n        className={cnDateTimeSlider('Button', { direction: 'prev' })}\n        view=\"ghost\"\n        iconLeft={IconForward}\n        type=\"button\"\n        onClick={onPrev}\n      />\n      <div\n        className={cnDateTimeSlider('Slider')}\n        style={{ ['--current-item' as string]: currentItemIndex }}\n      >\n        <div className={cnDateTimeSlider('SliderBody')}>\n          <div className={cnDateTimeSlider('Selector')} />\n          {data.map((year, index) => (\n            <Text\n              className={cnDateTimeSlider('ParentLabel', {\n                position: index.toString(),\n              })}\n              weight=\"bold\"\n              size=\"s\"\n              key={year.label}\n              view={year.current ? undefined : 'ghost'}\n              lineHeight=\"m\"\n            >\n              {year.label}\n            </Text>\n          ))}\n          {data.map((year, index) => (\n            <div\n              key={year.label}\n              className={cnDateTimeSlider('Parent', {\n                position: index.toString(),\n                selected: !!year.valueRange,\n              })}\n              style={\n                year.valueRange && {\n                  ['--value-offset' as string]: `${year.valueRange[0]}%`,\n                  ['--value-width' as string]: `${year.valueRange[1]}%`,\n                }\n              }\n            >\n              {year.items.map((item, index) => (\n                <button\n                  className={cnDateTimeSlider('Item')}\n                  key={index}\n                  onFocus={() => onChange?.(item.date)}\n                  type=\"button\"\n                >\n                  <Text\n                    className={cnDateTimeSlider('ItemLabel')}\n                    size=\"2xs\"\n                    view=\"ghost\"\n                    align=\"center\"\n                    lineHeight=\"m\"\n                  >\n                    {item.label}\n                  </Text>\n                </button>\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n      <Button\n        className={cnDateTimeSlider('Button', { direction: 'next' })}\n        view=\"ghost\"\n        type=\"button\"\n        iconLeft={IconForward}\n        onClick={onNext}\n      />\n    </div>\n  );\n};\n"],"mappings":"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"}