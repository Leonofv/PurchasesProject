{"version":3,"file":"DateTimeTypeDateTime.js","names":["React","forwardRef","useEffect","useRef","useState","useForkRef","cn","DateTimeTypeDate","DateTimeTypeTime","moveTypes","useOnChange","cnDateTimeTypeDateTime","DateTimeTypeDateTime","props","ref","className","onMoveProp","onMove","currentVisibleDate","value","onChange","onChangeRange","minDate","maxDate","events","disableDates","locale","onChangeCurrentVisibleDate","multiplicitySeconds","multiplicityMinutes","multiplicityHours","style","timeFor","otherProps","moveType","setMoveType","cssVars","setCssVars","onDateChange","onDateChangeRange","onTimeChange","valueTime","rootRef","withTime","current","window","getComputedStyle","paddingLeft","type"],"sources":["../../../../../../src/components/DateTime/DateTimeTypeDateTime/DateTimeTypeDateTime.tsx"],"sourcesContent":["import './DateTimeTypeDateTime.css';\n\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\n\nimport { useForkRef } from '../../../hooks/useForkRef/useForkRef';\nimport { cn } from '../../../utils/bem';\nimport { DateTimeTypeDate } from '../DateTimeTypeDate/DateTimeTypeDate';\nimport { DateTimeTypeTime } from '../DateTimeTypeTime/DateTimeTypeTime';\nimport { DateTimeTypeComponent, MoveType, moveTypes } from '../helpers';\nimport { useOnChange } from './useOnChange';\n\nconst cnDateTimeTypeDateTime = cn('DateTimeTypeDateTime');\n\ntype CssVars = {\n  '--root-padding-left': string;\n};\n\nexport const DateTimeTypeDateTime: DateTimeTypeComponent<'date-time'> =\n  forwardRef((props, ref) => {\n    const {\n      className,\n      onMove: onMoveProp,\n      currentVisibleDate,\n      value,\n      onChange,\n      onChangeRange,\n      minDate,\n      maxDate,\n      events,\n      disableDates,\n      locale,\n      onChangeCurrentVisibleDate,\n      multiplicitySeconds,\n      multiplicityMinutes,\n      multiplicityHours,\n      style,\n      timeFor = 'start',\n      ...otherProps\n    } = props;\n\n    const [moveType, setMoveType] = useState<MoveType>(moveTypes[2]);\n    const [cssVars, setCssVars] = useState<CssVars>({\n      '--root-padding-left': '0px',\n    });\n\n    const [onDateChange, onDateChangeRange, onTimeChange, valueTime] =\n      useOnChange(onChange, onChangeRange, value, timeFor);\n\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const onMove = (type: MoveType) => {\n      setMoveType(type);\n      onMoveProp?.(type);\n    };\n\n    const withTime = moveType === moveTypes[2];\n\n    useEffect(() => {\n      if (rootRef.current) {\n        setCssVars({\n          '--root-padding-left':\n            window.getComputedStyle(rootRef.current).paddingLeft || '0px',\n        });\n      }\n    }, []);\n\n    return (\n      <div\n        {...otherProps}\n        className={cnDateTimeTypeDateTime({ withTime }, [className])}\n        ref={useForkRef([rootRef, ref])}\n        style={{\n          ...style,\n          ...cssVars,\n        }}\n      >\n        <DateTimeTypeDate\n          className={cnDateTimeTypeDateTime('Date', { withTime })}\n          onMove={onMove}\n          currentVisibleDate={currentVisibleDate}\n          value={value}\n          onChange={onDateChange}\n          onChangeRange={onDateChangeRange}\n          minDate={minDate}\n          disableDates={disableDates}\n          maxDate={maxDate}\n          events={events}\n          locale={locale}\n          onChangeCurrentVisibleDate={onChangeCurrentVisibleDate}\n        />\n        {withTime && (\n          <DateTimeTypeTime\n            className={cnDateTimeTypeDateTime('Time')}\n            value={valueTime}\n            onChange={onTimeChange}\n            minDate={minDate}\n            maxDate={maxDate}\n            disableDates={disableDates}\n            locale={locale}\n            multiplicitySeconds={multiplicitySeconds}\n            multiplicityMinutes={multiplicityMinutes}\n            multiplicityHours={multiplicityHours}\n          />\n        )}\n      </div>\n    );\n  });\n"],"mappings":"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"}