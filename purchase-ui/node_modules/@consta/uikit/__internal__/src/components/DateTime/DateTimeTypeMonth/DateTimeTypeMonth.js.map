{"version":3,"file":"DateTimeTypeMonth.js","names":["addYears","startOfYear","ruLocale","React","forwardRef","useEffect","useFlag","DateTime10Years","DateTime10YearSlider","DateTimeLabel","DateTimeToggler","DateTimeTypeYear","DateTimeYear","getHandleSelectDate","getMonthsOfYear","getYearTitle","isEqualMount","moveTypes","useCurrentVisibleDate","dateTimePropView","dateTimePropViewDefault","cnDateTimeMixLayout","DateTimeTypeMonth","props","ref","minDate","maxDate","value","onChange","onChangeRange","disableDates","currentVisibleDateProp","currentVisibleDate","events","locale","className","view","multiplicityHours","multiplicityMinutes","multiplicitySeconds","onMove","onChangeCurrentVisibleDate","otherProps","changeYear","on","off","startOfUnit","setCurrentVisibleDate","handleSelectDate","isEqualUnit","pageOneMonthsOfYear","date","pageOneLabel","handleNext","handlePrev","pageTwoCurrentVisibleDate","pageTwoLabel","pageTwoMonthsOfYear"],"sources":["../../../../../../src/components/DateTime/DateTimeTypeMonth/DateTimeTypeMonth.tsx"],"sourcesContent":["import { addYears, startOfYear } from 'date-fns';\nimport ruLocale from 'date-fns/locale/ru';\nimport React, { forwardRef, useEffect } from 'react';\n\nimport { useFlag } from '../../../hooks/useFlag/useFlag';\nimport { DateTime10Years } from '../DateTime10Years/DateTime10Years';\nimport { DateTime10YearSlider } from '../DateTime10YearSlider/DateTime10YearSlider';\nimport { DateTimeLabel } from '../DateTimeLabel/DateTimeLabel';\nimport { DateTimeToggler } from '../DateTimeToggler/DateTimeToggler';\nimport { DateTimeTypeYear } from '../DateTimeTypeYear/DateTimeTypeYear';\nimport { DateTimeYear } from '../DateTimeYear/DateTimeYear';\nimport {\n  DateTimeTypeComponent,\n  getHandleSelectDate,\n  getMonthsOfYear,\n  getYearTitle,\n  isEqualMount,\n  moveTypes,\n  useCurrentVisibleDate,\n} from '../helpers';\nimport { dateTimePropView, dateTimePropViewDefault } from '../helpers/types';\nimport { cnDateTimeMixLayout } from '../mixs';\n\nexport const DateTimeTypeMonth: DateTimeTypeComponent<'month'> = forwardRef(\n  (props, ref) => {\n    const {\n      minDate,\n      maxDate,\n      value,\n      onChange,\n      onChangeRange,\n      disableDates,\n      currentVisibleDate: currentVisibleDateProp,\n      events,\n      locale = ruLocale,\n      className,\n      view = dateTimePropViewDefault,\n      multiplicityHours,\n      multiplicityMinutes,\n      multiplicitySeconds,\n      onMove,\n      onChangeCurrentVisibleDate,\n      ...otherProps\n    } = props;\n\n    const [changeYear, { on, off }] = useFlag();\n\n    useEffect(() => {\n      !changeYear && onMove?.(moveTypes[1]);\n    }, [changeYear]);\n\n    const [currentVisibleDate, setCurrentVisibleDate] = useCurrentVisibleDate({\n      currentVisibleDate: currentVisibleDateProp,\n      maxDate,\n      minDate,\n      value,\n      startOfUnit: startOfYear,\n      onChangeCurrentVisibleDate,\n    });\n\n    if (changeYear) {\n      return (\n        <DateTimeTypeYear\n          {...otherProps}\n          ref={ref}\n          className={className}\n          currentVisibleDate={currentVisibleDate}\n          minDate={minDate}\n          maxDate={maxDate}\n          locale={locale}\n          events={events}\n          view={view}\n          onChange={(value) => {\n            setCurrentVisibleDate(value);\n            off();\n          }}\n          onMove={onMove}\n        />\n      );\n    }\n\n    const handleSelectDate = getHandleSelectDate({\n      minDate,\n      maxDate,\n      value,\n      onChange,\n      onChangeRange,\n      isEqualUnit: isEqualMount,\n    });\n\n    const pageOneMonthsOfYear = getMonthsOfYear({\n      date: currentVisibleDate,\n      onChange: handleSelectDate,\n      value,\n      events,\n      disableDates,\n      minDate,\n      maxDate,\n      locale,\n    });\n\n    const pageOneLabel = getYearTitle(currentVisibleDate);\n\n    const handleNext = () =>\n      setCurrentVisibleDate(addYears(currentVisibleDate, 1));\n    const handlePrev = () =>\n      setCurrentVisibleDate(addYears(currentVisibleDate, -1));\n\n    if (view === dateTimePropView[0]) {\n      return (\n        <div\n          {...otherProps}\n          className={cnDateTimeMixLayout({ view }, [className])}\n          ref={ref}\n        >\n          <DateTimeToggler\n            className={cnDateTimeMixLayout('Label')}\n            prevOnClick={handlePrev}\n            nextOnClick={handleNext}\n            label={pageOneLabel}\n            onLabelClick={on}\n          />\n          <DateTimeYear years={pageOneMonthsOfYear} />\n        </div>\n      );\n    }\n\n    const pageTwoCurrentVisibleDate = addYears(currentVisibleDate, 1);\n\n    const pageTwoLabel = getYearTitle(pageTwoCurrentVisibleDate);\n\n    const pageTwoMonthsOfYear = getMonthsOfYear({\n      date: pageTwoCurrentVisibleDate,\n      onChange: handleSelectDate,\n      value,\n      events,\n      minDate,\n      maxDate,\n      locale,\n    });\n\n    if (view === dateTimePropView[1]) {\n      return (\n        <div\n          {...otherProps}\n          className={cnDateTimeMixLayout({ view }, [className])}\n          ref={ref}\n        >\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeToggler\n              className={cnDateTimeMixLayout('Label')}\n              prevOnClick={handlePrev}\n              label={pageOneLabel}\n              onLabelClick={on}\n            />\n            <DateTime10Years years={pageOneMonthsOfYear} />\n          </div>\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeToggler\n              className={cnDateTimeMixLayout('Label')}\n              nextOnClick={handleNext}\n              label={pageTwoLabel}\n              onLabelClick={on}\n            />\n            <DateTime10Years years={pageTwoMonthsOfYear} />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div\n        {...otherProps}\n        className={cnDateTimeMixLayout({ view }, [className])}\n        ref={ref}\n      >\n        <DateTime10YearSlider\n          className={cnDateTimeMixLayout('Slider')}\n          currentVisibleDate={currentVisibleDate}\n          onChange={setCurrentVisibleDate}\n          value={value}\n          locale={locale}\n        />\n        <div className={cnDateTimeMixLayout('PageWrapper')}>\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeLabel\n              className={cnDateTimeMixLayout('Label')}\n              label={pageOneLabel}\n              onClick={on}\n              cursor=\"pointer\"\n            />\n            <DateTime10Years years={pageOneMonthsOfYear} />\n          </div>\n          <div className={cnDateTimeMixLayout('Page')}>\n            <DateTimeLabel\n              className={cnDateTimeMixLayout('Label')}\n              label={pageTwoLabel}\n              onClick={on}\n              cursor=\"pointer\"\n            />\n            <DateTime10Years years={pageTwoMonthsOfYear} />\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n"],"mappings":"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"}