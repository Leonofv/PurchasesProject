{"version":3,"file":"getDaysOfMonth.js","names":["addDays","addWeeks","differenceInDays","endOfDay","endOfWeek","format","startOfDay","startOfMonth","startOfWeek","range","isDisableDate","isInMinMaxDate","isDateInRange","isEqualDay","isSelected","date","value","Array","isArray","find","item","hasEvent","events","eventDate","isToday","Date","getDaysOfMonth","props","locale","handleDayClick","minDate","maxDate","disableDates","currentMonth","getMonth","startDate","endDate","diffDays","map","index","label","disabled","mode","onClick","e","selected","event","current"],"sources":["../../../../../../src/components/DateTime/helpers/getDaysOfMonth.ts"],"sourcesContent":["import {\n  addDays,\n  addWeeks,\n  differenceInDays,\n  endOfDay,\n  endOfWeek,\n  format,\n  Locale,\n  startOfDay,\n  startOfMonth,\n  startOfWeek,\n} from 'date-fns';\nimport React from 'react';\n\nimport { range } from '../../../utils/array';\nimport { isDisableDate, isInMinMaxDate } from '../../../utils/date';\nimport { DateRange } from '../../../utils/types/Date';\nimport { DateTimeCellPropRange } from '../DateTimeCell/DateTimeCell';\nimport { isDateInRange } from './isDateInRange';\nimport { isEqualDay } from './isEqualDay';\nimport { DateTimePropDisableDates, HandleSelectDate } from './types';\n\nconst isSelected = ({\n  date,\n  value,\n}: {\n  date: Date;\n  value?: Date | DateRange;\n}): boolean => {\n  if (!value) {\n    return false;\n  }\n\n  if (Array.isArray(value)) {\n    return !!value.find((item) => (item ? isEqualDay(date, item) : false));\n  }\n\n  return isEqualDay(date, value);\n};\n\nconst hasEvent = (date: Date, events: Date[]): boolean =>\n  !!events.find((eventDate) => isEqualDay(eventDate, date));\n\nconst isToday = (date: Date): boolean => isEqualDay(new Date(), date);\n\nexport const getDaysOfMonth = (props: {\n  date: Date;\n  locale: Locale;\n  handleDayClick?: HandleSelectDate;\n  disableDates?: DateTimePropDisableDates;\n  value?: Date | DateRange;\n  events?: Date[];\n  minDate?: Date;\n  maxDate?: Date;\n}): {\n  disabled?: boolean;\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\n  label: string;\n  selected?: boolean;\n  range?: DateTimeCellPropRange;\n  event?: boolean;\n  current?: boolean;\n}[] => {\n  const {\n    date,\n    locale,\n    handleDayClick,\n    value,\n    events,\n    minDate,\n    maxDate,\n    disableDates,\n  } = props;\n  const currentMonth = date.getMonth();\n  const startDate = startOfWeek(startOfMonth(date), { locale });\n  const endDate = endOfWeek(addWeeks(startDate, 5), { locale });\n  const diffDays = differenceInDays(endDate, startDate) + 1;\n\n  return range(diffDays).map((index) => {\n    const date = addDays(startDate, index);\n    const label = format(date, 'd');\n    const disabled =\n      !isInMinMaxDate(date, minDate, maxDate, startOfDay, endOfDay) ||\n      isDisableDate({ date, disableDates, mode: 'date' });\n    const onClick =\n      !disabled && handleDayClick\n        ? (e: React.MouseEvent<HTMLButtonElement>) =>\n            handleDayClick(date, { e, value: date })\n        : undefined;\n\n    if (date.getMonth() === currentMonth) {\n      return {\n        label,\n        onClick,\n        selected: isSelected({ date, value }),\n        range: Array.isArray(value) && isDateInRange(date, value, startOfDay),\n        event: events && hasEvent(date, events),\n        current: isToday(date),\n        disabled,\n      };\n    }\n\n    return {\n      label,\n      disabled: true,\n    };\n  });\n};\n"],"mappings":"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"}