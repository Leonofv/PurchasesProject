{"version":3,"file":"getHandleSelectDate.js","names":["isDefined","getHandleSelectDate","props","value","e","onChange","onChangeRange","currentValue","Array","isArray","startDate","endDate","isEqualUnit","newValue"],"sources":["../../../../../../src/components/DateTime/helpers/getHandleSelectDate.ts"],"sourcesContent":["import { isDefined } from '../../../utils/type-guards';\nimport { DateRange } from '../../../utils/types/Date';\nimport {\n  CapableRangeType,\n  DateTimePropOnChange,\n  DateTimePropOnChangeRange,\n  DateTimePropValue,\n  HandleSelectDate,\n} from './types';\n\ntype GetHandleSelectDateProps = {\n  isEqualUnit: (date1: Date, date2: Date) => boolean;\n  value?: DateTimePropValue<CapableRangeType>;\n  onChange?: DateTimePropOnChange;\n  onChangeRange?: DateTimePropOnChangeRange<CapableRangeType>;\n  minDate?: Date;\n  maxDate?: Date;\n};\n\nexport function getHandleSelectDate(\n  props: GetHandleSelectDateProps,\n): HandleSelectDate {\n  return (value, { e }) => {\n    if (typeof props.onChange === 'function') {\n      props.onChange(value, { e });\n    }\n\n    if (typeof props.onChangeRange === 'function') {\n      const currentValue: DateRange = (Array.isArray(props.value)\n        ? props.value\n        : [props.value, undefined]) || [undefined, undefined];\n\n      const [startDate, endDate] = currentValue;\n\n      if (isDefined(startDate) && props.isEqualUnit(startDate, value)) {\n        return props.onChangeRange([endDate, undefined], {\n          e,\n        });\n      }\n\n      if (isDefined(endDate) && props.isEqualUnit(endDate, value)) {\n        return props.onChangeRange([startDate, undefined], {\n          e,\n        });\n      }\n\n      if (isDefined(startDate)) {\n        const newValue: DateRange =\n          startDate > value ? [value, startDate] : [startDate, value];\n        return props.onChangeRange(newValue, {\n          e,\n        });\n      }\n\n      if (isDefined(endDate)) {\n        const newValue: DateRange =\n          endDate > value ? [value, endDate] : [endDate, value];\n        return props.onChangeRange(newValue, {\n          e,\n        });\n      }\n\n      props.onChangeRange([value, undefined], {\n        e,\n      });\n    }\n  };\n}\n"],"mappings":"iEAAA,OAASA,SAAT,kCAmBA,MAAO,SAASC,oBAAT,CACLC,CADK,CAEa,CAClB,MAAO,UAACC,CAAD,GAAkB,IAARC,EAAQ,GAARA,CAAQ,CAKvB,GAJ8B,UAA1B,QAAOF,EAAK,CAACG,QAIjB,EAHEH,CAAK,CAACG,QAAN,CAAeF,CAAf,CAAsB,CAAEC,CAAC,CAADA,CAAF,CAAtB,CAGF,CAAmC,UAA/B,QAAOF,EAAK,CAACI,aAAjB,CAA+C,IACvCC,EAAuB,CAAG,CAACC,KAAK,CAACC,OAAN,CAAcP,CAAK,CAACC,KAApB,EAC7BD,CAAK,CAACC,KADuB,CAE7B,CAACD,CAAK,CAACC,KAAP,QAF4B,GAEC,eAHY,kBAKhBI,CALgB,IAKtCG,CALsC,MAK3BC,CAL2B,MAO7C,GAAIX,SAAS,CAACU,CAAD,CAAT,EAAwBR,CAAK,CAACU,WAAN,CAAkBF,CAAlB,CAA6BP,CAA7B,CAA5B,CACE,MAAOD,EAAK,CAACI,aAAN,CAAoB,CAACK,CAAD,QAApB,CAA0C,CAC/CP,CAAC,CAADA,CAD+C,CAA1C,CAAP,CAKF,GAAIJ,SAAS,CAACW,CAAD,CAAT,EAAsBT,CAAK,CAACU,WAAN,CAAkBD,CAAlB,CAA2BR,CAA3B,CAA1B,CACE,MAAOD,EAAK,CAACI,aAAN,CAAoB,CAACI,CAAD,QAApB,CAA4C,CACjDN,CAAC,CAADA,CADiD,CAA5C,CAAP,CAKF,GAAIJ,SAAS,CAACU,CAAD,CAAb,CAA0B,CACxB,GAAMG,EAAmB,CACvBH,CAAS,CAAGP,CAAZ,CAAoB,CAACA,CAAD,CAAQO,CAAR,CAApB,CAAyC,CAACA,CAAD,CAAYP,CAAZ,CAD3C,CAEA,MAAOD,EAAK,CAACI,aAAN,CAAoBO,CAApB,CAA8B,CACnCT,CAAC,CAADA,CADmC,CAA9B,CAGR,CAED,GAAIJ,SAAS,CAACW,CAAD,CAAb,CAAwB,CACtB,GAAME,EAAmB,CACvBF,CAAO,CAAGR,CAAV,CAAkB,CAACA,CAAD,CAAQQ,CAAR,CAAlB,CAAqC,CAACA,CAAD,CAAUR,CAAV,CADvC,CAEA,MAAOD,EAAK,CAACI,aAAN,CAAoBO,CAApB,CAA8B,CACnCT,CAAC,CAADA,CADmC,CAA9B,CAGR,CAEDF,CAAK,CAACI,aAAN,CAAoB,CAACH,CAAD,QAApB,CAAwC,CACtCC,CAAC,CAADA,CADsC,CAAxC,CAGD,CACF,CACF"}