{"version":3,"file":"getSliderValueRange.js","names":["inProcent","number","msInPeriod","getSliderValueRange","decadeDate","value","startOfPeriod","endOfPeriod","Array","isArray","periodStartDateTime","getTime","periodEndDateTime","valueStartDateTime","valueEndDateTime","offset","Math","floor","width","ceil"],"sources":["../../../../../../src/components/DateTime/helpers/getSliderValueRange.ts"],"sourcesContent":["import { DateRange } from '../../../utils/types/Date';\n\nconst inProcent = (number: number, msInPeriod: number) =>\n  (number / msInPeriod) * 100;\n\nexport const getSliderValueRange = (\n  decadeDate: Date,\n  value: Date | DateRange | undefined,\n  startOfPeriod: (date: Date) => Date,\n  endOfPeriod: (date: Date) => Date,\n) => {\n  if (!Array.isArray(value) || !value[0] || !value[1]) {\n    return undefined;\n  }\n\n  const periodStartDateTime = startOfPeriod(decadeDate).getTime();\n  const periodEndDateTime = endOfPeriod(decadeDate).getTime();\n  const valueStartDateTime = value[0].getTime();\n  const valueEndDateTime = value[1].getTime();\n\n  if (\n    valueStartDateTime > periodEndDateTime ||\n    valueEndDateTime < periodStartDateTime\n  ) {\n    return undefined;\n  }\n\n  if (\n    valueStartDateTime <= periodStartDateTime &&\n    valueEndDateTime >= periodEndDateTime\n  ) {\n    return [0, 100];\n  }\n\n  const msInPeriod = periodEndDateTime - periodStartDateTime;\n\n  const offset = Math.floor(\n    inProcent(\n      valueStartDateTime <= periodStartDateTime\n        ? 0\n        : valueStartDateTime - periodStartDateTime,\n      msInPeriod,\n    ),\n  );\n\n  const width = Math.ceil(\n    valueEndDateTime >= periodEndDateTime\n      ? 100 - offset\n      : inProcent(\n          valueEndDateTime -\n            (valueStartDateTime <= periodStartDateTime\n              ? periodStartDateTime\n              : valueStartDateTime),\n          msInPeriod,\n        ),\n  );\n\n  return [offset, width];\n};\n"],"mappings":"AAEA,GAAMA,UAAS,CAAG,SAACC,CAAD,CAAiBC,CAAjB,QACQ,IAAxB,EAACD,CAAM,CAAGC,CAAV,CADgB,CAAlB,CAGA,MAAO,IAAMC,oBAAmB,CAAG,SACjCC,CADiC,CAEjCC,CAFiC,CAGjCC,CAHiC,CAIjCC,CAJiC,CAK9B,CACH,GAAKC,KAAK,CAACC,OAAN,CAAcJ,CAAd,CAAD,EAA0BA,CAAK,CAAC,CAAD,CAA/B,EAAuCA,CAAK,CAAC,CAAD,CAAhD,KAIMK,EAAmB,CAAGJ,CAAa,CAACF,CAAD,CAAb,CAA0BO,OAA1B,EAJ5B,CAKMC,CAAiB,CAAGL,CAAW,CAACH,CAAD,CAAX,CAAwBO,OAAxB,EAL1B,CAMME,CAAkB,CAAGR,CAAK,CAAC,CAAD,CAAL,CAASM,OAAT,EAN3B,CAOMG,CAAgB,CAAGT,CAAK,CAAC,CAAD,CAAL,CAASM,OAAT,EAPzB,CASA,KACEE,CAAkB,CAAGD,CAArB,EACAE,CAAgB,CAAGJ,CAFrB,GAOA,GACEG,CAAkB,EAAIH,CAAtB,EACAI,CAAgB,EAAIF,CAFtB,CAIE,MAAO,CAAC,CAAD,CAAI,GAAJ,CAAP,CAXF,GAcMV,EAAU,CAAGU,CAAiB,CAAGF,CAdvC,CAgBMK,CAAM,CAAGC,IAAI,CAACC,KAAL,CACbjB,SAAS,CACPa,CAAkB,EAAIH,CAAtB,CACI,CADJ,CAEIG,CAAkB,CAAGH,CAHlB,CAIPR,CAJO,CADI,CAhBf,CAyBMgB,CAAK,CAAGF,IAAI,CAACG,IAAL,CACZL,CAAgB,EAAIF,CAApB,CACI,IAAMG,CADV,CAEIf,SAAS,CACPc,CAAgB,EACbD,CAAkB,EAAIH,CAAtB,CACGA,CADH,CAEGG,CAHU,CADT,CAKPX,CALO,CAHD,CAzBd,CAqCA,MAAO,CAACa,CAAD,CAASG,CAAT,CArCP,CATA,CA+CD,CArDM"}