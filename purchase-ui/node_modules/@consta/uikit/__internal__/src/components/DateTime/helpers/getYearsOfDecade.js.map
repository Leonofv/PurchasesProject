{"version":3,"file":"getYearsOfDecade.js","names":["addYears","endOfYear","format","getDecade","startOfDecade","startOfYear","range","isDisableDate","isInMinMaxDate","isDateInRange","isEqualYear","isSelected","date","value","Array","isArray","find","item","hasEvent","events","eventDate","isCurrent","Date","getYearsOfDecade","props","onChange","minDate","maxDate","disableDates","currentDecade","startDate","map","index","label","disabled","mode","onClick","e","selected","event","current"],"sources":["../../../../../../src/components/DateTime/helpers/getYearsOfDecade.ts"],"sourcesContent":["import {\n  addYears,\n  endOfYear,\n  format,\n  getDecade,\n  Locale,\n  startOfDecade,\n  startOfYear,\n} from 'date-fns';\nimport React from 'react';\n\nimport { range } from '../../../utils/array';\nimport { isDisableDate, isInMinMaxDate } from '../../../utils/date';\nimport { DateRange } from '../../../utils/types/Date';\nimport { DateTimeCellPropRange } from '../DateTimeCell/DateTimeCell';\nimport { isDateInRange } from './isDateInRange';\nimport { isEqualYear } from './isEqualYear';\nimport { DateTimePropDisableDates, HandleSelectDate } from './types';\n\nconst isSelected = ({\n  date,\n  value,\n}: {\n  date: Date;\n  value?: Date | DateRange;\n}): boolean => {\n  if (!value) {\n    return false;\n  }\n\n  if (Array.isArray(value)) {\n    return !!value.find((item) => (item ? isEqualYear(date, item) : false));\n  }\n\n  return isEqualYear(date, value);\n};\n\nconst hasEvent = (date: Date, events: Date[]): boolean =>\n  !!events.find((eventDate) => isEqualYear(eventDate, date));\n\nconst isCurrent = (date: Date): boolean => isEqualYear(new Date(), date);\n\nexport const getYearsOfDecade = (props: {\n  date: Date;\n  locale: Locale;\n  onChange?: HandleSelectDate;\n  value?: Date | DateRange;\n  events?: Date[];\n  disableDates?: DateTimePropDisableDates;\n  minDate?: Date;\n  maxDate?: Date;\n}): {\n  disabled?: boolean;\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\n  label: string;\n  selected?: boolean;\n  range?: DateTimeCellPropRange;\n  event?: boolean;\n  current?: boolean;\n}[] => {\n  const { date, onChange, value, events, minDate, maxDate, disableDates } =\n    props;\n  const currentDecade = getDecade(date);\n  const startDate = addYears(startOfDecade(date), -1);\n\n  return range(12).map((index) => {\n    const date = addYears(startDate, index);\n    const label = format(date, 'yyyy');\n    const disabled =\n      !isInMinMaxDate(date, minDate, maxDate, startOfYear, endOfYear) ||\n      isDisableDate({ date, disableDates, mode: 'year' });\n    const onClick =\n      !disabled && onChange\n        ? (e: React.MouseEvent<HTMLButtonElement>) =>\n            onChange(date, { e, value: date })\n        : undefined;\n    if (getDecade(date) === currentDecade) {\n      return {\n        label,\n        onClick,\n        selected: isSelected({ date, value }),\n        range: Array.isArray(value) && isDateInRange(date, value, startOfYear),\n        event: events && hasEvent(date, events),\n        current: isCurrent(date),\n        disabled,\n      };\n    }\n\n    return {\n      label,\n      disabled: true,\n    };\n  });\n};\n"],"mappings":"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"}