{"version":3,"file":"FileField.js","names":["React","useRef","useForkRef","cnMixVisuallyHidden","cn","usePropsHandler","COMPONENT_NAME","isRenderFn","fn","call","cnFileField","FileField","props","fileFieldRef","className","children","id","inputRef","ariaLabel","inputProps","content","role","as"],"sources":["../../../../../src/components/FileField/FileField.tsx"],"sourcesContent":["import './FileField.css';\n\nimport React, { useRef } from 'react';\n\nimport { AsTags } from '##/utils/types/AsTags';\n\nimport { useForkRef } from '../../hooks/useForkRef/useForkRef';\nimport { cnMixVisuallyHidden } from '../../mixs/MixVisuallyHidden/MixVisuallyHidden';\nimport { cn } from '../../utils/bem';\nimport { PropsWithJsxAttributes } from '../../utils/types/PropsWithJsxAttributes';\nimport { usePropsHandler } from '../EventInterceptor/usePropsHandler';\n\ntype ComponentProps = { role: string; as: AsTags };\n\ntype RenderFn = (props: ComponentProps) => React.ReactNode;\n\nexport type FileFieldProps = PropsWithJsxAttributes<\n  {\n    id: string;\n    onChange?: (e: DragEvent | React.ChangeEvent) => void;\n    children?: RenderFn | React.ReactNode;\n    inputRef?: React.Ref<HTMLInputElement>;\n  },\n  'input'\n>;\n\nexport const COMPONENT_NAME = 'FileField' as const;\n\nfunction isRenderFn(fn: RenderFn | React.ReactNode): fn is RenderFn {\n  return (fn as RenderFn).call !== undefined;\n}\n\nexport const cnFileField = cn('FileField');\n\nexport const FileField: React.FC<FileFieldProps> = (props) => {\n  const fileFieldRef = useRef<HTMLInputElement>(null);\n\n  const {\n    className,\n    children,\n    id,\n    inputRef,\n    'aria-label': ariaLabel = 'File input',\n    ...inputProps\n  } = usePropsHandler(COMPONENT_NAME, props, fileFieldRef);\n\n  const content = isRenderFn(children)\n    ? children({ role: 'button', as: 'span' })\n    : children;\n\n  return (\n    <label htmlFor={id} className={cnFileField(null, [className])}>\n      <input\n        {...inputProps}\n        className={cnFileField('Input', [cnMixVisuallyHidden()])}\n        id={id}\n        type=\"file\"\n        aria-label={ariaLabel}\n        ref={useForkRef([inputRef, fileFieldRef])}\n      />\n      {content}\n    </label>\n  );\n};\n"],"mappings":"yJAAA,wBAEA,MAAOA,MAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CAIA,OAASC,UAAT,yCACA,OAASC,mBAAT,sDACA,OAASC,EAAT,uBAEA,OAASC,eAAT,2CAgBA,MAAO,IAAMC,eAAc,CAAG,WAAvB,CAEP,QAASC,WAAT,CAAoBC,CAApB,CAAoE,CAClE,MAAQA,EAAD,CAAiBC,IAAjB,SACR,CAED,MAAO,IAAMC,YAAW,CAAGN,EAAE,CAAC,WAAD,CAAtB,CAEP,MAAO,IAAMO,UAAmC,CAAG,SAACC,CAAD,CAAW,IACtDC,EAAY,CAAGZ,MAAM,CAAmB,IAAnB,CADiC,GAUxDI,eAAe,CAACC,cAAD,CAAiBM,CAAjB,CAAwBC,CAAxB,CAVyC,CAI1DC,CAJ0D,GAI1DA,SAJ0D,CAK1DC,CAL0D,GAK1DA,QAL0D,CAM1DC,CAN0D,GAM1DA,EAN0D,CAO1DC,CAP0D,GAO1DA,QAP0D,KAQ1D,YAR0D,EAQ5CC,CAR4C,YAQhC,YARgC,GASvDC,CATuD,uCAYtDC,CAAO,CAAGb,UAAU,CAACQ,CAAD,CAAV,CACZA,CAAQ,CAAC,CAAEM,IAAI,CAAE,QAAR,CAAkBC,EAAE,CAAE,MAAtB,CAAD,CADI,CAEZP,CAdwD,CAgB5D,MACE,8BAAO,OAAO,CAAEC,CAAhB,CAAoB,SAAS,CAAEN,WAAW,CAAC,IAAD,CAAO,CAACI,CAAD,CAAP,CAA1C,EACE,6CACMK,CADN,EAEE,SAAS,CAAET,WAAW,CAAC,OAAD,CAAU,CAACP,mBAAmB,EAApB,CAAV,CAFxB,CAGE,EAAE,CAAEa,CAHN,CAIE,IAAI,CAAC,MAJP,CAKE,aAAYE,CALd,CAME,GAAG,CAAEhB,UAAU,CAAC,CAACe,CAAD,CAAWJ,CAAX,CAAD,CANjB,GADF,CASGO,CATH,CAYH,CA7BM"}