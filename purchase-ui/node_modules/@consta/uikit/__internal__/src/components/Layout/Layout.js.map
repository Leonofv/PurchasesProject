{"version":3,"file":"Layout.js","names":["React","useRef","useForkRef","cn","forwardRefWithAs","useFixed","layoutPropDirection","layoutPropDirectionDefault","layoutPropVerticalAlign","layoutPropVerticalAlignDefault","layoutPropHorizontalAlign","layoutPropHorizontalAlignDefault","cnLayout","Layout","props","ref","flex","fixed","anchorRef","scrollContainer","direction","children","className","tabIndex","verticalAlign","horizontalAlign","as","style","otherProps","containerRef","top","left","width","height","maxWidth","maxHeight","position","backgroundColor","current","window","getComputedStyle","getPropertyValue"],"sources":["../../../../../src/components/Layout/Layout.tsx"],"sourcesContent":["import './Layout.css';\n\nimport React, { useRef } from 'react';\n\nimport { useForkRef } from '../../hooks/useForkRef/useForkRef';\nimport { cn } from '../../utils/bem';\nimport { forwardRefWithAs } from '../../utils/types/PropsWithAsAttributes';\nimport { useFixed } from './useFixed';\n\nexport const layoutPropDirection = ['row', 'column'] as const;\nexport type LayoutPropDirection = typeof layoutPropDirection[number];\nexport const layoutPropDirectionDefault: LayoutPropDirection =\n  layoutPropDirection[0];\n\nexport const layoutPropVerticalAlign = ['top', 'bottom'] as const;\nexport type LayoutPropVerticalAlign = typeof layoutPropVerticalAlign[number];\nexport const layoutPropVerticalAlignDefault: LayoutPropVerticalAlign =\n  layoutPropVerticalAlign[0];\n\nexport const layoutPropHorizontalAlign = ['left', 'right'] as const;\nexport type LayoutPropHorizontalAlign =\n  typeof layoutPropHorizontalAlign[number];\nexport const layoutPropHorizontalAlignDefault: LayoutPropHorizontalAlign =\n  layoutPropHorizontalAlign[0];\n\nexport type LayoutProps = {\n  flex?: number | 'none';\n  fixed?: boolean;\n  verticalAlign?: LayoutPropVerticalAlign;\n  horizontalAlign?: LayoutPropHorizontalAlign;\n  anchorRef?: React.RefObject<HTMLElement>;\n  scrollContainer?: React.RefObject<HTMLElement> | HTMLElement | null | Window;\n  direction?: LayoutPropDirection;\n  children?: React.ReactNode;\n};\n\nexport const cnLayout = cn('Layout');\n\nexport const Layout = forwardRefWithAs<LayoutProps>((props, ref) => {\n  const {\n    flex,\n    fixed,\n    anchorRef,\n    scrollContainer,\n    direction = layoutPropDirectionDefault,\n    children,\n    className,\n    tabIndex,\n    verticalAlign = layoutPropVerticalAlignDefault,\n    horizontalAlign = layoutPropHorizontalAlignDefault,\n    as = 'div',\n    style,\n    ...otherProps\n  } = props;\n\n  const containerRef = useRef<HTMLElement>(null);\n\n  const { top, left, width, height, maxWidth, maxHeight, position } = useFixed(\n    containerRef,\n    scrollContainer,\n    anchorRef,\n    verticalAlign,\n    horizontalAlign,\n  );\n\n  const Tag = as as string;\n\n  const backgroundColor =\n    containerRef && containerRef.current\n      ? window\n          .getComputedStyle(containerRef.current)\n          .getPropertyValue('background-color')\n      : 'none';\n\n  return (\n    <>\n      <Tag\n        tabIndex={tabIndex}\n        ref={useForkRef([ref, containerRef])}\n        style={\n          fixed\n            ? {\n                ...style,\n                ['--layout-flex' as string]: flex,\n                ['--layout-top' as string]: `${top}px`,\n                ['--layout-left' as string]: `${left}px`,\n                ['--layout-max-height' as string]: `${maxHeight}px`,\n                ['--layout-max-width' as string]: `${maxWidth}px`,\n                ['--layout-position' as string]: position,\n                ['--layout-min-width' as string]: `${width}px`,\n                ['--layout-min-height' as string]: `${height}px`,\n              }\n            : {\n                ...style,\n                ['--layout-flex' as string]: flex,\n              }\n        }\n        className={cnLayout(\n          {\n            direction,\n          },\n          [className],\n        )}\n        {...otherProps}\n      >\n        {children}\n      </Tag>\n      {position === 'fixed' && fixed && (\n        <div\n          className={cnLayout('Fake')}\n          style={{\n            ['--layout-flex' as string]: flex,\n            ['--layout-min-width' as string]: `${width}px`,\n            ['--layout-min-height' as string]: `${height}px`,\n            ['--layout-bg-color' as string]: backgroundColor,\n          }}\n        />\n      )}\n    </>\n  );\n});\n"],"mappings":"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"}