import _defineProperty from"@babel/runtime/helpers/defineProperty";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["items","value","onChange","size","form","type","containerEventListener","getTotalLabel","outerMostArrows","arrows","hotKeys","showFirstPage","showLastPage","visibleCount","className","style","getItemAs","getItemAttributes","getItemRef"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import"./Pagination.css";import React,{forwardRef,useCallback}from"react";import{useForkRef}from"../../hooks/useForkRef";import{useMutableRef}from"../../hooks/useMutableRef";import{cn}from"../../utils/bem";import{defaultGetItemClickable,defaultGetItemKey,guardCurrentPage,paginationArrowIconsMap}from"./helpers";import{PaginationArrow}from"./PaginationArrow";import{PaginationList}from"./PaginationList";import{PaginationNumberInput}from"./PaginationNumberInput";import{PaginationSizeCalculateHelper}from"./PaginationSizeCalculateHelper";import{paginationPropFormDefault,paginationPropSizeDefault,paginationPropTypeDefault}from"./types";import{usePaginationItems}from"./usePaginationItems";var cnPagination=cn("Pagination"),PaginationRender=function(a,b){var c=a.items,d=void 0===c?0:c,e=a.value,f=a.onChange,g=a.size,h=void 0===g?paginationPropSizeDefault:g,i=a.form,j=void 0===i?paginationPropFormDefault:i,k=a.type,l=void 0===k?paginationPropTypeDefault:k,m=a.containerEventListener,n=void 0===m?window:m,o=a.getTotalLabel,p=a.outerMostArrows,q=a.arrows,r=a.hotKeys,s=a.showFirstPage,t=a.showLastPage,u=a.visibleCount,v=a.className,w=a.style,x=a.getItemAs,y=a.getItemAttributes,z=a.getItemRef,A=_objectWithoutProperties(a,_excluded),B=useMutableRef(guardCurrentPage(e,d)),C=useMutableRef(f),D=useCallback(function(a,b){var c=a.key,d=b.e;if(c!==B.current&&"number"==typeof c){var e;null===(e=C.current)||void 0===e?void 0:e.call(C,c,{e:d})}},[]),E=useCallback(function(a){var b;null===(b=C.current)||void 0===b?void 0:b.call(C,Math.min(B.current+1,d),{e:a})},[d]),F=useCallback(function(a){var b;null===(b=C.current)||void 0===b?void 0:b.call(C,Math.max(B.current-1,1),{e:a})},[]),G=useCallback(function(a){var b;null===(b=C.current)||void 0===b?void 0:b.call(C,1,{e:a})},[]),H=useCallback(function(a){var b;null===(b=C.current)||void 0===b?void 0:b.call(C,d,{e:a})},[d]),I=usePaginationItems({showFirstPage:s,showLastPage:t,items:d,visibleCount:u,size:h,value:B.current,containerEventListener:n,hotKeys:r,outerMostArrows:p,type:l,arrows:q,handleNext:E,handlePrevious:F}),J=_slicedToArray(I,3),K=J[0],L=J[1],M=J[2],N=useForkRef([L[4],b]),O=function(a,b,c,e,f){var g="first"===b||"previous"===b?1<B.current:B.current<d,i="first"===b||"previous"===b?"start":"end";if("object"==typeof a){var k=a.label,l=a.icon,m=void 0===l?paginationArrowIconsMap[b]:l;return React.createElement(PaginationArrow,{label:k,icon:m,disabled:!g,size:h,form:j,ref:c,orientation:i,caption:null===e||void 0===e?void 0:e.label,onClick:f})}return React.createElement(PaginationArrow,{orientation:i,icon:"function"==typeof a?a:paginationArrowIconsMap[b],disabled:!g,size:h,form:j,ref:c,onClick:f})};return 0>=d?null:React.createElement("nav",Object.assign({},A,{className:cnPagination({type:l},[v]),ref:N,style:_objectSpread(_defineProperty({},"--pagination-symbol-size","".concat(M,"px")),w)}),((null===p||void 0===p?void 0:p[0])||(null===q||void 0===q?void 0:q[0]))&&React.createElement(React.Fragment,null,(null===p||void 0===p?void 0:p[0])&&O(p[0],"first",L[0],void 0,G),(null===q||void 0===q?void 0:q[0])&&O(q[0],"previous",L[1],null===r||void 0===r?void 0:r[0],F)),"default"===l?React.createElement(PaginationList,{items:K,form:j,size:h,onItemClick:D,value:{key:B.current,label:B.current.toString(),clickable:!0},getItemKey:defaultGetItemKey,getItemClickable:defaultGetItemClickable,getItemAs:x,getItemAttributes:y,getItemRef:z}):React.createElement(PaginationNumberInput,{form:j,size:h,total:d,value:B.current,onChange:f,getTotalLabel:o}),((null===q||void 0===q?void 0:q[1])||(null===p||void 0===p?void 0:p[1]))&&React.createElement(React.Fragment,null,(null===q||void 0===q?void 0:q[1])&&O(q[1],"next",L[2],null===r||void 0===r?void 0:r[1],E),(null===p||void 0===p?void 0:p[1])&&O(p[1],"last",L[3],void 0,H)),"default"===l&&React.createElement(PaginationSizeCalculateHelper,{refs:L,size:h}))};export var Pagination=forwardRef(PaginationRender);
//# sourceMappingURL=Pagination.js.map