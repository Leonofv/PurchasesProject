{"version":3,"file":"Pagination.js","names":["React","forwardRef","useCallback","useForkRef","useMutableRef","cn","defaultGetItemClickable","defaultGetItemKey","guardCurrentPage","paginationArrowIconsMap","PaginationArrow","PaginationList","PaginationNumberInput","PaginationSizeCalculateHelper","paginationPropFormDefault","paginationPropSizeDefault","paginationPropTypeDefault","usePaginationItems","cnPagination","PaginationRender","props","ref","items","valueProp","value","onChange","size","form","type","containerEventListener","window","getTotalLabel","outerMostArrows","arrows","hotKeys","showFirstPage","showLastPage","visibleCount","className","style","getItemAs","getItemAttributes","getItemRef","otherProps","valueRef","onChangeRef","onItemClick","key","e","current","handleNext","Math","min","handlePrevious","max","handlefirst","handleLast","pages","refs","symbolSize","rootRef","renderArrow","item","hotKey","onClick","flag","orientation","label","icon","toString","clickable","Pagination"],"sources":["../../../../../src/components/Pagination/Pagination.tsx"],"sourcesContent":["import './Pagination.css';\n\nimport React, { forwardRef, useCallback } from 'react';\n\nimport { useForkRef } from '##/hooks/useForkRef';\nimport { useMutableRef } from '##/hooks/useMutableRef';\nimport { cn } from '##/utils/bem';\n\nimport {\n  defaultGetItemClickable,\n  defaultGetItemKey,\n  guardCurrentPage,\n  paginationArrowIconsMap,\n} from './helpers';\nimport { PaginationArrow } from './PaginationArrow';\nimport { PaginationList } from './PaginationList';\nimport { PaginationNumberInput } from './PaginationNumberInput';\nimport { PaginationSizeCalculateHelper } from './PaginationSizeCalculateHelper';\nimport {\n  PaginationArrowTypes,\n  PaginationComponent,\n  PaginationItem,\n  PaginationPropArrow,\n  paginationPropFormDefault,\n  PaginationPropHotKey,\n  PaginationPropOnItemClick,\n  PaginationProps,\n  paginationPropSizeDefault,\n  PaginationPropType,\n  paginationPropTypeDefault,\n} from './types';\nimport { usePaginationItems } from './usePaginationItems';\n\nconst cnPagination = cn('Pagination');\n\nconst PaginationRender = <TYPE extends PaginationPropType>(\n  props: PaginationProps<TYPE>,\n  ref: React.Ref<HTMLDivElement>,\n) => {\n  const {\n    items = 0,\n    value: valueProp,\n    onChange,\n    size = paginationPropSizeDefault,\n    form = paginationPropFormDefault,\n    type = paginationPropTypeDefault,\n    containerEventListener = window,\n    getTotalLabel,\n    outerMostArrows,\n    arrows,\n    hotKeys,\n    showFirstPage,\n    showLastPage,\n    visibleCount,\n    className,\n    style,\n    getItemAs,\n    getItemAttributes,\n    getItemRef,\n    ...otherProps\n  } = props;\n\n  const valueRef = useMutableRef(guardCurrentPage(valueProp, items));\n  const onChangeRef = useMutableRef(onChange);\n\n  const onItemClick: PaginationPropOnItemClick<PaginationItem> = useCallback(\n    ({ key }, { e }) => {\n      if (key !== valueRef.current && typeof key === 'number') {\n        onChangeRef.current?.(key, { e });\n      }\n    },\n    [],\n  );\n\n  const handleNext = useCallback(\n    (e: React.MouseEvent | KeyboardEvent) => {\n      onChangeRef.current?.(Math.min(valueRef.current + 1, items), { e });\n    },\n    [items],\n  );\n\n  const handlePrevious = useCallback((e: React.MouseEvent | KeyboardEvent) => {\n    onChangeRef.current?.(Math.max(valueRef.current - 1, 1), { e });\n  }, []);\n\n  const handlefirst = useCallback((e: React.MouseEvent | KeyboardEvent) => {\n    onChangeRef.current?.(1, { e });\n  }, []);\n\n  const handleLast = useCallback(\n    (e: React.MouseEvent | KeyboardEvent) => {\n      onChangeRef.current?.(items, { e });\n    },\n    [items],\n  );\n\n  const [pages, refs, symbolSize] = usePaginationItems({\n    showFirstPage,\n    showLastPage,\n    items,\n    visibleCount,\n    size,\n    value: valueRef.current,\n    containerEventListener,\n    hotKeys,\n    outerMostArrows,\n    type,\n    arrows,\n    handleNext,\n    handlePrevious,\n  });\n\n  const rootRef = useForkRef([refs[4], ref]);\n\n  const renderArrow = (\n    item: PaginationPropArrow,\n    type: PaginationArrowTypes,\n    ref: React.Ref<HTMLButtonElement> | undefined,\n    hotKey: PaginationPropHotKey | undefined,\n    onClick?: React.MouseEventHandler,\n  ) => {\n    const flag =\n      type === 'first' || type === 'previous'\n        ? valueRef.current > 1\n        : valueRef.current < items;\n    const orientation =\n      type === 'first' || type === 'previous' ? 'start' : 'end';\n    if (typeof item === 'object') {\n      const { label, icon = paginationArrowIconsMap[type] } = item;\n\n      return (\n        <PaginationArrow\n          label={label}\n          icon={icon}\n          disabled={!flag}\n          size={size}\n          form={form}\n          ref={ref}\n          orientation={orientation}\n          caption={hotKey?.label}\n          onClick={onClick}\n        />\n      );\n    }\n    return (\n      <PaginationArrow\n        orientation={orientation}\n        icon={typeof item === 'function' ? item : paginationArrowIconsMap[type]}\n        disabled={!flag}\n        size={size}\n        form={form}\n        ref={ref}\n        onClick={onClick}\n      />\n    );\n  };\n\n  if (items <= 0) {\n    return null;\n  }\n\n  return (\n    <nav\n      {...otherProps}\n      className={cnPagination({ type }, [className])}\n      ref={rootRef}\n      style={{\n        ['--pagination-symbol-size' as string]: `${symbolSize}px`,\n        ...style,\n      }}\n    >\n      {(outerMostArrows?.[0] || arrows?.[0]) && (\n        <>\n          {outerMostArrows?.[0] &&\n            renderArrow(\n              outerMostArrows[0],\n              'first',\n              refs[0] as unknown as React.RefObject<HTMLButtonElement>,\n              undefined,\n              handlefirst,\n            )}\n          {arrows?.[0] &&\n            renderArrow(\n              arrows[0],\n              'previous',\n              refs[1] as unknown as React.RefObject<HTMLButtonElement>,\n              hotKeys?.[0],\n              handlePrevious,\n            )}\n        </>\n      )}\n\n      {type === 'default' ? (\n        <PaginationList\n          items={pages}\n          form={form}\n          size={size}\n          onItemClick={onItemClick}\n          value={{\n            key: valueRef.current,\n            label: valueRef.current.toString(),\n            clickable: true,\n          }}\n          getItemKey={defaultGetItemKey}\n          getItemClickable={defaultGetItemClickable}\n          getItemAs={getItemAs}\n          getItemAttributes={getItemAttributes}\n          getItemRef={getItemRef}\n        />\n      ) : (\n        <PaginationNumberInput\n          form={form}\n          size={size}\n          total={items}\n          value={valueRef.current}\n          onChange={onChange}\n          getTotalLabel={getTotalLabel}\n        />\n      )}\n      {(arrows?.[1] || outerMostArrows?.[1]) && (\n        <>\n          {arrows?.[1] &&\n            renderArrow(\n              arrows[1],\n              'next',\n              refs[2] as unknown as React.RefObject<HTMLButtonElement>,\n              hotKeys?.[1],\n              handleNext,\n            )}\n          {outerMostArrows?.[1] &&\n            renderArrow(\n              outerMostArrows[1],\n              'last',\n              refs[3] as unknown as React.RefObject<HTMLButtonElement>,\n              undefined,\n              handleLast,\n            )}\n        </>\n      )}\n      {type === 'default' && (\n        <PaginationSizeCalculateHelper refs={refs} size={size} />\n      )}\n    </nav>\n  );\n};\n\nexport const Pagination = forwardRef(PaginationRender) as PaginationComponent;\n"],"mappings":"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"}