import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["currentPage","totalPages","onChange","getLabel","form","size","type","position","minified","hotkeys","containerEventListener","className"];import"./Pagination.css";import{IconBackward}from"@consta/icons/IconBackward";import{IconForward}from"@consta/icons/IconForward";import React from"react";import{cnDeprecated}from"../../utils/bem";import{Button}from"../Button/Button";import{Text}from"../Text/Text";import{TextField}from"../TextField/TextField";import{getPaginationInfo}from"./helpers";export var paginationForms=["default","round","brick"];export var paginationDefaultForm="default";export var paginationSizes=["xs","s","m","l"];export var paginationDefaultSize="m";export var paginationTypes=["default","input"];export var paginationDefaultType="default";export var paginationPositions=["left","center","right"];export var paginationDefaultPosition="center";var getDefaultLabel=function(a){return"\u0438\u0437 ".concat(a)};export var cnPagination=cnDeprecated("Pagination");export var Pagination=React.forwardRef(function(a,b){var c=a.currentPage,d=void 0===c?0:c,e=a.totalPages,f=void 0===e?0:e,g=a.onChange,h=a.getLabel,i=void 0===h?getDefaultLabel:h,j=a.form,k=void 0===j?paginationDefaultForm:j,l=a.size,m=void 0===l?paginationDefaultSize:l,n=a.type,o=void 0===n?paginationDefaultType:n,p=a.position,q=void 0===p?paginationDefaultPosition:p,r=a.minified,s=void 0!==r&&r,t=a.hotkeys,u=void 0===t?{nextPage:{label:"Alt \u2192",values:["Alt","ArrowRight"]},prevPage:{label:"\u2190 Alt",values:["Alt","ArrowLeft"]}}:t,v=a.containerEventListener,w=void 0===v?window:v,x=a.className,y=_objectWithoutProperties(a,_excluded),z=d+1,A=getPaginationInfo(z,f),B=A.prevPage,C=A.nextPage,D=A.isStartDots,E=A.isEndDots,F=A.pages,G=A.isEmpty,H=React.useState([]),I=_slicedToArray(H,2),J=I[0],K=I[1],L=function(a){a&&a!==z&&g&&g(a-1)},M=function(a){return function(b){b.preventDefault(),L(a)}},N=function(a){var b=a.key;K(function(a){return a.filter(function(a){return a!==b})})},O=function(a){var b=a.key;if(u.nextPage.values.includes(b)||u.prevPage.values.includes(b)){var c=[].concat(_toConsumableArray(J),[b]);u.nextPage.values.every(function(a){return c.includes(a)})?L(C):u.prevPage.values.every(function(a){return c.includes(a)})&&L(B),K(c)}};React.useEffect(function(){return w.addEventListener("keydown",O),w.addEventListener("keyup",N),function(){w.removeEventListener("keydown",O),w.removeEventListener("keyup",N)}});var P="var(--control-height-".concat(m,")");return f?!G&&React.createElement("nav",Object.assign({className:cnPagination({form:k,size:m,position:s?paginationDefaultPosition:q},[x]),ref:b},y),(1<z||s)&&React.createElement("div",{className:cnPagination("PrevPage")},React.createElement(Button,{type:"button",className:cnPagination("ItemLeft",{minified:s,show:1<z}),label:"\u041D\u0430\u0437\u0430\u0434",iconLeft:IconBackward,view:"ghost",form:k,size:m,onClick:M(B)}),!s&&React.createElement(Text,{className:cnPagination("TipLeft"),size:"xs",view:"ghost",lineHeight:"m"},u.prevPage.label)),o===paginationDefaultType?React.createElement("div",{className:cnPagination("Pages")},D&&React.createElement(Button,{type:"button",className:cnPagination("Item",{isActive:1===z}),style:{width:P},label:"1",title:"1",view:"ghost",form:k,size:m,onClick:M(1)}),D&&React.createElement(Text,{size:m,view:"linkMinor",className:cnPagination("More"),style:{width:P},lineHeight:"m"},"..."),F.map(function(a){return React.createElement(Button,{type:"button",key:a,className:cnPagination("Item",{isActive:z===a}),style:{width:P},label:a,title:"".concat(a),view:"ghost",form:k,size:m,onClick:M(a)})}),E&&React.createElement(Text,{size:m,view:"linkMinor",className:cnPagination("More"),style:{width:P},lineHeight:"m"},"..."),E&&React.createElement(Button,{type:"button",className:cnPagination("Item",{isActive:z===f}),style:{width:P},label:f,title:"".concat(f),view:"ghost",form:k,size:m,onClick:M(f)})):React.createElement("div",{className:cnPagination("Pages")},React.createElement(TextField,{className:cnPagination("Input"),form:k,size:m,value:z.toString(),onChange:function handleChange(a){var b=+a;b>f||Number.isNaN(b)||g&&g(b-1)}}),React.createElement(Text,{size:m,view:"linkMinor",className:cnPagination("Total"),lineHeight:"m"},i(f))),(z<f||s)&&React.createElement("div",{className:cnPagination("NextPage")},React.createElement(Button,{type:"button",className:cnPagination("ItemRight",{minified:s,show:z<f}),label:"\u0412\u043F\u0435\u0440\u0451\u0434",iconRight:IconForward,view:"ghost",form:k,size:m,onClick:M(C)}),!s&&React.createElement(Text,{className:cnPagination("TipRight"),size:"xs",view:"ghost",lineHeight:"m"},u.nextPage.label)))||null:null});
//# sourceMappingURL=PaginationDeprecated.js.map