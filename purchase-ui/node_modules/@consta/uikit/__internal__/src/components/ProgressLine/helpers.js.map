{"version":3,"file":"helpers.js","names":["defaultGetItemLabel","item","label","withDefaultGetters","props","getItemLabel","getProgress","progress","progressNormal","Math","ceil","calculateLinePositions","steps","containerWidth","lines","gap","widthWithoutGap","max","lineWidth","padding","i","push","width","y","x","generateMask","length","svg","index"],"sources":["../../../../../src/components/ProgressLine/helpers.ts"],"sourcesContent":["import {\n  ProgressLineItemDefault,\n  ProgressLinePropGetItemLabel,\n  ProgressLineProps,\n} from './types';\n\nconst defaultGetItemLabel: ProgressLinePropGetItemLabel<\n  ProgressLineItemDefault\n> = (item) => item.label;\n\nexport function withDefaultGetters<ITEM>(props: ProgressLineProps<ITEM>) {\n  return {\n    ...props,\n    getItemLabel: props.getItemLabel || defaultGetItemLabel,\n  };\n}\n\nexport const getProgress = (progress: number) => {\n  const progressNormal = Math.ceil(progress);\n\n  if (progressNormal >= 100) {\n    return 1;\n  }\n\n  if (progressNormal <= 0) {\n    return 0;\n  }\n\n  return progressNormal / 100;\n};\n\ntype ProgressLineSvgItem = {\n  width: number;\n  x: number;\n  y: number;\n};\n\nexport const calculateLinePositions = (\n  steps: number,\n  containerWidth: number,\n): ProgressLineSvgItem[] => {\n  const lines: ProgressLineSvgItem[] = [];\n  const gap = 2;\n  const widthWithoutGap = Math.max(containerWidth - (steps - 1) * gap, 0);\n  const lineWidth = widthWithoutGap / steps;\n  let padding = 0;\n  for (let i = 0; i < steps; i++) {\n    lines.push({\n      width: lineWidth,\n      y: 0,\n      x: padding,\n    });\n    padding += lineWidth + gap;\n  }\n  return lines;\n};\n\nexport const generateMask = (lines: ProgressLineSvgItem[]): string => {\n  const { length } = lines;\n  if (length > 0) {\n    const width = lines[length - 1].x + lines[length - 1].width;\n    let svg = `%3csvg width='${width}px' height='4px' xmlns='http://www.w3.org/2000/svg'%3e`;\n    for (let index = 0; index < length; index++) {\n      const { x, width, y } = lines[index];\n      svg += `%3crect x='${x}px' y='${y}px' height='4px' width='${width}px' /%3e`;\n    }\n    svg += '%3c/svg%3e';\n    return `url(\"data:image/svg+xml;charset=UTF-8,${svg}\")`;\n  }\n  return '';\n};\n"],"mappings":"qqBAMA,GAAMA,oBAEL,CAAG,SAACC,CAAD,QAAUA,EAAI,CAACC,KAAf,CAFJ,CAIA,MAAO,SAASC,mBAAT,CAAkCC,CAAlC,CAAkE,CACvE,sCACKA,CADL,MAEEC,YAAY,CAAED,CAAK,CAACC,YAAN,EAAsBL,mBAFtC,EAID,CAED,MAAO,IAAMM,YAAW,CAAG,SAACC,CAAD,CAAsB,CAC/C,GAAMC,EAAc,CAAGC,IAAI,CAACC,IAAL,CAAUH,CAAV,CAAvB,CAD+C,MAGzB,IAAlB,EAAAC,CAH2C,CAItC,CAJsC,CAOzB,CAAlB,EAAAA,CAP2C,CAQtC,CARsC,CAWxCA,CAAc,CAAG,GACzB,CAZM,CAoBP,MAAO,IAAMG,uBAAsB,CAAG,SACpCC,CADoC,CAEpCC,CAFoC,CAGV,CAM1B,OALMC,EAA4B,CAAG,EAKrC,CAJMC,CAAG,CAAG,CAIZ,CAHMC,CAAe,CAAGP,IAAI,CAACQ,GAAL,CAASJ,CAAc,CAAG,CAACD,CAAK,CAAG,CAAT,EAAcG,CAAxC,CAA6C,CAA7C,CAGxB,CAFMG,CAAS,CAAGF,CAAe,CAAGJ,CAEpC,CADIO,CAAO,CAAG,CACd,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGR,CAApB,CAA2BQ,CAAC,EAA5B,CACEN,CAAK,CAACO,IAAN,CAAW,CACTC,KAAK,CAAEJ,CADE,CAETK,CAAC,CAAE,CAFM,CAGTC,CAAC,CAAEL,CAHM,CAAX,CADF,CAMEA,CAAO,EAAID,CAAS,CAAGH,CANzB,CAQA,MAAOD,EACR,CAlBM,CAoBP,MAAO,IAAMW,aAAY,CAAG,SAACX,CAAD,CAA0C,CACpE,GAAQY,EAAR,CAAmBZ,CAAnB,CAAQY,MAAR,CACA,GAAa,CAAT,CAAAA,CAAJ,CAAgB,CAGd,OAFMJ,EAAK,CAAGR,CAAK,CAACY,CAAM,CAAG,CAAV,CAAL,CAAkBF,CAAlB,CAAsBV,CAAK,CAACY,CAAM,CAAG,CAAV,CAAL,CAAkBJ,KAEtD,CADIK,CAAG,yBAAoBL,CAApB,0DACP,CAASM,CAAK,CAAG,CAAjB,CAAoBA,CAAK,CAAGF,CAA5B,CAAoCE,CAAK,EAAzC,CAA6C,CAC3C,MAAwBd,CAAK,CAACc,CAAD,CAA7B,CAAQJ,CAAR,GAAQA,CAAR,CAAWF,CAAX,GAAWA,KAAX,CAAkBC,CAAlB,GAAkBA,CAAlB,CACAI,CAAG,uBAAkBH,CAAlB,mBAA6BD,CAA7B,oCAAyDD,CAAzD,YACJ,CAED,MADAK,EAAG,EAAI,YACP,kDAAgDA,CAAhD,OACD,CACD,MAAO,EACR,CAbM"}