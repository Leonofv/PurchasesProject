{"version":3,"file":"helpers.js","names":["React","scrollIntoView","useHoistedState","initialState","reducerRef","useRef","old","newState","useState","state","_setState","setState","useCallback","updater","action","Error","current","scrollToIndex","index","dropdownRef","optionsRefs","onFailure","element"],"sources":["../../../../../../src/components/SelectComponents/useSelect/helpers.ts"],"sourcesContent":["import React from 'react';\n\nimport { scrollIntoView } from '##/utils/scrollIntoView';\n\ntype State = {\n  searchValue: string;\n  resolvedSearchValue: string;\n  isOpen: boolean;\n  highlightedIndex: number;\n  scrollToHighlighted: boolean;\n};\ntype Action = string;\ntype Reducer = (state: State, newState: State, action: Action) => State;\ntype Updater = (state: State) => State;\n\nexport function useHoistedState(\n  initialState: State,\n): [State, (updater: Updater, action: Action) => void] {\n  const reducerRef = React.useRef<Reducer>((old, newState) => newState);\n  const [state, _setState] = React.useState<State>(initialState);\n  const setState = React.useCallback(\n    (updater: Updater, action: Action) => {\n      if (!action) {\n        throw new Error('An action type is required to update the state');\n      }\n      return _setState((old) => reducerRef.current(old, updater(old), action));\n    },\n    [_setState],\n  );\n  return [state, setState];\n}\n\ntype ScrollToIndexFunctionType = (\n  optionIndex: number,\n  dropdownRef: React.MutableRefObject<HTMLDivElement | null>,\n  optionsRefs: React.RefObject<HTMLDivElement>[],\n  onFailure: () => void,\n) => void;\n\nexport const scrollToIndex: ScrollToIndexFunctionType = (\n  index,\n  dropdownRef,\n  optionsRefs,\n  onFailure,\n): void => {\n  if (!dropdownRef.current) {\n    return;\n  }\n\n  const element = optionsRefs[index].current;\n\n  if (element) {\n    scrollIntoView(element, dropdownRef.current);\n  } else {\n    onFailure();\n  }\n};\n"],"mappings":"iEAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,cAAT,qCAaA,MAAO,SAASC,gBAAT,CACLC,CADK,CAEgD,IAC/CC,EAAU,CAAGJ,KAAK,CAACK,MAAN,CAAsB,SAACC,CAAD,CAAMC,CAAN,QAAmBA,EAAnB,CAAtB,CADkC,GAE1BP,KAAK,CAACQ,QAAN,CAAsBL,CAAtB,CAF0B,uBAE9CM,CAF8C,MAEvCC,CAFuC,MAG/CC,CAAQ,CAAGX,KAAK,CAACY,WAAN,CACf,SAACC,CAAD,CAAmBC,CAAnB,CAAsC,CACpC,GAAI,CAACA,CAAL,CACE,KAAM,IAAIC,MAAJ,CAAU,gDAAV,CAAN,CAEF,MAAOL,EAAS,CAAC,SAACJ,CAAD,QAASF,EAAU,CAACY,OAAX,CAAmBV,CAAnB,CAAwBO,CAAO,CAACP,CAAD,CAA/B,CAAsCQ,CAAtC,CAAT,CAAD,CACjB,CANc,CAOf,CAACJ,CAAD,CAPe,CAHoC,CAYrD,MAAO,CAACD,CAAD,CAAQE,CAAR,CACR,CASD,MAAO,IAAMM,cAAwC,CAAG,SACtDC,CADsD,CAEtDC,CAFsD,CAGtDC,CAHsD,CAItDC,CAJsD,CAK7C,CACT,GAAKF,CAAW,CAACH,OAAjB,EAIA,GAAMM,EAAO,CAAGF,CAAW,CAACF,CAAD,CAAX,CAAmBF,OAAnC,CAEIM,CANJ,CAOErB,cAAc,CAACqB,CAAD,CAAUH,CAAW,CAACH,OAAtB,CAPhB,CASEK,CAAS,EATX,CAWD,CAjBM"}