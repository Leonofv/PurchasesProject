import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["placeholder","onBlur","onFocus","items","onChange","value","required","disabled","ariaLabel","id","dropdownRef","form","view","size","dropdownClassName","name","groups","getItemLabel","labelForEmptyItems","getItemKey","getItemGroupKey","getItemDisabled","getGroupKey","getGroupLabel","renderItem","isLoading","renderValue","inputRef","style","dropdownForm"];import"../SelectComponentsDeprecated/Select.css";import{IconSelect}from"@consta/icons/IconSelect";import React,{forwardRef,useRef}from"react";import{isNotNil}from"../../utils/type-guards";import{useForkRef}from"../../hooks/useForkRef/useForkRef";import{useSelect}from"../../hooks/useSelect/useSelect";import{usePropsHandler}from"../EventInterceptor/usePropsHandler";import{cnSelect,COMPONENT_NAME}from"../SelectComponentsDeprecated/cnSelect";import{defaultLabelForEmptyItems}from"../SelectComponentsDeprecated/helpers";import{SelectContainer}from"../SelectComponentsDeprecated/SelectContainer/SelectContainer";import{SelectDropdown}from"../SelectComponentsDeprecated/SelectDropdown/SelectDropdown";import{SelectItem}from"../SelectComponentsDeprecated/SelectItem/SelectItem";import{defaultPropForm,defaultPropSize,defaultPropView}from"../SelectComponentsDeprecated/types";import{iconSizeMap,withDefaultGetters}from"./helpers";var SelectRender=function(a,b){var c=useRef(null),d=useRef(null),e=usePropsHandler(COMPONENT_NAME,withDefaultGetters(a),d),f=e.placeholder,g=e.onBlur,h=e.onFocus,i=e.items,j=e.onChange,k=e.value,l=e.required,m=e.disabled,n=e.ariaLabel,o=e.id,p=e.dropdownRef,q=void 0===p?c:p,r=e.form,s=void 0===r?defaultPropForm:r,t=e.view,u=void 0===t?defaultPropView:t,v=e.size,w=void 0===v?defaultPropSize:v,x=e.dropdownClassName,y=e.name,z=e.groups,A=void 0===z?[]:z,B=e.getItemLabel,C=e.labelForEmptyItems,D=void 0===C?defaultLabelForEmptyItems:C,E=e.getItemKey,F=e.getItemGroupKey,G=e.getItemDisabled,H=e.getGroupKey,I=e.getGroupLabel,J=e.renderItem,K=e.isLoading,L=e.renderValue,M=e.inputRef,N=e.style,O=e.dropdownForm,P=void 0===O?"default":O,Q=_objectWithoutProperties(e,_excluded),R=useSelect({items:i,groups:A,value:k,onChange:j,dropdownRef:q,controlRef:d,disabled:m,getItemLabel:B,getItemKey:E,getGroupKey:H,getItemGroupKey:F,getItemDisabled:G,multiple:!1,onBlur:g,onFocus:h}),S=R.getKeyProps,T=R.getOptionProps,U=R.isOpen,V=R.visibleItems,W=R.isFocused,X=R.handleInputFocus,Y=R.handleInputBlur,Z=R.handleToggleDropdown,$=R.inputRef,_=R.handleInputClick,aa=R.notFound,ba=R.hasItems,ca=o?"".concat(o,"-input"):o;return React.createElement(React.Fragment,null,React.createElement(SelectContainer,Object.assign({focused:W,disabled:m,size:w,view:u,form:s,required:l,ref:b,style:N,id:ca},Q),React.createElement("div",{className:cnSelect("Control"),ref:d,"aria-expanded":U,"aria-haspopup":"listbox",id:o},React.createElement("div",{className:cnSelect("ControlInner")},React.createElement("div",{className:cnSelect("ControlValueContainer")},React.createElement("input",Object.assign({},S(),{type:"button",name:y,id:ca,onFocus:X,onBlur:Y,"aria-label":n,onClick:_,ref:useForkRef([$,M]),className:cnSelect("FakeField"),readOnly:!0})),isNotNil(k)&&(L||function renderValueDefault(a){var b=B(a.item);return React.createElement("span",{className:cnSelect("ControlValue"),title:b},b)})({item:k}),!isNotNil(k)&&f&&React.createElement("span",{className:cnSelect("Placeholder"),title:"placeholder"},f))),React.createElement("span",{className:cnSelect("Indicators")},React.createElement("button",{type:"button",className:cnSelect("IndicatorsDropdown"),tabIndex:-1,onClick:Z},React.createElement(IconSelect,{size:iconSizeMap[w],className:cnSelect("DropdownIndicatorIcon")}))))),React.createElement(SelectDropdown,{isOpen:U,size:w,controlRef:d,getOptionProps:T,dropdownRef:q,form:P,className:x,renderItem:J||function renderItemDefault(a){var b=a.item,c=a.active,d=a.hovered,e=a.onClick,f=a.onMouseEnter;return React.createElement(SelectItem,{label:B(b),active:c,hovered:d,multiple:!1,size:w,indent:"round"===P?"increased":"normal",onClick:e,onMouseEnter:f,disabled:G(b)})},getGroupLabel:I,visibleItems:V,notFound:aa,isLoading:K,labelForEmptyItems:D,hasItems:ba,style:"number"==typeof(null===N||void 0===N?void 0:N.zIndex)?{zIndex:N.zIndex+1}:void 0}))};export var Select=forwardRef(SelectRender);export*from"./helpers";
//# sourceMappingURL=SelectDeprecated.js.map