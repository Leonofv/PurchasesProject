{"version":3,"file":"SkeletonText.js","names":["React","textPropLineHeightDefault","textPropSizeDefault","cn","SkeletonBrick","cnSkeletonText","getRowWidth","idx","total","SkeletonText","props","className","rows","fontSize","lineHeight","otherProps","varFontSize","varLineHeight","Array","fill","map","_v","height"],"sources":["../../../../../../src/components/Skeleton/SkeletonText/SkeletonText.tsx"],"sourcesContent":["import './SkeletonText.css';\n\nimport React from 'react';\n\nimport {\n  TextPropLineHeight,\n  textPropLineHeightDefault,\n  TextPropSize,\n  textPropSizeDefault,\n} from '##/components/Text';\nimport { cn } from '##/utils/bem';\nimport { PropsWithHTMLAttributes } from '##/utils/types/PropsWithHTMLAttributes';\n\nimport { SkeletonBrick } from '../Skeleton';\n\ntype SkeletonTextProps = PropsWithHTMLAttributes<\n  {\n    rows: number;\n    fontSize?: TextPropSize;\n    lineHeight?: TextPropLineHeight;\n  },\n  HTMLDivElement\n>;\n\nconst cnSkeletonText = cn('SkeletonText');\n\nexport const getRowWidth = (\n  idx: number,\n  total: number,\n): React.ComponentProps<typeof SkeletonBrick>['height'] => {\n  if (idx === total - 1) {\n    return '50%';\n  }\n\n  switch (idx % 3) {\n    case 0:\n      return '100%';\n    case 1:\n      return '85%';\n    case 2:\n      return '93%';\n  }\n\n  return '100%';\n};\n\nexport const SkeletonText: React.FC<SkeletonTextProps> = (\n  props: SkeletonTextProps,\n) => {\n  const {\n    className,\n    rows,\n    fontSize = textPropSizeDefault,\n    lineHeight = textPropLineHeightDefault,\n    ...otherProps\n  } = props;\n\n  const varFontSize = `var(--size-text-${fontSize})`;\n  const varLineHeight = `var(--line-height-text-${lineHeight})`;\n\n  return (\n    <div\n      className={cnSkeletonText(null, [className])}\n      key={\n        /* форсируем полный ререндер компонента при смене количества строк,\n          чтобы анимация у всех строк запустилась заново */\n        rows\n      }\n      {...otherProps}\n    >\n      {new Array(rows).fill(null).map((_v, idx) => (\n        <div\n          key={idx}\n          className={cnSkeletonText('Row')}\n          style={{ fontSize: varFontSize, height: varLineHeight }}\n        >\n          <SkeletonBrick width={getRowWidth(idx, rows)} height={varFontSize} />\n        </div>\n      ))}\n    </div>\n  );\n};\n"],"mappings":"gJAAA,2BAEA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAEEC,yBAFF,CAIEC,mBAJF,kBAMA,OAASC,EAAT,0BAGA,OAASC,aAAT,mBAWA,GAAMC,eAAc,CAAGF,EAAE,CAAC,cAAD,CAAzB,CAEA,MAAO,IAAMG,YAAW,CAAG,SACzBC,CADyB,CAEzBC,CAFyB,CAGgC,CACzD,GAAID,CAAG,GAAKC,CAAK,CAAG,CAApB,CACE,MAAO,KAAP,CAGF,OAAQD,CAAG,CAAG,CAAd,EACE,IAAK,EAAL,CACE,MAAO,MAAP,CACF,IAAK,EAAL,CACE,MAAO,KAAP,CACF,IAAK,EAAL,CACE,MAAO,KAAP,CANJ,CASA,MAAO,MACR,CAlBM,CAoBP,MAAO,IAAME,aAAyC,CAAG,SACvDC,CADuD,CAEpD,IAEDC,EAFC,CAOCD,CAPD,CAEDC,SAFC,CAGDC,CAHC,CAOCF,CAPD,CAGDE,IAHC,GAOCF,CAPD,CAIDG,QAJC,CAIDA,CAJC,YAIUX,mBAJV,KAOCQ,CAPD,CAKDI,UALC,CAKDA,CALC,YAKYb,yBALZ,GAMEc,CANF,0BAOCL,CAPD,YASGM,CAAW,2BAAsBH,CAAtB,KATd,CAUGI,CAAa,kCAA6BH,CAA7B,KAVhB,CAYH,MACE,0CACE,SAAS,CAAET,cAAc,CAAC,IAAD,CAAO,CAACM,CAAD,CAAP,CAD3B,CAEE,GAAG,CAGDC,CALJ,EAOMG,CAPN,EASOG,KAAJ,CAAUN,CAAV,EAAgBO,IAAhB,CAAqB,IAArB,EAA2BC,GAA3B,CAA+B,SAACC,CAAD,CAAKd,CAAL,QAC9B,4BACE,GAAG,CAAEA,CADP,CAEE,SAAS,CAAEF,cAAc,CAAC,KAAD,CAF3B,CAGE,KAAK,CAAE,CAAEQ,QAAQ,CAAEG,CAAZ,CAAyBM,MAAM,CAAEL,CAAjC,CAHT,EAKE,oBAAC,aAAD,EAAe,KAAK,CAAEX,WAAW,CAACC,CAAD,CAAMK,CAAN,CAAjC,CAA8C,MAAM,CAAEI,CAAtD,EALF,CAD8B,CAA/B,CATH,CAoBH,CAnCM"}