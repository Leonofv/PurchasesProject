{"version":3,"file":"SliderInput.js","names":["React","useEffect","useState","cn","TextField","getValidValue","isValidValue","cnSliderInput","SliderInput","props","value","onChange","min","max","step","size","className","otherProps","toString","currentValue","setCurrentValue","commitChange","validatedValue","handleChange","e"],"sources":["../../../../../../src/components/Slider/SliderInput/SliderInput.tsx"],"sourcesContent":["import './SliderInput.css';\n\nimport React, { useEffect, useState } from 'react';\n\nimport { cn } from '##/utils/bem';\n\nimport {\n  TextField,\n  TextFieldPropOnChange,\n  TextFieldProps,\n} from '../../TextField/TextField';\nimport { getValidValue, isValidValue } from '../useSlider/helper';\n\ntype Props = Omit<\n  TextFieldProps<'number'>,\n  'value' | 'onChange' | 'min' | 'max' | 'step'\n> & {\n  value?: number;\n  step?: number | number[];\n  min?: number;\n  max?: number;\n  onChange?: (props: {\n    e?: React.ChangeEvent | React.MouseEvent | React.KeyboardEvent;\n    value: number;\n  }) => void;\n};\n\nconst cnSliderInput = cn('SliderInput');\n\nexport const SliderInput = (props: Props) => {\n  const {\n    value,\n    onChange,\n    min = 0,\n    max = 100,\n    step = 1,\n    size = 'm',\n    className,\n    ...otherProps\n  } = props;\n\n  const [currentValue, setCurrentValue] = useState<string | null>(\n    value?.toString() || null,\n  );\n\n  const handleChange: TextFieldPropOnChange = (value, { e }) => {\n    setCurrentValue(value);\n    if (isValidValue(Number(value), min, max, step)) {\n      onChange?.({ value: Number(value), e });\n    }\n  };\n\n  const commitChange = () => {\n    const validatedValue = getValidValue(Number(currentValue), min, max, step);\n    onChange?.({ value: validatedValue });\n    setCurrentValue(validatedValue.toString());\n  };\n\n  useEffect(() => setCurrentValue(value?.toString() || null), [value]);\n\n  return (\n    <TextField\n      onBlur={commitChange}\n      type=\"number\"\n      min={min}\n      max={max}\n      step={step}\n      size={size}\n      className={cnSliderInput({ size }, [className])}\n      onChange={handleChange}\n      value={currentValue}\n      {...otherProps}\n    />\n  );\n};\n"],"mappings":"+NAAA,0BAEA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,EAAT,0BAEA,OACEC,SADF,iCAKA,OAASC,aAAT,CAAwBC,YAAxB,2BAgBA,GAAMC,cAAa,CAAGJ,EAAE,CAAC,aAAD,CAAxB,CAEA,MAAO,IAAMK,YAAW,CAAG,SAACC,CAAD,CAAkB,IAEzCC,EAFyC,CAUvCD,CAVuC,CAEzCC,KAFyC,CAGzCC,CAHyC,CAUvCF,CAVuC,CAGzCE,QAHyC,GAUvCF,CAVuC,CAIzCG,GAJyC,CAIzCA,CAJyC,YAInC,CAJmC,KAUvCH,CAVuC,CAKzCI,GALyC,CAKzCA,CALyC,YAKnC,GALmC,KAUvCJ,CAVuC,CAMzCK,IANyC,CAMzCA,CANyC,YAMlC,CANkC,KAUvCL,CAVuC,CAOzCM,IAPyC,CAOzCA,CAPyC,YAOlC,GAPkC,GAQzCC,CARyC,CAUvCP,CAVuC,CAQzCO,SARyC,CAStCC,CATsC,0BAUvCR,CAVuC,cAYHP,QAAQ,CAC9C,QAAAQ,CAAK,WAALA,CAAA,QAAAA,CAAK,CAAEQ,QAAP,KAAqB,IADyB,CAZL,uBAYpCC,CAZoC,MAYtBC,CAZsB,MA+B3C,MAFAnB,UAAS,CAAC,iBAAMmB,EAAe,CAAC,QAAAV,CAAK,WAALA,CAAA,QAAAA,CAAK,CAAEQ,QAAP,KAAqB,IAAtB,CAArB,CAAD,CAAmD,CAACR,CAAD,CAAnD,CAET,CACE,oBAAC,SAAD,gBACE,MAAM,CAVW,QAAfW,aAAe,EAAM,CACzB,GAAMC,EAAc,CAAGjB,aAAa,EAAQc,CAAR,CAAuBP,CAAvB,CAA4BC,CAA5B,CAAiCC,CAAjC,CAApC,CADyB,OAEzBH,CAFyB,WAEzBA,CAFyB,QAEzBA,CAAQ,CAAG,CAAED,KAAK,CAAEY,CAAT,CAAH,CAFiB,CAGzBF,CAAe,CAACE,CAAc,CAACJ,QAAf,EAAD,CAChB,CAKC,CAEE,IAAI,CAAC,QAFP,CAGE,GAAG,CAAEN,CAHP,CAIE,GAAG,CAAEC,CAJP,CAKE,IAAI,CAAEC,CALR,CAME,IAAI,CAAEC,CANR,CAOE,SAAS,CAAER,aAAa,CAAC,CAAEQ,IAAI,CAAJA,CAAF,CAAD,CAAW,CAACC,CAAD,CAAX,CAP1B,CAQE,QAAQ,CAxBgC,QAAtCO,aAAsC,CAACb,CAAD,GAAkB,IAARc,EAAQ,GAARA,CAAQ,CAC5DJ,CAAe,CAACV,CAAD,CAD6C,CAExDJ,YAAY,EAAQI,CAAR,CAAgBE,CAAhB,CAAqBC,CAArB,CAA0BC,CAA1B,CAF4C,UAG1DH,CAH0D,WAG1DA,CAH0D,QAG1DA,CAAQ,CAAG,CAAED,KAAK,EAASA,CAAhB,CAAwBc,CAAC,CAADA,CAAxB,CAAH,CAHkD,CAK7D,CAWC,CASE,KAAK,CAAEL,CATT,EAUMF,CAVN,EAaH,CA7CM"}