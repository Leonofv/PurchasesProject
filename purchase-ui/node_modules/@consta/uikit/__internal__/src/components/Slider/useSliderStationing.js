import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{useCallback,useEffect,useMemo,useState}from"react";import{useComponentSize}from"../../hooks/useComponentSize";import{COUNT_STEPS}from"./useSlider/useSlider";export var getSteps=function(a,b,c){var d=[],e=b;if(Array.isArray(a))for(var f=0;f<a.length-1;f++)d.push({min:a[f],max:a[f+1]});else for(var g=b;g<c;g+=a)d.push({min:e,max:e+(c-g<a?c-g:a)}),e+=a;return d};export var useSliderStationing=function(a,b,c,d,e){var f=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,g=6<arguments.length?arguments[6]:void 0,h=7<arguments.length?arguments[7]:void 0,i=useState([]),j=_slicedToArray(i,2),k=j[0],l=j[1],m=useState([]),n=_slicedToArray(m,2),o=n[0],p=n[1],q=useComponentSize(h),r=q.width,s=q.height,t=useMemo(function(){if(!Array.isArray(f)){var a=Math.abs((c-b)/COUNT_STEPS);return a>f?a-a%f:Math.max(a,f)}return f},[c,b,f]),u=function(){var f=[],g=Math.abs(c-b);if("undefined"==typeof a)f.push({width:100,active:!1});else if("default"!==d)"undefined"!=typeof t&&getSteps(t,b,c).forEach(function(b){f.push({width:100*Math.abs(b.max-b.min)/g,active:("number"==typeof a||Array.isArray(a))&&(e&&Array.isArray(a)?b.max>Math.min.apply(Math,_toConsumableArray(a))&&b.min<Math.max.apply(Math,_toConsumableArray(a)):b.max<=a)})});else if(!Array.isArray(a)&&"number"==typeof a)f.push({width:100*(1-(c-a)/g),active:!0}),f.push({width:100*((c-a)/g),active:!1});else if(Array.isArray(a)&&a){var h=[Math.min.apply(Math,_toConsumableArray(a)),Math.max.apply(Math,_toConsumableArray(a))],j=h[0],k=h[1],l=[j,k];l.unshift(b),l.push(c);for(var m=0;m<l.length-1;m++)f.push({width:100*((l[m+1]-l[m])/g),active:l[m]>=j&&l[m+1]<=k})}else f.push({width:100,active:!1});return f},v=function(a){return a<b?b:a>c?c:a},w=useCallback(function(){var d=Math.abs(c-b),e=0,f=[];return g.forEach(function(b,g){b.current&&b.current.offsetWidth&&h.current&&h.current.offsetWidth&&(e=d*b.current.offsetWidth/(2*h.current.offsetWidth)||0),("number"==typeof a||Array.isArray(a))&&f.push("number"==typeof a?100*(1-(c-v(a)+e)/d):100*(1-(c-v(a[g])+e)/d))}),f},[g,h]);return useEffect(function(){l(u()),p(w())},[a,b,c,e,t,d,r,s]),{lineSizes:k,buttonPositions:o}};
//# sourceMappingURL=useSliderStationing.js.map