{"version":3,"file":"SnackBarLine.js","names":["React","useEffect","useState","useTimer","cn","cnTheme","interval","cnSnackBarLine","SnackBarLine","props","running","setRunning","onMount","onTimeIsOver","startTimeprop","startTime","className","endTime","timerType","onTimeOver","time","start","pause","isRunning","progress","color"],"sources":["../../../../../../src/components/SnackBar/SnackBarLine/SnackBarLine.tsx"],"sourcesContent":["import './SnackBarLine.css';\n\nimport React, { useEffect, useState } from 'react';\n\nimport { useTimer } from '../../../hooks/useTimer/useTimer';\nimport { cn } from '../../../utils/bem';\nimport { cnTheme } from '../../Theme/Theme';\nimport { SnackBarTimerProps } from '../types';\n\nconst interval = 1000;\n\nconst cnSnackBarLine = cn('SnackBarLine');\n\nexport const SnackBarLine: React.FC<Omit<SnackBarTimerProps, 'hidden'>> = (\n  props,\n) => {\n  const [running, setRunning] = useState<boolean>(false);\n  const { onMount, onTimeIsOver, startTime: startTimeprop, className } = props;\n  const startTime = startTimeprop * interval;\n  const { time, start, pause, isRunning } = useTimer({\n    endTime: 0,\n    startTime,\n    timerType: 'DECREMENTAL',\n    onTimeOver: onTimeIsOver,\n  });\n\n  useEffect(() => {\n    onMount({ start, pause });\n    start();\n  }, []);\n\n  useEffect(() => {\n    setRunning(isRunning);\n  }, [isRunning]);\n\n  const progress = running\n    ? ((time - interval) / startTime) * 100\n    : (time / startTime) * 100;\n\n  return (\n    <div\n      className={cnSnackBarLine({ running }, [\n        cnTheme({ color: 'gpnDefault' }),\n        className,\n      ])}\n      style={{\n        ['--progress-line-progress' as string]: `-${progress / 2}%`,\n      }}\n    />\n  );\n};\n"],"mappings":"oIAAA,2BAEA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,QAAT,wCACA,OAASC,EAAT,0BACA,OAASC,OAAT,yB,GAGMC,SAAQ,CAAG,G,CAEXC,cAAc,CAAGH,EAAE,CAAC,cAAD,C,CAEzB,MAAO,IAAMI,aAA0D,CAAG,SACxEC,CADwE,CAErE,OAC2BP,QAAQ,IADnC,uBACIQ,CADJ,MACaC,CADb,MAEKC,CAFL,CAEoEH,CAFpE,CAEKG,OAFL,CAEcC,CAFd,CAEoEJ,CAFpE,CAEcI,YAFd,CAEuCC,CAFvC,CAEoEL,CAFpE,CAE4BM,SAF5B,CAEsDC,CAFtD,CAEoEP,CAFpE,CAEsDO,SAFtD,CAGGD,CAAS,CAAGD,CAAa,CAAGR,QAH/B,GAIuCH,QAAQ,CAAC,CACjDc,OAAO,CAAE,CADwC,CAEjDF,SAAS,CAATA,CAFiD,CAGjDG,SAAS,CAAE,aAHsC,CAIjDC,UAAU,CAAEN,CAJqC,CAAD,CAJ/C,CAIKO,CAJL,GAIKA,IAJL,CAIWC,CAJX,GAIWA,KAJX,CAIkBC,CAJlB,GAIkBA,KAJlB,CAIyBC,CAJzB,GAIyBA,SAJzB,CAWHtB,SAAS,CAAC,UAAM,CACdW,CAAO,CAAC,CAAES,KAAK,CAALA,CAAF,CAASC,KAAK,CAALA,CAAT,CAAD,CADO,CAEdD,CAAK,EACN,CAHQ,CAGN,EAHM,CAXN,CAgBHpB,SAAS,CAAC,UAAM,CACdU,CAAU,CAACY,CAAD,CACX,CAFQ,CAEN,CAACA,CAAD,CAFM,CAhBN,CAoBH,GAAMC,EAAQ,CAAGd,CAAO,CACc,GAAlC,EAAC,CAACU,CAAI,CAAGd,QAAR,EAAoBS,CAArB,CADoB,CAEC,GAArB,EAACK,CAAI,CAAGL,CAAR,CAFJ,CAIA,MACE,4BACE,SAAS,CAAER,cAAc,CAAC,CAAEG,OAAO,CAAPA,CAAF,CAAD,CAAc,CACrCL,OAAO,CAAC,CAAEoB,KAAK,CAAE,YAAT,CAAD,CAD8B,CAErCT,CAFqC,CAAd,CAD3B,CAKE,KAAK,oBACF,0BADE,YACyCQ,CAAQ,CAAG,CADpD,MALP,EAUH,CArCM"}