{"version":3,"file":"SnackBarTimer.js","names":["React","useEffect","useState","useTimer","cn","Timer","interval","cnSnackBarTimer","SnackBarTimer","props","running","setRunning","onMount","onTimeIsOver","startTimeprop","startTime","hidden","className","endTime","timerType","onTimeOver","time","start","pause","isRunning","progress","seconds"],"sources":["../../../../../../src/components/SnackBar/SnackBarTimer/SnackBarTimer.tsx"],"sourcesContent":["import './SnackBarTimer.css';\n\nimport React, { useEffect, useState } from 'react';\n\nimport { useTimer } from '../../../hooks/useTimer/useTimer';\nimport { cn } from '../../../utils/bem';\nimport { Timer } from '../../Timer/Timer';\nimport { SnackBarTimerProps } from '../types';\n\nconst interval = 1000;\n\nconst cnSnackBarTimer = cn('SnackBarTimer');\n\nexport const SnackBarTimer: React.FC<SnackBarTimerProps> = (props) => {\n  const [running, setRunning] = useState<boolean>(false);\n  const {\n    onMount,\n    onTimeIsOver,\n    startTime: startTimeprop,\n    hidden,\n    className,\n  } = props;\n  const startTime = startTimeprop * interval;\n  const { time, start, pause, isRunning } = useTimer({\n    endTime: 0,\n    startTime,\n    timerType: 'DECREMENTAL',\n    onTimeOver: onTimeIsOver,\n  });\n\n  useEffect(() => {\n    onMount({ start, pause });\n    start();\n  }, []);\n\n  useEffect(() => {\n    setRunning(isRunning);\n  }, [isRunning]);\n\n  const progress = running\n    ? ((time - interval) / startTime) * 100\n    : (time / startTime) * 100;\n  const seconds = time ? time / interval : 0;\n\n  if (hidden) {\n    return null;\n  }\n\n  return (\n    <Timer\n      className={cnSnackBarTimer(null, [className])}\n      seconds={seconds}\n      progress={progress}\n      size=\"m\"\n      animation\n    />\n  );\n};\n"],"mappings":"iEAAA,4BAEA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,QAAT,wCACA,OAASC,EAAT,0BACA,OAASC,KAAT,yB,GAGMC,SAAQ,CAAG,G,CAEXC,eAAe,CAAGH,EAAE,CAAC,eAAD,C,CAE1B,MAAO,IAAMI,cAA2C,CAAG,SAACC,CAAD,CAAW,OACtCP,QAAQ,IAD8B,uBAC7DQ,CAD6D,MACpDC,CADoD,MAGlEC,CAHkE,CAQhEH,CARgE,CAGlEG,OAHkE,CAIlEC,CAJkE,CAQhEJ,CARgE,CAIlEI,YAJkE,CAKvDC,CALuD,CAQhEL,CARgE,CAKlEM,SALkE,CAMlEC,CANkE,CAQhEP,CARgE,CAMlEO,MANkE,CAOlEC,CAPkE,CAQhER,CARgE,CAOlEQ,SAPkE,CAS9DF,CAAS,CAAGD,CAAa,CAAGR,QATkC,GAU1BH,QAAQ,CAAC,CACjDe,OAAO,CAAE,CADwC,CAEjDH,SAAS,CAATA,CAFiD,CAGjDI,SAAS,CAAE,aAHsC,CAIjDC,UAAU,CAAEP,CAJqC,CAAD,CAVkB,CAU5DQ,CAV4D,GAU5DA,IAV4D,CAUtDC,CAVsD,GAUtDA,KAVsD,CAU/CC,CAV+C,GAU/CA,KAV+C,CAUxCC,CAVwC,GAUxCA,SAVwC,CAiBpEvB,SAAS,CAAC,UAAM,CACdW,CAAO,CAAC,CAAEU,KAAK,CAALA,CAAF,CAASC,KAAK,CAALA,CAAT,CAAD,CADO,CAEdD,CAAK,EACN,CAHQ,CAGN,EAHM,CAjB2D,CAsBpErB,SAAS,CAAC,UAAM,CACdU,CAAU,CAACa,CAAD,CACX,CAFQ,CAEN,CAACA,CAAD,CAFM,CAtB2D,IA0B9DC,EAAQ,CAAGf,CAAO,CACc,GAAlC,EAAC,CAACW,CAAI,CAAGf,QAAR,EAAoBS,CAArB,CADoB,CAEC,GAArB,EAACM,CAAI,CAAGN,CAAR,CA5BgE,CA6B9DW,CAAO,CAAGL,CAAI,CAAGA,CAAI,CAAGf,QAAV,CAAqB,CA7B2B,OA+BhEU,EA/BgE,CAgC3D,IAhC2D,CAoClE,oBAAC,KAAD,EACE,SAAS,CAAET,eAAe,CAAC,IAAD,CAAO,CAACU,CAAD,CAAP,CAD5B,CAEE,OAAO,CAAES,CAFX,CAGE,QAAQ,CAAED,CAHZ,CAIE,IAAI,CAAC,GAJP,CAKE,SAAS,GALX,EAQH,CA5CM"}