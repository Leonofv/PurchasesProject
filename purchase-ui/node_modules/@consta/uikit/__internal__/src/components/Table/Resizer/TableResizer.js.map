{"version":3,"file":"TableResizer.js","names":["React","cn","cnTableResizer","TableResizer","isDragging","setState","document","addEventListener","onMouseMove","onMouseUp","e","movementX","props","onResize","removeListeners","removeEventListener","state","isVisible","height","top","onMouseDown","onDoubleClick","Component"],"sources":["../../../../../../src/components/Table/Resizer/TableResizer.tsx"],"sourcesContent":["import './TableResizer.css';\n\nimport React from 'react';\n\nimport { cn } from '../../../utils/bem';\n\nconst cnTableResizer = cn('TableResizer');\n\ntype Props = {\n  height: number;\n  top: number;\n  isVisible?: boolean;\n  onResize: (delta: number) => void;\n  onDoubleClick: () => void;\n};\n\n/* Сделано классом, чтобы хэндлеры событий на document могли иметь доступ к актуальному стэйту/пропсам без пересоздания подписок */\nexport class TableResizer extends React.Component<\n  Props,\n  { isDragging: boolean }\n> {\n  state = {\n    isDragging: false,\n  };\n\n  componentWillUnmount(): void {\n    this.removeListeners();\n  }\n\n  onMouseDown = (): void => {\n    this.setState({ isDragging: true });\n\n    document.addEventListener('mousemove', this.onMouseMove);\n    document.addEventListener('mouseup', this.onMouseUp);\n  };\n\n  onMouseMove = (e: MouseEvent): void => {\n    if (e.movementX) {\n      this.props.onResize(e.movementX);\n    }\n  };\n\n  onMouseUp = (): void => {\n    this.setState({ isDragging: false });\n\n    this.removeListeners();\n  };\n\n  removeListeners = (): void => {\n    document.removeEventListener('mousemove', this.onMouseMove);\n    document.removeEventListener('mouseup', this.onMouseUp);\n  };\n\n  render(): JSX.Element {\n    return (\n      <div\n        className={cnTableResizer({\n          isDragging: this.state.isDragging,\n          isVisible: this.props.isVisible,\n        })}\n        aria-hidden\n        style={{ height: this.props.height, top: this.props.top }}\n        onMouseDown={this.onMouseDown}\n        onDoubleClick={this.props.onDoubleClick}\n      />\n    );\n  }\n}\n"],"mappings":"+/BAAA,2BAEA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,EAAT,0BAEA,GAAMC,eAAc,CAAGD,EAAE,CAAC,cAAD,CAAzB,CAWA,UAAaE,aAAb,wNAIU,CACNC,UAAU,GADJ,CAJV,0DAYgB,UAAY,CACxB,EAAKC,QAAL,CAAc,CAAED,UAAU,GAAZ,CAAd,CADwB,CAGxBE,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuC,EAAKC,WAA5C,CAHwB,CAIxBF,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqC,EAAKE,SAA1C,CACD,CAjBH,0DAmBgB,SAACC,CAAD,CAAyB,CACjCA,CAAC,CAACC,SAD+B,EAEnC,EAAKC,KAAL,CAAWC,QAAX,CAAoBH,CAAC,CAACC,SAAtB,CAEH,CAvBH,wDAyBc,UAAY,CACtB,EAAKN,QAAL,CAAc,CAAED,UAAU,GAAZ,CAAd,CADsB,CAGtB,EAAKU,eAAL,EACD,CA7BH,8DA+BoB,UAAY,CAC5BR,QAAQ,CAACS,mBAAT,CAA6B,WAA7B,CAA0C,EAAKP,WAA/C,CAD4B,CAE5BF,QAAQ,CAACS,mBAAT,CAA6B,SAA7B,CAAwC,EAAKN,SAA7C,CACD,CAlCH,kGAQE,+BAA6B,CAC3B,KAAKK,eAAL,EACD,CAVH,sBAoCE,iBAAsB,CACpB,MACE,4BACE,SAAS,CAAEZ,cAAc,CAAC,CACxBE,UAAU,CAAE,KAAKY,KAAL,CAAWZ,UADC,CAExBa,SAAS,CAAE,KAAKL,KAAL,CAAWK,SAFE,CAAD,CAD3B,CAKE,gBALF,CAME,KAAK,CAAE,CAAEC,MAAM,CAAE,KAAKN,KAAL,CAAWM,MAArB,CAA6BC,GAAG,CAAE,KAAKP,KAAL,CAAWO,GAA7C,CANT,CAOE,WAAW,CAAE,KAAKC,WAPpB,CAQE,aAAa,CAAE,KAAKR,KAAL,CAAWS,aAR5B,EAWH,CAjDH,OAAkCrB,KAAK,CAACsB,SAAxC"}