{"version":3,"file":"TableSelectedOptionsList.js","names":["IconClose","React","cn","isNotNil","isNumber","Button","Tag","cnTableSelectedOptionsList","getTagLabelDefault","id","name","filterValue","localFilterValue","restName","Array","isArray","map","join","min","max","TableSelectedOptionsList","values","onRemove","onReset","getTagLabel","option","value"],"sources":["../../../../../../src/components/Table/SelectedOptionsList/TableSelectedOptionsList.tsx"],"sourcesContent":["import './TableSelectedOptionsList.css';\n\nimport { IconClose } from '@consta/icons/IconClose';\nimport React from 'react';\n\nimport { cn } from '../../../utils/bem';\nimport { isNotNil, isNumber } from '../../../utils/type-guards';\nimport { Button } from '../../Button/Button';\nimport { Tag } from '../../Tag/Tag';\n\nconst cnTableSelectedOptionsList = cn('TableSelectedOptionsList');\n\ntype OptionValue = {\n  min?: string;\n  max?: string;\n} & Array<{\n  name: string;\n  value: string | number;\n}> & {\n    name: string;\n    value: string | number;\n  };\n\nexport type GetTagLabel = (\n  id: string,\n  name: string,\n  filterValue?: unknown,\n) => string;\n\ntype Props = {\n  values: Array<{ id: string; name: string; value?: unknown }>;\n  getTagLabel?: GetTagLabel;\n  onRemove: (id: string) => void;\n  onReset: () => void;\n};\n\nconst getTagLabelDefault: GetTagLabel = (\n  id,\n  name,\n  filterValue?: unknown,\n): string => {\n  const localFilterValue = (\n    isNumber(filterValue) ? { name: String(filterValue) } : filterValue\n  ) as OptionValue;\n  if (!isNotNil(localFilterValue)) {\n    return name;\n  }\n\n  let restName = '';\n  if (Array.isArray(localFilterValue)) {\n    restName = localFilterValue.map(({ name }) => name).join(', ');\n  }\n\n  if (localFilterValue.min && localFilterValue.max) {\n    restName = `от ${localFilterValue.min} до ${localFilterValue.max}`;\n  } else if (localFilterValue.min) {\n    restName = `от ${localFilterValue.min}`;\n  } else if (localFilterValue.max) {\n    restName = `до ${localFilterValue.max}`;\n  }\n\n  if (localFilterValue.name) {\n    restName = `${localFilterValue.name}`;\n  }\n\n  return name + restName;\n};\n\nexport const TableSelectedOptionsList: React.FC<Props> = ({\n  values,\n  onRemove,\n  onReset,\n  getTagLabel = getTagLabelDefault,\n}) => {\n  return (\n    <div className={cnTableSelectedOptionsList()}>\n      <div className={cnTableSelectedOptionsList('Options')}>\n        {values.map((option) => (\n          <Tag\n            className={cnTableSelectedOptionsList('Option')}\n            key={option.id}\n            label={getTagLabel(option.id, option.name, option.value)}\n            size=\"xs\"\n            mode=\"cancel\"\n            onCancel={(): void => onRemove(option.id)}\n          />\n        ))}\n      </div>\n      <Button\n        type=\"button\"\n        onClick={onReset}\n        title=\"Сбросить все фильтры\"\n        size=\"xs\"\n        view=\"clear\"\n        onlyIcon\n        iconLeft={IconClose}\n        className={cnTableSelectedOptionsList('Button')}\n      />\n    </div>\n  );\n};\n"],"mappings":"AAAA,uCAEA,OAASA,SAAT,KAA0B,yBAA1B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,OAASC,EAAT,0BACA,OAASC,QAAT,CAAmBC,QAAnB,kCACA,OAASC,MAAT,2BACA,OAASC,GAAT,qB,GAEMC,2BAA0B,CAAGL,EAAE,CAAC,0BAAD,C,CA0B/BM,kBAA+B,CAAG,SACtCC,CADsC,CAEtCC,CAFsC,CAGtCC,CAHsC,CAI3B,CACX,GAAMC,EAAgB,CACpBR,QAAQ,CAACO,CAAD,CAAR,CAAwB,CAAED,IAAI,CAASC,CAAT,GAAN,CAAxB,CAAwDA,CAD1D,CAGA,GAAI,CAACR,QAAQ,CAACS,CAAD,CAAb,CACE,MAAOF,EAAP,CAGF,GAAIG,EAAQ,CAAG,EAAf,CAiBA,MAhBIC,MAAK,CAACC,OAAN,CAAcH,CAAd,CAgBJ,GAfEC,CAAQ,CAAGD,CAAgB,CAACI,GAAjB,CAAqB,eAAGN,EAAH,GAAGA,IAAH,OAAcA,EAAd,CAArB,EAAyCO,IAAzC,CAA8C,IAA9C,CAeb,EAZIL,CAAgB,CAACM,GAAjB,EAAwBN,CAAgB,CAACO,GAY7C,CAXEN,CAAQ,wBAASD,CAAgB,CAACM,GAA1B,0BAAoCN,CAAgB,CAACO,GAArD,CAWV,CAVWP,CAAgB,CAACM,GAU5B,CATEL,CAAQ,wBAASD,CAAgB,CAACM,GAA1B,CASV,CARWN,CAAgB,CAACO,GAQ5B,GAPEN,CAAQ,wBAASD,CAAgB,CAACO,GAA1B,CAOV,EAJIP,CAAgB,CAACF,IAIrB,GAHEG,CAAQ,WAAMD,CAAgB,CAACF,IAAvB,CAGV,EAAOA,CAAI,CAAGG,CACf,C,CAED,MAAO,IAAMO,yBAAyC,CAAG,WAKnD,IAJJC,EAII,GAJJA,MAII,CAHJC,CAGI,GAHJA,QAGI,CAFJC,CAEI,GAFJA,OAEI,KADJC,WACI,CADJA,CACI,YADUhB,kBACV,GACJ,MACE,4BAAK,SAAS,CAAED,0BAA0B,EAA1C,EACE,2BAAK,SAAS,CAAEA,0BAA0B,CAAC,SAAD,CAA1C,EACGc,CAAM,CAACL,GAAP,CAAW,SAACS,CAAD,QACV,qBAAC,GAAD,EACE,SAAS,CAAElB,0BAA0B,CAAC,QAAD,CADvC,CAEE,GAAG,CAAEkB,CAAM,CAAChB,EAFd,CAGE,KAAK,CAAEe,CAAW,CAACC,CAAM,CAAChB,EAAR,CAAYgB,CAAM,CAACf,IAAnB,CAAyBe,CAAM,CAACC,KAAhC,CAHpB,CAIE,IAAI,CAAC,IAJP,CAKE,IAAI,CAAC,QALP,CAME,QAAQ,CAAE,0BAAYJ,EAAQ,CAACG,CAAM,CAAChB,EAAR,CAApB,CANZ,EADU,CAAX,CADH,CADF,CAaE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAEc,CAFX,CAGE,KAAK,CAAC,gHAHR,CAIE,IAAI,CAAC,IAJP,CAKE,IAAI,CAAC,OALP,CAME,QAAQ,GANV,CAOE,QAAQ,CAAEvB,SAPZ,CAQE,SAAS,CAAEO,0BAA0B,CAAC,QAAD,CARvC,EAbF,CAyBH,CAhCM"}