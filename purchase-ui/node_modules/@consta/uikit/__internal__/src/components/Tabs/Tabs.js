import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["item","attributes","as"],_excluded2=["size","className","items","view","value","linePosition","fitMode","withScrollButtons","onlyIcon","getItemIcon","getItemAs","getItemAttributes","getItemRef","getItemLabel","onChange","iconSize","renderItem","getItemLeftIcon","getItemLeftSide","getItemRightIcon","getItemRightSide","getItemDisabled","disabled"];import"./Tabs.css";import React,{forwardRef}from"react";import{useRefs}from"../../hooks/useRefs";import{cnMixScrollBar}from"../../mixs/MixScrollBar";import{useChoiceGroup}from"../../hooks/useChoiceGroup/useChoiceGroup";import{useResizeObserved}from"../../hooks/useResizeObserved/useResizeObserved";import{cn}from"../../utils/bem";import{getTabsDirection,getTabsWrapper,withDefaultGetters}from"./helpers";import{TabsBorderLine,TabsRunningLine}from"./TabsLine/TabsLine";import{TabsTab}from"./TabsTab/TabsTab";import{tabsDefaultFitMode,tabsDefaultLinePosition,tabsDefaultSize,tabsDefaultView}from"./types";export var cnTabs=cn("Tabs");function renderItemDefault(a){var b=a.item,c=a.attributes,d=void 0===c?{}:c,e=a.as,f=_objectWithoutProperties(a,_excluded);return React.createElement(TabsTab,Object.assign({},d,f,{as:e}))}var TabsRender=function(a,b){var c=withDefaultGetters(a),d=c.size,e=void 0===d?tabsDefaultSize:d,f=c.className,g=c.items,h=c.view,i=void 0===h?tabsDefaultView:h,j=c.value,k=c.linePosition,l=void 0===k?tabsDefaultLinePosition:k,m=c.fitMode,n=void 0===m?tabsDefaultFitMode:m,o=c.withScrollButtons,p=c.onlyIcon,q=c.getItemIcon,r=c.getItemAs,s=c.getItemAttributes,t=c.getItemRef,u=c.getItemLabel,v=c.onChange,w=c.iconSize,x=c.renderItem,y=void 0===x?renderItemDefault:x,z=c.getItemLeftIcon,A=c.getItemLeftSide,B=c.getItemRightIcon,C=c.getItemRightSide,D=c.getItemDisabled,E=c.disabled,F=_objectWithoutProperties(c,_excluded2),G=useChoiceGroup({value:j||null,getKey:u,callBack:v,multiple:!1}),H=G.getOnChange,I=G.getChecked,J=getTabsDirection(l),K="vertical"===J,L=useRefs(g.length,[g.length,n,K]),M=useResizeObserved(L,function(a){var b;return{size:null!==(b=null===a||void 0===a?void 0:a[K?"offsetHeight":"offsetWidth"])&&void 0!==b?b:0,gap:a?parseInt(getComputedStyle(a)[K?"marginBottom":"marginRight"],10):0}}),N=g.findIndex(I),O=function(a,b,c){return y({item:a,onChange:function(){null===b||void 0===b?void 0:b(),H(a).apply(void 0,arguments)},checked:I(a),label:u(a).toString(),icon:q(a),leftIcon:z(a),rightIcon:B(a),leftSide:A(a),rightSide:C(a),disabled:E||D(a),onlyIcon:p,size:e,iconSize:w,renderInDropdown:c,as:r(a)||"button",tabRef:t(a),attributes:s(a)})},P=getTabsWrapper(J,n);return g.length?React.createElement("div",Object.assign({className:cnTabs({size:e,view:i,direction:J},[f,cnMixScrollBar({invisible:!0})]),ref:b},F),React.createElement(P,{tabRefs:L,onChange:v,tabsDimensions:M,renderItem:O,renderItemsList:function renderItemsList(a){var b=a.withRunningLine,c=a.visibleIndexes,d=a.getTabClassName;return React.createElement("div",{className:cnTabs("List",{direction:J,linePosition:l})},g.map(function(a,b){return React.createElement("div",{ref:L[b],key:u(a),className:cnTabs("Tab",{direction:J},[null===d||void 0===d?void 0:d(b)])},O(a))}),(!(void 0!==b)||b)&&!E&&React.createElement(TabsRunningLine,{visibleIndexes:c,linePosition:l,tabsDimensions:M,activeTabIdx:N}))},getItemLabel:u,getItemChecked:I,items:g,size:e,withScrollButtons:!(void 0!==o)||o}),"bordered"===i&&React.createElement(TabsBorderLine,{linePosition:l})):null};export var Tabs=forwardRef(TabsRender);export*from"./types";
//# sourceMappingURL=Tabs.js.map