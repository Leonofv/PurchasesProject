{"version":3,"file":"Theme.js","names":["React","createContext","useContext","useMemo","cn","presetGpnDefault","presetGpnDark","presetGpnDisplay","cnTheme","generateThemeClassNames","preset","color","primary","accent","invert","control","font","size","space","shadow","generateDeps","deps","Object","keys","map","key","defaultContextValue","theme","themeClassNames","ThemeContext","Theme","forwardRef","props","ref","className","children","otherProps","value","mods","useTheme"],"sources":["../../../../../src/components/Theme/Theme.tsx"],"sourcesContent":["import React, { createContext, useContext, useMemo } from 'react';\n\nimport { cn } from '../../utils/bem';\nimport { PropsWithHTMLAttributes } from '../../utils/types/PropsWithHTMLAttributes';\nimport { presetGpnDefault } from './presets/presetGpnDefault';\n\nexport { presetGpnDefault } from './presets/presetGpnDefault';\nexport { presetGpnDark } from './presets/presetGpnDark';\nexport { presetGpnDisplay } from './presets/presetGpnDisplay';\n\nexport type ThemePreset = {\n  color: {\n    primary: string;\n    accent: string;\n    invert: string;\n  };\n  control: string;\n  font: string;\n  size: string;\n  space: string;\n  shadow: string;\n};\n\ntype Props = {\n  preset: ThemePreset;\n};\n\nexport type ThemeProps = PropsWithHTMLAttributes<Props, HTMLDivElement>;\n\nexport const cnTheme = cn('Theme');\n\nexport const generateThemeClassNames = (preset: ThemePreset): ThemePreset => {\n  return {\n    color: {\n      primary: cnTheme({ color: preset.color.primary }),\n      accent: cnTheme({ color: preset.color.accent }),\n      invert: cnTheme({ color: preset.color.invert }),\n    },\n    control: cnTheme({ control: preset.control }),\n    font: cnTheme({ font: preset.font }),\n    size: cnTheme({ size: preset.size }),\n    space: cnTheme({ space: preset.space }),\n    shadow: cnTheme({ shadow: preset.shadow }),\n  };\n};\n\nexport const generateDeps = (preset: ThemePreset) => {\n  let deps = '';\n  Object.keys(preset).map((key) => {\n    if (key === 'color') {\n      deps += preset.color.accent + preset.color.invert + preset.color.primary;\n    } else {\n      deps += preset[key as unknown as keyof ThemePreset];\n    }\n  });\n  return deps;\n};\n\nconst defaultContextValue = {\n  theme: presetGpnDefault,\n  themeClassNames: generateThemeClassNames(presetGpnDefault),\n};\n\nexport const ThemeContext = createContext<{\n  theme: ThemePreset;\n  themeClassNames: ThemePreset;\n}>(defaultContextValue);\n\nexport const Theme = React.forwardRef<HTMLDivElement, ThemeProps>(\n  (props, ref) => {\n    const { className, children, preset, ...otherProps } = props;\n\n    const [value, mods] = useMemo(() => {\n      return [\n        { theme: preset, themeClassNames: generateThemeClassNames(preset) },\n        {\n          ...preset,\n          color: preset.color.primary,\n        },\n      ];\n    }, [generateDeps(preset)]);\n\n    return (\n      <ThemeContext.Provider value={value}>\n        <div {...otherProps} ref={ref} className={cnTheme(mods, [className])}>\n          {children}\n        </div>\n      </ThemeContext.Provider>\n    );\n  },\n);\n\nexport function useTheme() {\n  return useContext(ThemeContext);\n}\n"],"mappings":"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"}