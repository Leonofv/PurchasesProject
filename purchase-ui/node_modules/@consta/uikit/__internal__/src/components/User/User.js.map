{"version":3,"file":"User.js","names":["IconSelect","React","cnMixSpace","cn","getByMap","forwardRefWithAs","Avatar","Button","Text","userPropSize","userPropSizeDefault","userPropView","userPropViewDefault","userPropWidth","userPropWidthDefault","userPropStatus","cnUser","infoSizeMap","s","m","l","iconSizeMap","avatarSizeMap","buttonSizeMap","nameSizeMap","nameOffsetMap","User","props","ref","as","className","size","avatarUrl","name","view","width","propOnlyAvatar","onlyAvatar","withArrow","iconRight","onIconRightClick","info","status","otherProps","IconRight","minified","mB"],"sources":["../../../../../src/components/User/User.tsx"],"sourcesContent":["import './User.css';\n\nimport { IconComponent, IconPropSize } from '@consta/icons/Icon';\nimport { IconSelect } from '@consta/icons/IconSelect';\nimport React from 'react';\n\nimport { cnMixSpace, Space } from '##/mixs/MixSpace';\n\nimport { cn } from '../../utils/bem';\nimport { getByMap } from '../../utils/getByMap';\nimport { forwardRefWithAs } from '../../utils/types/PropsWithAsAttributes';\nimport { Avatar } from '../Avatar/Avatar';\nimport { Button, ButtonPropSize } from '../Button/Button';\nimport { Text, TextPropSize } from '../Text/Text';\n\nexport const userPropSize = ['m', 's', 'l'] as const;\nexport type UserPropSize = typeof userPropSize[number];\nexport const userPropSizeDefault: UserPropSize = userPropSize[0];\n\nexport const userPropView = ['clear', 'ghost'] as const;\nexport type UserPropView = typeof userPropView[number];\nexport const userPropViewDefault: UserPropView = userPropView[0];\n\nexport const userPropWidth = ['default', 'full'] as const;\nexport type UserPropWidth = typeof userPropWidth[number];\nexport const userPropWidthDefault: UserPropWidth = userPropWidth[0];\n\nexport const userPropStatus = ['available', 'remote', 'out'] as const;\nexport type UserPropStatus = typeof userPropStatus[number];\n\ntype Props = {\n  avatarUrl?: string;\n  name?: string;\n  size?: UserPropSize;\n  view?: UserPropView;\n  width?: UserPropWidth;\n  status?: UserPropStatus;\n  onlyAvatar?: boolean;\n  info?: string;\n  children?: never;\n} & (\n  | {\n      withArrow?: boolean;\n      iconRight?: never;\n      onIconRightClick?: never;\n    }\n  | {\n      withArrow?: never;\n      iconRight?: IconComponent;\n      onIconRightClick?: (e: React.SyntheticEvent) => void;\n    }\n);\n\nexport const cnUser = cn('User');\n\nconst infoSizeMap: Record<UserPropSize, TextPropSize> = {\n  s: '2xs',\n  m: '2xs',\n  l: 'xs',\n};\n\nconst iconSizeMap: Record<UserPropSize, IconPropSize> = {\n  s: 'xs',\n  m: 'xs',\n  l: 's',\n};\n\nconst avatarSizeMap: Record<UserPropSize, IconPropSize> = {\n  s: 'xs',\n  m: 's',\n  l: 'm',\n};\n\nconst buttonSizeMap: Record<UserPropSize, ButtonPropSize> = {\n  s: 'xs',\n  m: 'xs',\n  l: 's',\n};\n\nconst nameSizeMap: Record<UserPropSize, TextPropSize> = {\n  s: 'xs',\n  m: 's',\n  l: 'm',\n};\n\nconst nameOffsetMap: Record<UserPropSize, Space> = {\n  s: 0,\n  m: '3xs',\n  l: '2xs',\n};\n\nexport const User = forwardRefWithAs<Props>((props, ref) => {\n  const {\n    as = 'div',\n    className,\n    size = userPropSizeDefault,\n    avatarUrl,\n    name,\n    view = userPropViewDefault,\n    width = userPropWidthDefault,\n    onlyAvatar: propOnlyAvatar,\n    withArrow,\n    iconRight,\n    onIconRightClick,\n    info,\n    status,\n    ...otherProps\n  } = props;\n  const Tag = as as string;\n  const onlyAvatar = propOnlyAvatar || (!name && !info);\n  const IconRight = iconRight;\n\n  return (\n    <Tag\n      {...otherProps}\n      className={cnUser(\n        { size, view, width, withArrow, minified: onlyAvatar },\n        [className],\n      )}\n      ref={ref}\n    >\n      <div className={cnUser('AvatarWrapper', { status })}>\n        <Avatar\n          size={getByMap(avatarSizeMap, size)}\n          url={avatarUrl}\n          name={name}\n        />\n      </div>\n      {!onlyAvatar && (name || info) && (\n        <div className={cnUser('Block')}>\n          {name && (\n            <Text\n              className={cnUser('Name', [\n                cnMixSpace({ mB: nameOffsetMap[size] }),\n              ])}\n              size={nameSizeMap[size]}\n              view=\"primary\"\n              lineHeight=\"2xs\"\n            >\n              {name}\n            </Text>\n          )}\n          {info && size !== 's' && (\n            <Text\n              className={cnUser('Info')}\n              size={getByMap(infoSizeMap, size)}\n              view=\"secondary\"\n              lineHeight=\"2xs\"\n            >\n              {info}\n            </Text>\n          )}\n        </div>\n      )}\n      {withArrow && (\n        <IconSelect\n          className={cnUser('Icon')}\n          size={getByMap(iconSizeMap, size)}\n          view=\"secondary\"\n        />\n      )}\n      {IconRight && !onIconRightClick && (\n        <IconRight\n          className={cnUser('Icon')}\n          size={getByMap(iconSizeMap, size)}\n          view=\"secondary\"\n        />\n      )}\n      {IconRight && onIconRightClick && (\n        <Button\n          className={cnUser('IconRightButton')}\n          onClick={onIconRightClick}\n          iconRight={IconRight}\n          onlyIcon\n          type=\"button\"\n          view=\"clear\"\n          size={getByMap(buttonSizeMap, size)}\n          form=\"round\"\n        />\n      )}\n    </Tag>\n  );\n});\n"],"mappings":"uOAAA,mBAGA,OAASA,UAAT,KAA2B,0BAA3B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,OAASC,UAAT,2BAEA,OAASC,EAAT,uBACA,OAASC,QAAT,4BACA,OAASC,gBAAT,+CACA,OAASC,MAAT,wBACA,OAASC,MAAT,wBACA,OAASC,IAAT,oBAEA,MAAO,IAAMC,aAAY,CAAG,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAArB,CAEP,MAAO,IAAMC,oBAAiC,CAAGD,YAAY,CAAC,CAAD,CAAtD,CAEP,MAAO,IAAME,aAAY,CAAG,CAAC,OAAD,CAAU,OAAV,CAArB,CAEP,MAAO,IAAMC,oBAAiC,CAAGD,YAAY,CAAC,CAAD,CAAtD,CAEP,MAAO,IAAME,cAAa,CAAG,CAAC,SAAD,CAAY,MAAZ,CAAtB,CAEP,MAAO,IAAMC,qBAAmC,CAAGD,aAAa,CAAC,CAAD,CAAzD,CAEP,MAAO,IAAME,eAAc,CAAG,CAAC,WAAD,CAAc,QAAd,CAAwB,KAAxB,CAAvB,CA0BP,MAAO,IAAMC,OAAM,CAAGb,EAAE,CAAC,MAAD,CAAjB,C,GAEDc,YAA+C,CAAG,CACtDC,CAAC,CAAE,KADmD,CAEtDC,CAAC,CAAE,KAFmD,CAGtDC,CAAC,CAAE,IAHmD,C,CAMlDC,WAA+C,CAAG,CACtDH,CAAC,CAAE,IADmD,CAEtDC,CAAC,CAAE,IAFmD,CAGtDC,CAAC,CAAE,GAHmD,C,CAMlDE,aAAiD,CAAG,CACxDJ,CAAC,CAAE,IADqD,CAExDC,CAAC,CAAE,GAFqD,CAGxDC,CAAC,CAAE,GAHqD,C,CAMpDG,aAAmD,CAAG,CAC1DL,CAAC,CAAE,IADuD,CAE1DC,CAAC,CAAE,IAFuD,CAG1DC,CAAC,CAAE,GAHuD,C,CAMtDI,WAA+C,CAAG,CACtDN,CAAC,CAAE,IADmD,CAEtDC,CAAC,CAAE,GAFmD,CAGtDC,CAAC,CAAE,GAHmD,C,CAMlDK,aAA0C,CAAG,CACjDP,CAAC,CAAE,CAD8C,CAEjDC,CAAC,CAAE,KAF8C,CAGjDC,CAAC,CAAE,KAH8C,C,CAMnD,MAAO,IAAMM,KAAI,CAAGrB,gBAAgB,CAAQ,SAACsB,CAAD,CAAQC,CAAR,CAAgB,OAgBtDD,CAhBsD,CAExDE,EAFwD,CAExDA,CAFwD,YAEnD,KAFmD,GAGxDC,CAHwD,CAgBtDH,CAhBsD,CAGxDG,SAHwD,GAgBtDH,CAhBsD,CAIxDI,IAJwD,CAIxDA,CAJwD,YAIjDrB,mBAJiD,GAKxDsB,CALwD,CAgBtDL,CAhBsD,CAKxDK,SALwD,CAMxDC,CANwD,CAgBtDN,CAhBsD,CAMxDM,IANwD,GAgBtDN,CAhBsD,CAOxDO,IAPwD,CAOxDA,CAPwD,YAOjDtB,mBAPiD,KAgBtDe,CAhBsD,CAQxDQ,KARwD,CAQxDA,CARwD,YAQhDrB,oBARgD,GAS5CsB,CAT4C,CAgBtDT,CAhBsD,CASxDU,UATwD,CAUxDC,CAVwD,CAgBtDX,CAhBsD,CAUxDW,SAVwD,CAWxDC,CAXwD,CAgBtDZ,CAhBsD,CAWxDY,SAXwD,CAYxDC,CAZwD,CAgBtDb,CAhBsD,CAYxDa,gBAZwD,CAaxDC,CAbwD,CAgBtDd,CAhBsD,CAaxDc,IAbwD,CAcxDC,CAdwD,CAgBtDf,CAhBsD,CAcxDe,MAdwD,CAerDC,CAfqD,0BAgBtDhB,CAhBsD,YAkBpDU,CAAU,CAAGD,CAAc,EAAK,CAACH,CAAD,EAAS,CAACQ,CAlBU,CAmBpDG,CAAS,CAAGL,CAnBwC,CAqB1D,MACE,qBALUV,CAKV,kBACMc,CADN,EAEE,SAAS,CAAE3B,MAAM,CACf,CAAEe,IAAI,CAAJA,CAAF,CAAQG,IAAI,CAAJA,CAAR,CAAcC,KAAK,CAALA,CAAd,CAAqBG,SAAS,CAATA,CAArB,CAAgCO,QAAQ,CAAER,CAA1C,CADe,CAEf,CAACP,CAAD,CAFe,CAFnB,CAME,GAAG,CAAEF,CANP,GAQE,2BAAK,SAAS,CAAEZ,MAAM,CAAC,eAAD,CAAkB,CAAE0B,MAAM,CAANA,CAAF,CAAlB,CAAtB,EACE,oBAAC,MAAD,EACE,IAAI,CAAEtC,QAAQ,CAACkB,aAAD,CAAgBS,CAAhB,CADhB,CAEE,GAAG,CAAEC,CAFP,CAGE,IAAI,CAAEC,CAHR,EADF,CARF,CAeG,CAACI,CAAD,GAAgBJ,CAAI,EAAIQ,CAAxB,GACC,2BAAK,SAAS,CAAEzB,MAAM,CAAC,OAAD,CAAtB,EACGiB,CAAI,EACH,oBAAC,IAAD,EACE,SAAS,CAAEjB,MAAM,CAAC,MAAD,CAAS,CACxBd,UAAU,CAAC,CAAE4C,EAAE,CAAErB,aAAa,CAACM,CAAD,CAAnB,CAAD,CADc,CAAT,CADnB,CAIE,IAAI,CAAEP,WAAW,CAACO,CAAD,CAJnB,CAKE,IAAI,CAAC,SALP,CAME,UAAU,CAAC,KANb,EAQGE,CARH,CAFJ,CAaGQ,CAAI,EAAa,GAAT,GAAAV,CAAR,EACC,oBAAC,IAAD,EACE,SAAS,CAAEf,MAAM,CAAC,MAAD,CADnB,CAEE,IAAI,CAAEZ,QAAQ,CAACa,WAAD,CAAcc,CAAd,CAFhB,CAGE,IAAI,CAAC,WAHP,CAIE,UAAU,CAAC,KAJb,EAMGU,CANH,CAdJ,CAhBJ,CAyCGH,CAAS,EACR,oBAAC,UAAD,EACE,SAAS,CAAEtB,MAAM,CAAC,MAAD,CADnB,CAEE,IAAI,CAAEZ,QAAQ,CAACiB,WAAD,CAAcU,CAAd,CAFhB,CAGE,IAAI,CAAC,WAHP,EA1CJ,CAgDGa,CAAS,EAAI,CAACJ,CAAd,EACC,oBAAC,CAAD,EACE,SAAS,CAAExB,MAAM,CAAC,MAAD,CADnB,CAEE,IAAI,CAAEZ,QAAQ,CAACiB,WAAD,CAAcU,CAAd,CAFhB,CAGE,IAAI,CAAC,WAHP,EAjDJ,CAuDGa,CAAS,EAAIJ,CAAb,EACC,oBAAC,MAAD,EACE,SAAS,CAAExB,MAAM,CAAC,iBAAD,CADnB,CAEE,OAAO,CAAEwB,CAFX,CAGE,SAAS,CAAEI,CAHb,CAIE,QAAQ,GAJV,CAKE,IAAI,CAAC,QALP,CAME,IAAI,CAAC,OANP,CAOE,IAAI,CAAExC,QAAQ,CAACmB,aAAD,CAAgBQ,CAAhB,CAPhB,CAQE,IAAI,CAAC,OARP,EAxDJ,CAqEH,CA3FmC,CAA7B"}