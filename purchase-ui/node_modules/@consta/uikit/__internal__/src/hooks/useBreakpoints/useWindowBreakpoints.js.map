{"version":3,"file":"useWindowBreakpoints.js","names":["useCallback","useEffect","useState","useMutableRef","isEq","mapping","useWindowBreakpoints","isActive","map","mapRef","mappingRun","window","innerWidth","current","points","setPoints","subscribe","newPoints","state","addEventListener","removeEventListener"],"sources":["../../../../../src/hooks/useBreakpoints/useWindowBreakpoints.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\n\nimport { useMutableRef } from '##/hooks/useMutableRef';\nimport { isEq } from '##/utils/object';\n\nimport { mapping } from './mapping';\nimport { Map, Returned } from './types';\n\nexport const useWindowBreakpoints = <POINTS extends string>({\n  isActive,\n  map,\n}: {\n  isActive?: boolean;\n  map: Map<POINTS>;\n}) => {\n  const mapRef = useMutableRef(map);\n  const mappingRun = useCallback(\n    () => mapping(window.innerWidth, mapRef.current),\n    [],\n  );\n  const [points, setPoints] = useState<Returned<POINTS>>(mappingRun);\n\n  useEffect(() => {\n    mappingRun();\n\n    const subscribe = () => {\n      const newPoints = mappingRun();\n\n      setPoints((state) => (isEq(state, newPoints) ? state : newPoints));\n    };\n\n    isActive && window.addEventListener('resize', subscribe);\n\n    return () => window.removeEventListener('resize', subscribe);\n  }, [isActive]);\n\n  return points;\n};\n"],"mappings":"iEAAA,OAASA,WAAT,CAAsBC,SAAtB,CAAiCC,QAAjC,KAAiD,OAAjD,CAEA,OAASC,aAAT,wBACA,OAASC,IAAT,0BAEA,OAASC,OAAT,iBAGA,MAAO,IAAMC,qBAAoB,CAAG,WAM9B,IALJC,EAKI,GALJA,QAKI,CAJJC,CAII,GAJJA,GAII,CACEC,CAAM,CAAGN,aAAa,CAACK,CAAD,CADxB,CAEEE,CAAU,CAAGV,WAAW,CAC5B,iBAAMK,QAAO,CAACM,MAAM,CAACC,UAAR,CAAoBH,CAAM,CAACI,OAA3B,CAAb,CAD4B,CAE5B,EAF4B,CAF1B,GAMwBX,QAAQ,CAAmBQ,CAAnB,CANhC,uBAMGI,CANH,MAMWC,CANX,MAsBJ,MAdAd,UAAS,CAAC,UAAM,CACdS,CAAU,EADI,CAGd,GAAMM,EAAS,CAAG,UAAM,CACtB,GAAMC,EAAS,CAAGP,CAAU,EAA5B,CAEAK,CAAS,CAAC,SAACG,CAAD,QAAYd,KAAI,CAACc,CAAD,CAAQD,CAAR,CAAJ,CAAyBC,CAAzB,CAAiCD,CAA7C,CAAD,CACV,CAJD,CAQA,MAFAV,EAAQ,EAAII,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,CAAkCH,CAAlC,CAEZ,CAAO,iBAAML,OAAM,CAACS,mBAAP,CAA2B,QAA3B,CAAqCJ,CAArC,CAAN,CACR,CAZQ,CAYN,CAACT,CAAD,CAZM,CAcT,CAAOO,CACR,CA7BM"}