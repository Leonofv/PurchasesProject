{"version":3,"file":"useChoiceGroupIndexed.js","names":["isMultiple","params","multiple","isNotMultiple","formatValue","value","Array","isArray","useChoiceGroupIndexed","props","getChecked","index","includes","getOnChange","e","newValue","filter","item","length","push","callBack","isNullableValue"],"sources":["../../../../../src/hooks/useChoiceGroupIndexed/useChoiceGroupIndexed.ts"],"sourcesContent":["import React from 'react';\n\ntype ValueMultiple = number[] | null;\ntype ValueNotMultiple<IS_NULLABLE_VALUE> = IS_NULLABLE_VALUE extends true\n  ? number | null\n  : number;\n\nexport type UseChoiceGroupIndexedParams<\n  MULTIPLE extends boolean = false,\n  IS_NULLABLE_VALUE extends boolean = false,\n  EVENT = React.MouseEvent<HTMLDivElement, MouseEvent>,\n> = {\n  value:\n    | (MULTIPLE extends true\n        ? ValueMultiple\n        : ValueNotMultiple<IS_NULLABLE_VALUE>)\n    | undefined;\n  multiple: MULTIPLE;\n  callBack: (\n    value: MULTIPLE extends true\n      ? ValueMultiple\n      : ValueNotMultiple<IS_NULLABLE_VALUE>,\n    props: {\n      e: EVENT;\n    },\n  ) => void;\n  isNullableValue?: IS_NULLABLE_VALUE;\n};\n\nfunction isMultiple<EVENT>(\n  params: UseChoiceGroupIndexedParams<boolean, boolean, EVENT>,\n): params is UseChoiceGroupIndexedParams<true, boolean, EVENT> {\n  return !!params.multiple;\n}\n\nfunction isNotMultiple<EVENT>(\n  params: UseChoiceGroupIndexedParams<boolean, boolean, EVENT>,\n): params is UseChoiceGroupIndexedParams<false, boolean, EVENT> {\n  return !params.multiple;\n}\n\nfunction formatValue(value: number[] | number | null | undefined) {\n  if (Array.isArray(value)) {\n    return value;\n  }\n  if (typeof value === 'number') {\n    return [value];\n  }\n  return [];\n}\n\nexport function useChoiceGroupIndexed<\n  MULTIPLE extends boolean,\n  IS_NULLABLE_VALUE extends boolean,\n  EVENT,\n>(props: UseChoiceGroupIndexedParams<MULTIPLE, IS_NULLABLE_VALUE, EVENT>) {\n  const value = formatValue(props.value);\n\n  const getChecked = (index: number) => value.includes(index);\n\n  const getOnChange = (index: number) => (e: EVENT) => {\n    if (isMultiple(props)) {\n      let newValue: number[] | null;\n      if (getChecked(index)) {\n        newValue = value.filter((item) => item !== index);\n\n        if (newValue.length === 0) {\n          newValue = null;\n        }\n      } else {\n        newValue = [...value];\n        newValue.push(index);\n      }\n      props.callBack(newValue, { e });\n      return;\n    }\n\n    if (isNotMultiple(props)) {\n      if (props.isNullableValue && getChecked(index)) {\n        props.callBack(null, { e });\n      } else {\n        props.callBack(index, { e });\n      }\n    }\n  };\n\n  return { getOnChange, getChecked };\n}\n"],"mappings":"yEA6BA,QAASA,WAAT,CACEC,CADF,CAE+D,CAC7D,MAAO,CAAC,CAACA,CAAM,CAACC,QACjB,CAED,QAASC,cAAT,CACEF,CADF,CAEgE,CAC9D,MAAO,CAACA,CAAM,CAACC,QAChB,CAED,QAASE,YAAT,CAAqBC,CAArB,CAAkE,OAC5DC,MAAK,CAACC,OAAN,CAAcF,CAAd,CAD4D,CAEvDA,CAFuD,CAI3C,QAAjB,QAAOA,EAJqD,CAKvD,CAACA,CAAD,CALuD,CAOzD,EACR,CAED,MAAO,SAASG,sBAAT,CAILC,CAJK,CAImE,IAClEJ,EAAK,CAAGD,WAAW,CAACK,CAAK,CAACJ,KAAP,CAD+C,CAGlEK,CAAU,CAAG,SAACC,CAAD,QAAmBN,EAAK,CAACO,QAAN,CAAeD,CAAf,CAAnB,CAHqD,CA+BxE,MAAO,CAAEE,WAAW,CA1BA,QAAdA,YAAc,CAACF,CAAD,QAAmB,UAACG,CAAD,CAAc,CACnD,GAAId,UAAU,CAACS,CAAD,CAAd,CAAuB,CACrB,GAAIM,EAAJ,CAYA,MAXIL,EAAU,CAACC,CAAD,CAWd,EAVEI,CAAQ,CAAGV,CAAK,CAACW,MAAN,CAAa,SAACC,CAAD,QAAUA,EAAI,GAAKN,CAAnB,CAAb,CAUb,CAR0B,CAApB,GAAAI,CAAQ,CAACG,MAQf,GAPIH,CAAQ,CAAG,IAOf,IAJEA,CAAQ,oBAAOV,CAAP,CAIV,CAHEU,CAAQ,CAACI,IAAT,CAAcR,CAAd,CAGF,MADAF,EAAK,CAACW,QAAN,CAAeL,CAAf,CAAyB,CAAED,CAAC,CAADA,CAAF,CAAzB,CAED,CAEGX,aAAa,CAACM,CAAD,CAjBkC,GAkB7CA,CAAK,CAACY,eAAN,EAAyBX,CAAU,CAACC,CAAD,CAlBU,CAmB/CF,CAAK,CAACW,QAAN,CAAe,IAAf,CAAqB,CAAEN,CAAC,CAADA,CAAF,CAArB,CAnB+C,CAqB/CL,CAAK,CAACW,QAAN,CAAeT,CAAf,CAAsB,CAAEG,CAAC,CAADA,CAAF,CAAtB,CArB+C,CAwBpD,CAxBmB,CA0Bb,CAAeJ,UAAU,CAAVA,CAAf,CACR"}