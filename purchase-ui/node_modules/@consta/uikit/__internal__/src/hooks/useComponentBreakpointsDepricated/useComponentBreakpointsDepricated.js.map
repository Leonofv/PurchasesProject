{"version":3,"file":"useComponentBreakpointsDepricated.js","names":["useLayoutEffect","useState","mapping","useMutableRef","isEq","getWidth","ref","current","getBoundingClientRect","width","useComponentBreakpoints","map","points","setSetPoints","mapRef","resizeObserver","ResizeObserver","newPoints","state","observe","disconnect"],"sources":["../../../../../src/hooks/useComponentBreakpointsDepricated/useComponentBreakpointsDepricated.ts"],"sourcesContent":["import { useLayoutEffect, useState } from 'react';\n\nimport { mapping } from '##/hooks/useBreakpoints/mapping';\nimport { Map, Returned } from '##/hooks/useBreakpoints/types';\nimport { useMutableRef } from '##/hooks/useMutableRef';\nimport { isEq } from '##/utils/object/isEq';\n\nconst getWidth = (ref: React.RefObject<HTMLElement | SVGGraphicsElement>) =>\n  ref.current?.getBoundingClientRect().width || 0;\n\nexport const useComponentBreakpoints = <POINTS extends string>(\n  ref: React.RefObject<HTMLElement | SVGGraphicsElement>,\n  map: Map<POINTS>,\n) => {\n  const [points, setSetPoints] = useState<Returned<POINTS>>(() =>\n    mapping(getWidth(ref), map),\n  );\n\n  const mapRef = useMutableRef(map);\n\n  useLayoutEffect(() => {\n    const resizeObserver = new ResizeObserver(() => {\n      const newPoints = mapping(getWidth(ref), mapRef.current);\n      setSetPoints((state) => (isEq(state, newPoints) ? state : newPoints));\n    });\n\n    ref.current && resizeObserver.observe(ref.current);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [ref.current]);\n\n  return points;\n};\n"],"mappings":"iEAAA,OAASA,eAAT,CAA0BC,QAA1B,KAA0C,OAA1C,CAEA,OAASC,OAAT,iCAEA,OAASC,aAAT,wBACA,OAASC,IAAT,+BAEA,GAAMC,SAAQ,CAAG,SAACC,CAAD,cACf,WAAAA,CAAG,CAACC,OAAJ,uBAAaC,qBAAb,GAAqCC,KAArC,GAA8C,CAD/B,CAAjB,CAGA,MAAO,IAAMC,wBAAuB,CAAG,SACrCJ,CADqC,CAErCK,CAFqC,CAGlC,OAC4BV,QAAQ,CAAmB,iBACxDC,QAAO,CAACG,QAAQ,CAACC,CAAD,CAAT,CAAgBK,CAAhB,CADiD,CAAnB,CADpC,uBACIC,CADJ,MACYC,CADZ,MAKGC,CAAM,CAAGX,aAAa,CAACQ,CAAD,CALzB,CAoBH,MAbAX,gBAAe,CAAC,UAAM,CACpB,GAAMe,EAAc,CAAG,GAAIC,eAAJ,CAAmB,UAAM,CAC9C,GAAMC,EAAS,CAAGf,OAAO,CAACG,QAAQ,CAACC,CAAD,CAAT,CAAgBQ,CAAM,CAACP,OAAvB,CAAzB,CACAM,CAAY,CAAC,SAACK,CAAD,QAAYd,KAAI,CAACc,CAAD,CAAQD,CAAR,CAAJ,CAAyBC,CAAzB,CAAiCD,CAA7C,CAAD,CACb,CAHsB,CAAvB,CAOA,MAFAX,EAAG,CAACC,OAAJ,EAAeQ,CAAc,CAACI,OAAf,CAAuBb,CAAG,CAACC,OAA3B,CAEf,CAAO,UAAM,CACXQ,CAAc,CAACK,UAAf,EACD,CACF,CAXc,CAWZ,CAACd,CAAG,CAACC,OAAL,CAXY,CAaf,CAAOK,CACR,CAxBM"}