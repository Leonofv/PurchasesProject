{"version":3,"file":"useDebounce.js","names":["useCallback","useEffect","useRef","useMutableRef","useDebounce","fn","time","timeoutRef","fnRef","current","clearTimeout","args","setTimeout"],"sources":["../../../../../src/hooks/useDebounce/useDebounce.ts"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\n\nimport { useMutableRef } from '##/hooks/useMutableRef';\n\nexport const useDebounce = <T extends (...args: any) => void>(\n  fn: T,\n  time: number,\n) => {\n  const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const fnRef = useMutableRef(fn);\n\n  useEffect(() => {\n    return (): void => {\n      timeoutRef.current && clearTimeout(timeoutRef.current);\n    };\n  }, [time]);\n\n  return useCallback<T>(\n    ((...args) => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null;\n        if (typeof fnRef.current === 'function') {\n          fnRef.current(...args);\n        }\n      }, time);\n    }) as T,\n    [time],\n  );\n};\n"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,SAAtB,CAAiCC,MAAjC,KAA+C,OAA/C,CAEA,OAASC,aAAT,wBAEA,MAAO,IAAMC,YAAW,CAAG,SACzBC,CADyB,CAEzBC,CAFyB,CAGtB,IACGC,EAAU,CAAGL,MAAM,CAAuC,IAAvC,CADtB,CAEGM,CAAK,CAAGL,aAAa,CAACE,CAAD,CAFxB,CAUH,MANAJ,UAAS,CAAC,UAAM,CACd,MAAO,WAAY,CACjBM,CAAU,CAACE,OAAX,EAAsBC,YAAY,CAACH,CAAU,CAACE,OAAZ,CACnC,CACF,CAJQ,CAIN,CAACH,CAAD,CAJM,CAMT,CAAON,WAAW,CACf,UAAa,4BAATW,CAAS,sBAATA,CAAS,iBACRJ,CAAU,CAACE,OADH,EAEVC,YAAY,CAACH,CAAU,CAACE,OAAZ,CAFF,CAKZF,CAAU,CAACE,OAAX,CAAqBG,UAAU,CAAC,UAAM,CACpCL,CAAU,CAACE,OAAX,CAAqB,IADe,CAEP,UAAzB,QAAOD,EAAK,CAACC,OAFmB,EAGlCD,CAAK,CAACC,OAAN,OAAAD,CAAK,CAAYG,CAAZ,CAER,CAL8B,CAK5BL,CAL4B,CAMhC,CAZe,CAahB,CAACA,CAAD,CAbgB,CAenB,CA5BM"}