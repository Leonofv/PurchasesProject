{"version":3,"file":"useHideElementsInLineDepricated.js","names":["useRef","useComponentSize","useRefs","useResizeObserved","useHideElementsInLine","items","busy","reverse","refs","length","wrapperRef","wrapperWidth","width","itemsRefs","moreRef","pop","itemsDimensions","el","parseInt","getComputedStyle","marginRight","marginLeft","offsetWidth","visibleItems","hiddenItems","calcWidth","index","push"],"sources":["../../../../../src/hooks/useHideElementsInLineDepricated/useHideElementsInLineDepricated.ts"],"sourcesContent":["import { useRef } from 'react';\n\nimport { useComponentSize } from '../useComponentSize/useComponentSize';\nimport { useRefs } from '../useRefs/useRefs';\nimport { useResizeObserved } from '../useResizeObserved/useResizeObserved';\n\nexport const useHideElementsInLine = <\n  ITEM,\n  ELEMENT extends HTMLElement = HTMLDivElement,\n  WRAPPER_ELEMENT extends HTMLElement = HTMLDivElement,\n>(\n  items: ITEM[],\n  busy = 0,\n  reverse?: boolean,\n) => {\n  const refs = useRefs<ELEMENT>(items.length + 1, items);\n  const wrapperRef = useRef<WRAPPER_ELEMENT>(null);\n  const wrapperWidth = useComponentSize(wrapperRef).width;\n  const itemsRefs = [...refs];\n  const moreRef = itemsRefs.pop();\n\n  const itemsDimensions = useResizeObserved(refs, (el) =>\n    el\n      ? parseInt(getComputedStyle(el).marginRight, 10) +\n        parseInt(getComputedStyle(el).marginLeft, 10) +\n        el.offsetWidth\n      : 0,\n  );\n\n  const visibleItems: ITEM[] = [];\n  const hiddenItems: ITEM[] = [];\n\n  if (wrapperWidth) {\n    let calcWidth = (itemsDimensions[itemsDimensions.length - 1] || 0) + busy;\n\n    if (reverse) {\n      for (let index = itemsDimensions.length - 2; index >= 0; index--) {\n        calcWidth += itemsDimensions[index];\n\n        if (calcWidth >= wrapperWidth) {\n          items[index] && hiddenItems.push(items[index]);\n\n          continue;\n        }\n        visibleItems.push(items[index]);\n      }\n    } else {\n      for (let index = 0; index < itemsDimensions.length; index++) {\n        calcWidth += itemsDimensions[index];\n\n        if (calcWidth >= wrapperWidth) {\n          items[index] && hiddenItems.push(items[index]);\n\n          continue;\n        }\n        visibleItems.push(items[index]);\n      }\n    }\n  }\n\n  if (reverse) {\n    visibleItems.reverse();\n    hiddenItems.reverse();\n  }\n\n  return {\n    visibleItems,\n    hiddenItems,\n    itemsRefs,\n    wrapperRef,\n    moreRef,\n    itemsDimensions,\n    wrapperWidth,\n  };\n};\n"],"mappings":"yEAAA,OAASA,MAAT,KAAuB,OAAvB,CAEA,OAASC,gBAAT,4CACA,OAASC,OAAT,0BACA,OAASC,iBAAT,8CAEA,MAAO,IAAMC,sBAAqB,CAAG,SAKnCC,CALmC,CAQhC,IAFHC,EAEG,wDAFI,CAEJ,CADHC,CACG,wCACGC,CAAI,CAAGN,OAAO,CAAUG,CAAK,CAACI,MAAN,CAAe,CAAzB,CAA4BJ,CAA5B,CADjB,CAEGK,CAAU,CAAGV,MAAM,CAAkB,IAAlB,CAFtB,CAGGW,CAAY,CAAGV,gBAAgB,CAACS,CAAD,CAAhB,CAA6BE,KAH/C,CAIGC,CAAS,oBAAOL,CAAP,CAJZ,CAKGM,CAAO,CAAGD,CAAS,CAACE,GAAV,EALb,CAOGC,CAAe,CAAGb,iBAAiB,CAACK,CAAD,CAAO,SAACS,CAAD,QAC9CA,EAAE,CACEC,QAAQ,CAACC,gBAAgB,CAACF,CAAD,CAAhB,CAAqBG,WAAtB,CAAmC,EAAnC,CAAR,CACAF,QAAQ,CAACC,gBAAgB,CAACF,CAAD,CAAhB,CAAqBI,UAAtB,CAAkC,EAAlC,CADR,CAEAJ,CAAE,CAACK,WAHL,CAIE,CAL0C,CAAP,CAPtC,CAeGC,CAAoB,CAAG,EAf1B,CAgBGC,CAAmB,CAAG,EAhBzB,CAkBH,GAAIb,CAAJ,CAAkB,CAChB,GAAIc,EAAS,CAAG,CAACT,CAAe,CAACA,CAAe,CAACP,MAAhB,CAAyB,CAA1B,CAAf,EAA+C,CAAhD,EAAqDH,CAArE,CAEA,GAAIC,CAAJ,CACE,IAAK,GAAImB,EAAK,CAAGV,CAAe,CAACP,MAAhB,CAAyB,CAA1C,CAAsD,CAAT,EAAAiB,CAA7C,CAAyDA,CAAK,EAA9D,CAAkE,CAGhE,GAFAD,CAAS,EAAIT,CAAe,CAACU,CAAD,CAE5B,CAAID,CAAS,EAAId,CAAjB,CAA+B,CAC7BN,CAAK,CAACqB,CAAD,CAAL,EAAgBF,CAAW,CAACG,IAAZ,CAAiBtB,CAAK,CAACqB,CAAD,CAAtB,CADa,CAG7B,QACD,CACDH,CAAY,CAACI,IAAb,CAAkBtB,CAAK,CAACqB,CAAD,CAAvB,CACD,CAVH,IAYE,KAAK,GAAIA,EAAK,CAAG,CAAjB,CAAoBA,CAAK,CAAGV,CAAe,CAACP,MAA5C,CAAoDiB,CAAK,EAAzD,CAA6D,CAG3D,GAFAD,CAAS,EAAIT,CAAe,CAACU,CAAD,CAE5B,CAAID,CAAS,EAAId,CAAjB,CAA+B,CAC7BN,CAAK,CAACqB,CAAD,CAAL,EAAgBF,CAAW,CAACG,IAAZ,CAAiBtB,CAAK,CAACqB,CAAD,CAAtB,CADa,CAG7B,QACD,CACDH,CAAY,CAACI,IAAb,CAAkBtB,CAAK,CAACqB,CAAD,CAAvB,CACD,CAEJ,CAOD,MALInB,EAKJ,GAJEgB,CAAY,CAAChB,OAAb,EAIF,CAHEiB,CAAW,CAACjB,OAAZ,EAGF,EAAO,CACLgB,YAAY,CAAZA,CADK,CAELC,WAAW,CAAXA,CAFK,CAGLX,SAAS,CAATA,CAHK,CAILH,UAAU,CAAVA,CAJK,CAKLI,OAAO,CAAPA,CALK,CAMLE,eAAe,CAAfA,CANK,CAOLL,YAAY,CAAZA,CAPK,CASR,CApEM"}