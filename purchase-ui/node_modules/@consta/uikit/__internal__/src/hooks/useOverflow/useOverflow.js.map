{"version":3,"file":"useOverflow.js","names":["useEffect","useState","useComponentSize","getMaxWidth","element","Window","outerWidth","Document","documentElement","offsetWidth","HTMLElement","current","useOverflow","props","currentRef","containerRef","isOverflow","setIsOverflow","size","container","parentElement","cs","getComputedStyle","paddingLeft","paddingTop","paddingBottom","paddingRight","padding","top","parseFloat","left","right","bottom","scrollWidth","width","height"],"sources":["../../../../../src/hooks/useOverflow/useOverflow.ts"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { useComponentSize } from '../useComponentSize/useComponentSize';\n\ntype Props = {\n  currentRef: React.RefObject<HTMLElement>;\n  containerRef?: React.RefObject<HTMLElement> | Document | Window;\n};\n\nconst getMaxWidth = (\n  element: React.RefObject<HTMLElement> | HTMLElement | Document | Window,\n): number => {\n  if (element instanceof Window) {\n    return element.outerWidth;\n  }\n  if (element instanceof Document) {\n    return element.documentElement.offsetWidth;\n  }\n  if (element instanceof HTMLElement) {\n    return element.offsetWidth;\n  }\n  if (element.current) {\n    return element.current.offsetWidth;\n  }\n  return 0;\n};\n\nexport const useOverflow = (props: Props): boolean => {\n  const { currentRef, containerRef } = props;\n\n  const [isOverflow, setIsOverflow] = useState<boolean>(false);\n\n  const size = useComponentSize(currentRef);\n\n  useEffect(() => {\n    const container = containerRef || currentRef.current?.parentElement;\n    if (container && currentRef.current) {\n      const cs =\n        container instanceof HTMLElement\n          ? getComputedStyle(container)\n          : {\n              paddingLeft: '0',\n              paddingTop: '0',\n              paddingBottom: '0',\n              paddingRight: '0',\n            };\n      const padding = {\n        top: parseFloat(cs.paddingTop),\n        left: parseFloat(cs.paddingLeft),\n        right: parseFloat(cs.paddingRight),\n        bottom: parseFloat(cs.paddingBottom),\n      };\n      if (\n        getMaxWidth(container) - padding.left - padding.right <\n        currentRef.current.scrollWidth\n      ) {\n        setIsOverflow(true);\n      } else {\n        setIsOverflow(false);\n      }\n    }\n  }, [size.width, size.height]);\n\n  return isOverflow;\n};\n"],"mappings":"iEAAA,OAAgBA,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,gBAAT,4CAOA,GAAMC,YAAW,CAAG,SAClBC,CADkB,CAEP,OACPA,EAAO,WAAYC,OADZ,CAEFD,CAAO,CAACE,UAFN,CAIPF,CAAO,WAAYG,SAJZ,CAKFH,CAAO,CAACI,eAAR,CAAwBC,WALtB,CAOPL,CAAO,WAAYM,YAPZ,CAQFN,CAAO,CAACK,WARN,CAUPL,CAAO,CAACO,OAVD,CAWFP,CAAO,CAACO,OAAR,CAAgBF,WAXd,CAaJ,CACR,CAhBD,CAkBA,MAAO,IAAMG,YAAW,CAAG,SAACC,CAAD,CAA2B,IAC5CC,EAD4C,CACfD,CADe,CAC5CC,UAD4C,CAChCC,CADgC,CACfF,CADe,CAChCE,YADgC,GAGhBd,QAAQ,IAHQ,uBAG7Ce,CAH6C,MAGjCC,CAHiC,MAK9CC,CAAI,CAAGhB,gBAAgB,CAACY,CAAD,CALuB,CAoCpD,MA7BAd,UAAS,CAAC,UAAM,OACRmB,CAAS,CAAGJ,CAAY,aAAID,CAAU,CAACH,OAAf,qBAAI,EAAoBS,aAAxB,CADhB,CAEd,GAAID,CAAS,EAAIL,CAAU,CAACH,OAA5B,CAAqC,IAC7BU,EAAE,CACNF,CAAS,WAAYT,YAArB,CACIY,gBAAgB,CAACH,CAAD,CADpB,CAEI,CACEI,WAAW,CAAE,GADf,CAEEC,UAAU,CAAE,GAFd,CAGEC,aAAa,CAAE,GAHjB,CAIEC,YAAY,CAAE,GAJhB,CAJ6B,CAU7BC,CAAO,CAAG,CACdC,GAAG,CAAEC,UAAU,CAACR,CAAE,CAACG,UAAJ,CADD,CAEdM,IAAI,CAAED,UAAU,CAACR,CAAE,CAACE,WAAJ,CAFF,CAGdQ,KAAK,CAAEF,UAAU,CAACR,CAAE,CAACK,YAAJ,CAHH,CAIdM,MAAM,CAAEH,UAAU,CAACR,CAAE,CAACI,aAAJ,CAJJ,CAVmB,CAiBjCtB,WAAW,CAACgB,CAAD,CAAX,CAAyBQ,CAAO,CAACG,IAAjC,CAAwCH,CAAO,CAACI,KAAhD,CACAjB,CAAU,CAACH,OAAX,CAAmBsB,WAlBc,CAoBjChB,CAAa,IApBoB,CAsBjCA,CAAa,IAEhB,CACF,CA3BQ,CA2BN,CAACC,CAAI,CAACgB,KAAN,CAAahB,CAAI,CAACiB,MAAlB,CA3BM,CA6BT,CAAOnB,CACR,CArCM"}