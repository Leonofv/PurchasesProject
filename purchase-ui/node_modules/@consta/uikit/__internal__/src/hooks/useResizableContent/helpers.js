import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{trackPosition}from"../../components/Slider/useSlider/helper";export var getRefsSizes=function(a,b){return a.map(function(a){var c=Object.prototype.hasOwnProperty.call(a,"current")?a:a.ref;if(c.current){var d=c.current.getBoundingClientRect(),e=d.width,f=d.height;return{width:"horizontal"===b?e:void 0,height:"horizontal"===b?void 0:f}}return{width:void 0,height:void 0}})};var getTargetBlockPosition=function(a,b,c){return a.slice(0,c).map(function(a){var c;return null!==(c="horizontal"===b?a.width:a.height)&&void 0!==c?c:0}).reduce(function(b,c){return(null!==b&&void 0!==b?b:0)+(null!==c&&void 0!==c?c:0)},0)},getNonCalcualtedSize=function(a,b,c){return a.filter(function(a,b){return c!==b&&c+1!==b}).map(function(a){var c;return null!==(c="horizontal"===b?a.width:a.height)&&void 0!==c?c:0}).reduce(function(b,c){return(null!==b&&void 0!==b?b:0)+(null!==c&&void 0!==c?c:0)},0)},getBlockMaxSizes=function(a,b,c){if(!Object.prototype.hasOwnProperty.call(a[c],"current")){var d=a[c];return["horizontal"===b?d.minWidth:d.minHeight,"horizontal"===b?d.maxWidth:d.maxHeight]}return[void 0,void 0]},getValidValues=function(a){var b=a.value,c=a.index,d=a.direction,e=a.blocks,f=a.sizes,g=a.containerHeight,h=a.containerWidth,i=("horizontal"===d?h:g)-getNonCalcualtedSize(f,d,c),j=getBlockMaxSizes(e,d,c),k=getBlockMaxSizes(e,d,c+1),l=[b,i-b],m=i-b;if(0>b||j[0]&&b<j[0]){var n,o=null!==(n=j[0])&&void 0!==n?n:0;l=[o,i-o]}if(b>i||j[1]&&b>j[1]){var p,q=null!==(p=j[1])&&void 0!==p?p:i;l=[q,i-q]}if(k[0]&&m<k[0]){var r,s=null!==(r=k[0])&&void 0!==r?r:0;l=[i-s,s]}if(k[1]&&m>k[1]){var t,u=null!==(t=k[1])&&void 0!==t?t:i;l=[i-u,u]}return l};export var getCalcaulatedSizes=function(a){var b=a.event,c=a.index,d=a.sizes,e=a.container,f=a.direction,g=a.blocks,h=trackPosition(b);if(h){var i,j,k=null!==(i=null===(j=e.current)||void 0===j?void 0:j.getBoundingClientRect())&&void 0!==i?i:{left:0,top:0},l=k.left,m=k.top,n=k.width,o=k.height,p=getTargetBlockPosition(d,f,c),q="horizontal"===f?h.x-l-p:h.y-m-p,r=getValidValues({value:q,index:c,containerHeight:null!==o&&void 0!==o?o:0,containerWidth:null!==n&&void 0!==n?n:0,sizes:d,blocks:g,direction:f}),s=_slicedToArray(r,2),t=s[0],u=s[1];return[{width:"horizontal"===f?t:d[c].width,height:"horizontal"===f?d[c].height:t},{width:"horizontal"===f?u:d[c+1].width,height:"horizontal"===f?d[c+1].height:u}]}return[d[c],d[c+1]]};
//# sourceMappingURL=helpers.js.map