import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{useCallback,useEffect,useMemo,useRef,useState}from"react";import{getCalcaulatedSizes,getRefsSizes}from"./helpers";export var useResizableContent=function(a){var b=a.blocks,c=a.direction,d=void 0===c?"horizontal":c,e=a.container,f=a.isActive,g=useRef(null),h=useState(getRefsSizes(b,d)),i=_slicedToArray(h,2),j=i[0],k=i[1],l=useCallback(function(a){var b="add"===a?"addEventListener":"removeEventListener";document[b]("mouseup",n),document[b]("touchend",n),document[b]("mousemove",m),document[b]("touchmove",m)},[]),m=useCallback(function(a){var c=g.current;"number"==typeof c&&k(function(f){var g=_toConsumableArray(f),h=getCalcaulatedSizes({event:a,index:c,direction:d,blocks:b,container:e,sizes:g}),i=_slicedToArray(h,2),j=i[0],k=i[1];return g[c]=j,g[c+1]=k,g})},[e,d,b]),n=useCallback(function(){l("remove"),g.current=null},[]),o=useCallback(function(a){g.current=a,l("add")},[]),p=useMemo(function(){return Array.from({length:b.length-1}).map(function(a,b){return{onMouseDown:function onMouseDown(){return f?o(b):void 0},onTouchStart:function onTouchStart(){return f?o(b):void 0}}})},[b,d,e,f]);return useEffect(function(){f&&k(getRefsSizes(b,d))},[b,d,f]),useEffect(function(){f||n()},[f]),{handlers:p,sizes:j}};
//# sourceMappingURL=useResizableContent.js.map