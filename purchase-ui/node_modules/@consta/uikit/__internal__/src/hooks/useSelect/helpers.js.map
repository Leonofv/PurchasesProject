{"version":3,"file":"helpers.js","names":["React","scrollIntoView","useHoistedState","initialState","reducerRef","useRef","old","newState","useState","state","_setState","setState","useCallback","updater","action","Error","current","scrollToIndex","index","dropdownRef","elements","querySelectorAll"],"sources":["../../../../../src/hooks/useSelect/helpers.ts"],"sourcesContent":["import React from 'react';\n\nimport { scrollIntoView } from '../../utils/scrollIntoView';\n\n// useHoistedState\n\ntype State = {\n  searchValue: string;\n  resolvedSearchValue: string;\n  isOpen: boolean;\n  highlightedIndex: number;\n  scrollToHighlighted: boolean;\n};\ntype Action = string;\ntype Reducer = (state: State, newState: State, action: Action) => State;\ntype Updater = (state: State) => State;\n\nexport function useHoistedState(\n  initialState: State,\n): [State, (updater: Updater, action: Action) => void] {\n  const reducerRef = React.useRef<Reducer>((old, newState) => newState);\n  const [state, _setState] = React.useState<State>(initialState);\n  const setState = React.useCallback(\n    (updater: Updater, action: Action) => {\n      if (!action) {\n        throw new Error('An action type is required to update the state');\n      }\n      return _setState((old) => reducerRef.current(old, updater(old), action));\n    },\n    [_setState],\n  );\n  return [state, setState];\n}\n\n// scrollToIndex\n\ntype ScrollToIndexFunctionType = (\n  optionIndex: number,\n  dropdownRef: React.MutableRefObject<HTMLDivElement | null>,\n) => void;\n\nexport const scrollToIndex: ScrollToIndexFunctionType = (\n  index,\n  dropdownRef,\n): void => {\n  if (!dropdownRef.current) {\n    return;\n  }\n\n  const elements: NodeListOf<HTMLDivElement> =\n    dropdownRef.current.querySelectorAll('div[role=option]');\n\n  scrollIntoView(elements[index], dropdownRef.current);\n};\n"],"mappings":"iEAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,cAAT,kCAeA,MAAO,SAASC,gBAAT,CACLC,CADK,CAEgD,IAC/CC,EAAU,CAAGJ,KAAK,CAACK,MAAN,CAAsB,SAACC,CAAD,CAAMC,CAAN,QAAmBA,EAAnB,CAAtB,CADkC,GAE1BP,KAAK,CAACQ,QAAN,CAAsBL,CAAtB,CAF0B,uBAE9CM,CAF8C,MAEvCC,CAFuC,MAG/CC,CAAQ,CAAGX,KAAK,CAACY,WAAN,CACf,SAACC,CAAD,CAAmBC,CAAnB,CAAsC,CACpC,GAAI,CAACA,CAAL,CACE,KAAM,IAAIC,MAAJ,CAAU,gDAAV,CAAN,CAEF,MAAOL,EAAS,CAAC,SAACJ,CAAD,QAASF,EAAU,CAACY,OAAX,CAAmBV,CAAnB,CAAwBO,CAAO,CAACP,CAAD,CAA/B,CAAsCQ,CAAtC,CAAT,CAAD,CACjB,CANc,CAOf,CAACJ,CAAD,CAPe,CAHoC,CAYrD,MAAO,CAACD,CAAD,CAAQE,CAAR,CACR,CASD,MAAO,IAAMM,cAAwC,CAAG,SACtDC,CADsD,CAEtDC,CAFsD,CAG7C,CACT,GAAKA,CAAW,CAACH,OAAjB,EAIA,GAAMI,EAAoC,CACxCD,CAAW,CAACH,OAAZ,CAAoBK,gBAApB,CAAqC,kBAArC,CADF,CAGApB,cAAc,CAACmB,CAAQ,CAACF,CAAD,CAAT,CAAkBC,CAAW,CAACH,OAA9B,CAPd,CAQD,CAZM"}