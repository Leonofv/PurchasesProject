{"version":3,"file":"useThemeVars.js","names":["useMemo","cnTheme","useTheme","getStyleProps","defaultVars","addElements","elements","index","length","mods","element","document","createElement","setAttribute","body","append","push","removeElements","array","removeChild","useThemeVars","options","variables","vars","theme","color","primary","accent","invert","themeVars","control","font","size","space","shadow","deps"],"sources":["../../../../../src/hooks/useThemeVars/useThemeVars.ts"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport { useMemo } from 'react';\n\nimport { cnTheme, useTheme } from '##/components/Theme/Theme';\nimport { getStyleProps } from '##/hooks/useStyleProps';\n\nimport { defaultVars } from './helpers';\n\nexport type Vars = {\n  readonly color: {\n    readonly primary: readonly string[];\n    readonly accent: readonly string[];\n    readonly invert: readonly string[];\n  };\n  readonly control: readonly string[];\n  readonly font: readonly string[];\n  readonly size: readonly string[];\n  readonly space: readonly string[];\n  readonly shadow: readonly string[];\n};\n\nexport type ThemeVars<T extends Vars = typeof defaultVars> = {\n  color: {\n    primary: { [key in T['color']['primary'][number]]: string };\n    accent: { [key in T['color']['accent'][number]]: string };\n    invert: { [key in T['color']['invert'][number]]: string };\n  };\n  control: { [key in T['control'][number]]: string };\n  font: { [key in T['font'][number]]: string };\n  size: { [key in T['size'][number]]: string };\n  space: { [key in T['space'][number]]: string };\n  shadow: { [key in T['shadow'][number]]: string };\n};\n\ntype UseThemeVarsOptions<T> = {\n  vars?: T;\n  deps?: [];\n};\n\nconst addElements = (...array: {}[]): HTMLDivElement[] => {\n  const elements: HTMLDivElement[] = [];\n  for (let index = 0; index < array.length; index++) {\n    const mods = array[index];\n    const element = document.createElement('div');\n    element.setAttribute('class', cnTheme(mods));\n    document.body.append(element);\n    elements.push(element);\n  }\n  return elements;\n};\n\nconst removeElements = (array: HTMLDivElement[]) => {\n  for (let index = 0; index < array.length; index++) {\n    document.body.removeChild(array[index]);\n  }\n};\n\nexport const useThemeVars = <T extends Vars = typeof defaultVars>(\n  options?: UseThemeVarsOptions<T>,\n) => {\n  const variables = options?.vars || defaultVars;\n\n  const { theme } = useTheme();\n\n  return useMemo(() => {\n    const elements = addElements(\n      {\n        ...theme,\n        color: theme.color.primary,\n      },\n      { color: theme.color.accent },\n      { color: theme.color.invert },\n    );\n\n    const themeVars = {\n      color: {\n        primary: getStyleProps(elements[0], variables.color.primary),\n        accent: getStyleProps(elements[1], variables.color.accent),\n        invert: getStyleProps(elements[2], variables.color.invert),\n      },\n      control: getStyleProps(elements[0], variables.control),\n      font: getStyleProps(elements[0], variables.font),\n      size: getStyleProps(elements[0], variables.size),\n      space: getStyleProps(elements[0], variables.space),\n      shadow: getStyleProps(elements[0], variables.shadow),\n    } as ThemeVars<T>;\n\n    removeElements(elements);\n\n    return themeVars;\n  }, [\n    theme.color.primary,\n    theme.color.accent,\n    theme.color.invert,\n    theme.control,\n    theme.font,\n    theme.size,\n    theme.space,\n    theme.shadow,\n    ...(options?.deps ? options.deps : []),\n  ]);\n};\n"],"mappings":"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"}