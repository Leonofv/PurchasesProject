import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _defineProperty from"@babel/runtime/helpers/defineProperty";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import{useEffect,useRef,useState}from"react";var initialConfig={interval:1e3,endTime:null,startTime:0,timerType:"INCREMENTAL"};function getTimeIsOver(a,b,c){return null!==c&&("INCREMENTAL"===a?b>=c:b<=c)}export function useTimer(a){var b=_objectSpread(_objectSpread({},initialConfig),a),c=b.endTime,d=b.startTime,e=b.interval,f=b.timerType,g=b.onTimeOver,h=useRef(null),i=useRef(null),j=useState(!1),k=_slicedToArray(j,2),l=k[0],m=k[1],n=useState(d),o=_slicedToArray(n,2),p=o[0],q=o[1],r=useState(!1),s=_slicedToArray(r,2),t=s[0],u=s[1],v=function(){h.current&&(clearInterval(h.current),h.current=null,u(!1))},w=function(){q(d)},x=function(){u(!0),h.current=window.setInterval(function(){q(function(a){var b="INCREMENTAL"===f?a+e:a-e;return b})},e)};return useEffect(function(){return v(),function(){h.current&&clearInterval(h.current)}},[]),useEffect(function timerOver(){getTimeIsOver(f,p,c)&&(m(!0),v(),"function"==typeof g&&g())},[f,p,c]),{isRunning:t,pause:function pause(){i.current=p,v()},reset:function reset(){i.current=null,v(),w()},start:function start(){h.current||(l&&(w(),m(!1)),x())},time:p}}
//# sourceMappingURL=useTimer.js.map