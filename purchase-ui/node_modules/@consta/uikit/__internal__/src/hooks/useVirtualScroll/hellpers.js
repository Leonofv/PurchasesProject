import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import{useCallback,useEffect}from"react";import{getElementSize}from"../useComponentSize";import{useMutableRef}from"../useMutableRef";export var defaultItemsCalculationCount=5;export var arraysIsEq=function(a,b){return a.join("-")===b.join("-")};export var useScroll=function(a,b,c){useEffect(function(){if(c){var d;null===(d=a.current)||void 0===d?void 0:d.addEventListener("scroll",b)}return function(){var c;null===(c=a.current)||void 0===c?void 0:c.removeEventListener("scroll",b)}},[a.current,b,c])};export var getElementHeight=function(a){return getElementSize(a).height};var roundPositionByGap=function(a,b){return 0>=a?0:Math.ceil(a/b)*b};export var getVisiblePosition=function(a,b,c){var d=b>c*defaultItemsCalculationCount?1.5*b:c*defaultItemsCalculationCount,e=[Math.ceil(roundPositionByGap(a-d,b)),Math.ceil(roundPositionByGap(0===a?d:a+d,b))];return e};export var calculateSavedSizes=function(a,b){for(var c,d=_toConsumableArray(a),e=0;e<b.length;e++)c=b[e],0<c&&(d[e]=c);return d};export var useCalculateVisiblePosition=function(a,b,c){var d=useMutableRef(Math.max.apply(null,c));return useCallback(function(){if(a){var c=getVisiblePosition(a.scrollTop,getElementHeight(a),d.current);b(function(a){return c[0]!==a[0]||c[1]!==a[1]?c:a})}},[a,b])};var addCount=function(a,b,c){for(var d=c.slice(-50),e=d.reduce(function(c,a){return c+a},0)/d.length,f=defaultItemsCalculationCount;b[1]>=a[1]+f*e;)f+=defaultItemsCalculationCount;return f};export var calculateBounds=function(a,b,c,d){for(var e=[0,0],f=[0,0],g=0;g<a.length;g++)c[0]>e[0]&&(e[0]+=a[g],f[0]=g+1),c[1]>e[1]&&(e[1]+=a[g],f[1]=g+1);return 0===f[0]&&0===f[1]&&(f[1]=defaultItemsCalculationCount),b.length!==a.length&&(f[1]+=addCount(e,c,a)),f[1]>d&&(f[1]=d),[e,f]};
//# sourceMappingURL=hellpers.js.map